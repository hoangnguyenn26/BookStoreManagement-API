2025-05-21 13:54:59.541 +07:00 [WRN] (Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware) The WebRootPath was not found: C:\Users\Nguyn\Desktop\Đồ án tốt nghiệp\BookStoreManagement\src\Bookstore.Api\wwwroot. Static files may be unavailable.
2025-05-21 13:54:59.852 +07:00 [INF] (Microsoft.Hosting.Lifetime) Now listening on: https://localhost:7264
2025-05-21 13:54:59.854 +07:00 [INF] (Microsoft.Hosting.Lifetime) Now listening on: http://localhost:5244
2025-05-21 13:55:00.057 +07:00 [INF] (Microsoft.Hosting.Lifetime) Application started. Press Ctrl+C to shut down.
2025-05-21 13:55:00.061 +07:00 [INF] (Microsoft.Hosting.Lifetime) Hosting environment: Development
2025-05-21 13:55:00.065 +07:00 [INF] (Microsoft.Hosting.Lifetime) Content root path: C:\Users\Nguyn\Desktop\Đồ án tốt nghiệp\BookStoreManagement\src\Bookstore.Api
2025-05-21 13:55:39.983 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetching home dashboard data.
2025-05-21 13:55:41.000 +07:00 [WRN] (Microsoft.EntityFrameworkCore.Model) No instantiatable types implementing `IEntityTypeConfiguration` were found while while scanning assembly 'Bookstore.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null'.
2025-05-21 13:55:41.129 +07:00 [WRN] (Microsoft.EntityFrameworkCore.Model.Validation) Entity 'Book' has a global query filter defined and is the required end of a relationship with the entity 'CartItem'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2025-05-21 13:55:41.131 +07:00 [WRN] (Microsoft.EntityFrameworkCore.Model.Validation) Entity 'Book' has a global query filter defined and is the required end of a relationship with the entity 'InventoryLog'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2025-05-21 13:55:41.134 +07:00 [WRN] (Microsoft.EntityFrameworkCore.Model.Validation) Entity 'Book' has a global query filter defined and is the required end of a relationship with the entity 'OrderDetail'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2025-05-21 13:55:41.136 +07:00 [WRN] (Microsoft.EntityFrameworkCore.Model.Validation) Entity 'Book' has a global query filter defined and is the required end of a relationship with the entity 'Review'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2025-05-21 13:55:41.138 +07:00 [WRN] (Microsoft.EntityFrameworkCore.Model.Validation) Entity 'Book' has a global query filter defined and is the required end of a relationship with the entity 'StockReceiptDetail'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2025-05-21 13:55:41.140 +07:00 [WRN] (Microsoft.EntityFrameworkCore.Model.Validation) Entity 'Book' has a global query filter defined and is the required end of a relationship with the entity 'WishlistItem'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2025-05-21 13:55:41.151 +07:00 [WRN] (Microsoft.EntityFrameworkCore.Model.Validation) Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-05-21 13:55:42.269 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (56ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit)
ORDER BY [b].[CreatedAtUtc] DESC
2025-05-21 13:55:42.324 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetched 10 newest books.
2025-05-21 13:55:42.481 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (35ms) [Parameters=[@__p_2='5', @__inclusiveStartDate_0='2025-04-21T00:00:00.0000000Z', @__inclusiveEndDate_1='2025-05-22T00:00:00.0000000Z'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[BookId], [b2].[Title] AS [BookTitle], [s].[TotalQuantitySold]
FROM (
    SELECT TOP(@__p_2) [o].[BookId], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold]
    FROM [OrderDetails] AS [o]
    INNER JOIN [Orders] AS [o0] ON [o].[OrderId] = [o0].[Id]
    INNER JOIN (
        SELECT [b].[Id], [b].[IsDeleted]
        FROM [Books] AS [b]
        WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ) AS [b0] ON [o].[BookId] = [b0].[Id]
    WHERE [o0].[Status] = CAST(3 AS tinyint) AND [o0].[OrderDate] >= @__inclusiveStartDate_0 AND [o0].[OrderDate] < @__inclusiveEndDate_1 AND [b0].[IsDeleted] = CAST(0 AS bit)
    GROUP BY [o].[BookId]
    ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC
) AS [s]
INNER JOIN (
    SELECT [b1].[Id], [b1].[Title]
    FROM [Books] AS [b1]
    WHERE [b1].[IsDeleted] = CAST(0 AS bit)
) AS [b2] ON [s].[BookId] = [b2].[Id]
ORDER BY [s].[TotalQuantitySold] DESC
2025-05-21 13:55:42.541 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (9ms) [Parameters=[@__bestsellerBookIds_0='["ba80e2b5-b426-44eb-acfa-06315f9fcb6b","c191919e-e763-4e03-9e2b-24d944f4d401","39f2e54f-3480-424d-9611-a9b9097314a9","6c50f852-d8c7-4ef9-a26a-c9d292ef9108","6d858026-d70a-4441-8837-01f8d972cb26"]' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Id] IN (
    SELECT [b0].[value]
    FROM OPENJSON(@__bestsellerBookIds_0) WITH ([value] uniqueidentifier '$') AS [b0]
) AND [b].[IsDeleted] = CAST(0 AS bit)
2025-05-21 13:55:42.550 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetched 5 bestselling books.
2025-05-21 13:55:42.569 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (5ms) [Parameters=[@__currentDate_0='2025-05-21T06:55:42.5537218Z', @__currentDate_1='2025-05-21T06:55:42.5537218Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Code], [p].[CreatedAtUtc], [p].[CurrentUsage], [p].[Description], [p].[DiscountAmount], [p].[DiscountPercentage], [p].[EndDate], [p].[IsActive], [p].[MaxUsage], [p].[StartDate], [p].[UpdatedAtUtc]
FROM [Promotions] AS [p]
WHERE [p].[IsActive] = CAST(1 AS bit) AND [p].[StartDate] <= @__currentDate_0 AND ([p].[EndDate] IS NULL OR [p].[EndDate] >= @__currentDate_1) AND ([p].[MaxUsage] IS NULL OR [p].[CurrentUsage] < [p].[MaxUsage])
ORDER BY [p].[EndDate]
2025-05-21 13:55:42.596 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[ParentCategoryId] IS NULL AND [c].[IsDeleted] = CAST(0 AS bit)
ORDER BY [c].[Name]
2025-05-21 13:55:42.603 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Successfully fetched home dashboard data.
2025-05-21 13:57:34.205 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetching home dashboard data.
2025-05-21 13:57:34.251 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit)
ORDER BY [b].[CreatedAtUtc] DESC
2025-05-21 13:57:34.256 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetched 10 newest books.
2025-05-21 13:57:34.264 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (6ms) [Parameters=[@__p_2='5', @__inclusiveStartDate_0='2025-04-21T00:00:00.0000000Z', @__inclusiveEndDate_1='2025-05-22T00:00:00.0000000Z'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[BookId], [b2].[Title] AS [BookTitle], [s].[TotalQuantitySold]
FROM (
    SELECT TOP(@__p_2) [o].[BookId], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold]
    FROM [OrderDetails] AS [o]
    INNER JOIN [Orders] AS [o0] ON [o].[OrderId] = [o0].[Id]
    INNER JOIN (
        SELECT [b].[Id], [b].[IsDeleted]
        FROM [Books] AS [b]
        WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ) AS [b0] ON [o].[BookId] = [b0].[Id]
    WHERE [o0].[Status] = CAST(3 AS tinyint) AND [o0].[OrderDate] >= @__inclusiveStartDate_0 AND [o0].[OrderDate] < @__inclusiveEndDate_1 AND [b0].[IsDeleted] = CAST(0 AS bit)
    GROUP BY [o].[BookId]
    ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC
) AS [s]
INNER JOIN (
    SELECT [b1].[Id], [b1].[Title]
    FROM [Books] AS [b1]
    WHERE [b1].[IsDeleted] = CAST(0 AS bit)
) AS [b2] ON [s].[BookId] = [b2].[Id]
ORDER BY [s].[TotalQuantitySold] DESC
2025-05-21 13:57:34.272 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@__bestsellerBookIds_0='["ba80e2b5-b426-44eb-acfa-06315f9fcb6b","c191919e-e763-4e03-9e2b-24d944f4d401","39f2e54f-3480-424d-9611-a9b9097314a9","6c50f852-d8c7-4ef9-a26a-c9d292ef9108","6d858026-d70a-4441-8837-01f8d972cb26"]' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Id] IN (
    SELECT [b0].[value]
    FROM OPENJSON(@__bestsellerBookIds_0) WITH ([value] uniqueidentifier '$') AS [b0]
) AND [b].[IsDeleted] = CAST(0 AS bit)
2025-05-21 13:57:34.276 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetched 5 bestselling books.
2025-05-21 13:57:34.280 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__currentDate_0='2025-05-21T06:57:34.2773342Z', @__currentDate_1='2025-05-21T06:57:34.2773342Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Code], [p].[CreatedAtUtc], [p].[CurrentUsage], [p].[Description], [p].[DiscountAmount], [p].[DiscountPercentage], [p].[EndDate], [p].[IsActive], [p].[MaxUsage], [p].[StartDate], [p].[UpdatedAtUtc]
FROM [Promotions] AS [p]
WHERE [p].[IsActive] = CAST(1 AS bit) AND [p].[StartDate] <= @__currentDate_0 AND ([p].[EndDate] IS NULL OR [p].[EndDate] >= @__currentDate_1) AND ([p].[MaxUsage] IS NULL OR [p].[CurrentUsage] < [p].[MaxUsage])
ORDER BY [p].[EndDate]
2025-05-21 13:57:34.286 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[ParentCategoryId] IS NULL AND [c].[IsDeleted] = CAST(0 AS bit)
ORDER BY [c].[Name]
2025-05-21 13:57:34.289 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Successfully fetched home dashboard data.
2025-05-21 13:58:36.946 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (7ms) [Parameters=[@__email_0='Admin' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u1].[Id], [u1].[CreatedAtUtc], [u1].[Email], [u1].[FirstName], [u1].[IsActive], [u1].[LastName], [u1].[PasswordHash], [u1].[PhoneNumber], [u1].[UpdatedAtUtc], [u1].[UserName], [s].[UserId], [s].[RoleId], [s].[Id], [s].[CreatedAtUtc], [s].[Name], [s].[UpdatedAtUtc]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName]
    FROM [Users] AS [u]
    WHERE [u].[Email] = @__email_0
) AS [u1]
LEFT JOIN (
    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[CreatedAtUtc], [r].[Name], [r].[UpdatedAtUtc]
    FROM [UserRoles] AS [u0]
    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
) AS [s] ON [u1].[Id] = [s].[UserId]
ORDER BY [u1].[Id], [s].[UserId], [s].[RoleId]
2025-05-21 13:58:36.981 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (5ms) [Parameters=[@__username_0='Admin' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u1].[Id], [u1].[CreatedAtUtc], [u1].[Email], [u1].[FirstName], [u1].[IsActive], [u1].[LastName], [u1].[PasswordHash], [u1].[PhoneNumber], [u1].[UpdatedAtUtc], [u1].[UserName], [s].[UserId], [s].[RoleId], [s].[Id], [s].[CreatedAtUtc], [s].[Name], [s].[UpdatedAtUtc]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName]
    FROM [Users] AS [u]
    WHERE [u].[UserName] = @__username_0
) AS [u1]
LEFT JOIN (
    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[CreatedAtUtc], [r].[Name], [r].[UpdatedAtUtc]
    FROM [UserRoles] AS [u0]
    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
) AS [s] ON [u1].[Id] = [s].[UserId]
ORDER BY [u1].[Id], [s].[UserId], [s].[RoleId]
2025-05-21 13:58:37.532 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__userId_0='f54527eb-f806-40db-bf76-c7b0e5fa6d39'], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Name]
FROM [UserRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0
2025-05-21 13:58:37.667 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetching home dashboard data.
2025-05-21 13:58:37.674 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit)
ORDER BY [b].[CreatedAtUtc] DESC
2025-05-21 13:58:37.678 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetched 10 newest books.
2025-05-21 13:58:37.688 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (8ms) [Parameters=[@__p_2='5', @__inclusiveStartDate_0='2025-04-21T00:00:00.0000000Z', @__inclusiveEndDate_1='2025-05-22T00:00:00.0000000Z'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[BookId], [b2].[Title] AS [BookTitle], [s].[TotalQuantitySold]
FROM (
    SELECT TOP(@__p_2) [o].[BookId], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold]
    FROM [OrderDetails] AS [o]
    INNER JOIN [Orders] AS [o0] ON [o].[OrderId] = [o0].[Id]
    INNER JOIN (
        SELECT [b].[Id], [b].[IsDeleted]
        FROM [Books] AS [b]
        WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ) AS [b0] ON [o].[BookId] = [b0].[Id]
    WHERE [o0].[Status] = CAST(3 AS tinyint) AND [o0].[OrderDate] >= @__inclusiveStartDate_0 AND [o0].[OrderDate] < @__inclusiveEndDate_1 AND [b0].[IsDeleted] = CAST(0 AS bit)
    GROUP BY [o].[BookId]
    ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC
) AS [s]
INNER JOIN (
    SELECT [b1].[Id], [b1].[Title]
    FROM [Books] AS [b1]
    WHERE [b1].[IsDeleted] = CAST(0 AS bit)
) AS [b2] ON [s].[BookId] = [b2].[Id]
ORDER BY [s].[TotalQuantitySold] DESC
2025-05-21 13:58:37.697 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (5ms) [Parameters=[@__bestsellerBookIds_0='["ba80e2b5-b426-44eb-acfa-06315f9fcb6b","c191919e-e763-4e03-9e2b-24d944f4d401","39f2e54f-3480-424d-9611-a9b9097314a9","6c50f852-d8c7-4ef9-a26a-c9d292ef9108","6d858026-d70a-4441-8837-01f8d972cb26"]' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Id] IN (
    SELECT [b0].[value]
    FROM OPENJSON(@__bestsellerBookIds_0) WITH ([value] uniqueidentifier '$') AS [b0]
) AND [b].[IsDeleted] = CAST(0 AS bit)
2025-05-21 13:58:37.701 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetched 5 bestselling books.
2025-05-21 13:58:37.706 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__currentDate_0='2025-05-21T06:58:37.7024214Z', @__currentDate_1='2025-05-21T06:58:37.7024214Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Code], [p].[CreatedAtUtc], [p].[CurrentUsage], [p].[Description], [p].[DiscountAmount], [p].[DiscountPercentage], [p].[EndDate], [p].[IsActive], [p].[MaxUsage], [p].[StartDate], [p].[UpdatedAtUtc]
FROM [Promotions] AS [p]
WHERE [p].[IsActive] = CAST(1 AS bit) AND [p].[StartDate] <= @__currentDate_0 AND ([p].[EndDate] IS NULL OR [p].[EndDate] >= @__currentDate_1) AND ([p].[MaxUsage] IS NULL OR [p].[CurrentUsage] < [p].[MaxUsage])
ORDER BY [p].[EndDate]
2025-05-21 13:58:37.711 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[ParentCategoryId] IS NULL AND [c].[IsDeleted] = CAST(0 AS bit)
ORDER BY [c].[Name]
2025-05-21 13:58:37.715 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Successfully fetched home dashboard data.
2025-05-21 13:58:52.210 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__p_0='707f89a4-da65-4b5e-a890-485a3b929301' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__p_0
2025-05-21 13:58:52.272 +07:00 [WRN] (Bookstore.Infrastructure.Services.GoogleCloudStorageService) DEBUG: GOOGLE_APPLICATION_CREDENTIALS value read: 'D:\imagekey\imagestorage-458109-d1f00cf95c5c.json'
2025-05-21 13:58:52.274 +07:00 [WRN] (Bookstore.Infrastructure.Services.GoogleCloudStorageService) DEBUG: Checking if file exists at path: 'true'
2025-05-21 13:58:52.275 +07:00 [WRN] (Bookstore.Infrastructure.Services.GoogleCloudStorageService) DEBUG: Parsed Path as URI successfully: D:\imagekey\imagestorage-458109-d1f00cf95c5c.json
2025-05-21 13:58:52.289 +07:00 [WRN] (Bookstore.Infrastructure.Services.GoogleCloudStorageService) DEBUG: Successfully read content from credential file.
2025-05-21 13:58:52.839 +07:00 [INF] (Bookstore.Infrastructure.Services.GoogleCloudStorageService) Google Cloud Storage client created successfully using Application Default Credentials or Environment Variable.
2025-05-21 13:58:52.925 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (5ms) [Parameters=[@__catId_0='707f89a4-da65-4b5e-a890-485a3b929301', @__p_1='0', @__p_2='20'], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[CategoryId] = @__catId_0
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [b0]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b0].[CategoryId] = [c0].[Id]
ORDER BY [b0].[CreatedAtUtc] DESC
2025-05-21 13:59:00.950 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__p_0='0', @__p_1='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit)
ORDER BY [c].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-21 13:59:25.637 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetching home dashboard data.
2025-05-21 13:59:25.642 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit)
ORDER BY [b].[CreatedAtUtc] DESC
2025-05-21 13:59:25.646 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetched 10 newest books.
2025-05-21 13:59:25.654 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (6ms) [Parameters=[@__p_2='5', @__inclusiveStartDate_0='2025-04-21T00:00:00.0000000Z', @__inclusiveEndDate_1='2025-05-22T00:00:00.0000000Z'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[BookId], [b2].[Title] AS [BookTitle], [s].[TotalQuantitySold]
FROM (
    SELECT TOP(@__p_2) [o].[BookId], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold]
    FROM [OrderDetails] AS [o]
    INNER JOIN [Orders] AS [o0] ON [o].[OrderId] = [o0].[Id]
    INNER JOIN (
        SELECT [b].[Id], [b].[IsDeleted]
        FROM [Books] AS [b]
        WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ) AS [b0] ON [o].[BookId] = [b0].[Id]
    WHERE [o0].[Status] = CAST(3 AS tinyint) AND [o0].[OrderDate] >= @__inclusiveStartDate_0 AND [o0].[OrderDate] < @__inclusiveEndDate_1 AND [b0].[IsDeleted] = CAST(0 AS bit)
    GROUP BY [o].[BookId]
    ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC
) AS [s]
INNER JOIN (
    SELECT [b1].[Id], [b1].[Title]
    FROM [Books] AS [b1]
    WHERE [b1].[IsDeleted] = CAST(0 AS bit)
) AS [b2] ON [s].[BookId] = [b2].[Id]
ORDER BY [s].[TotalQuantitySold] DESC
2025-05-21 13:59:25.662 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@__bestsellerBookIds_0='["ba80e2b5-b426-44eb-acfa-06315f9fcb6b","c191919e-e763-4e03-9e2b-24d944f4d401","39f2e54f-3480-424d-9611-a9b9097314a9","6c50f852-d8c7-4ef9-a26a-c9d292ef9108","6d858026-d70a-4441-8837-01f8d972cb26"]' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Id] IN (
    SELECT [b0].[value]
    FROM OPENJSON(@__bestsellerBookIds_0) WITH ([value] uniqueidentifier '$') AS [b0]
) AND [b].[IsDeleted] = CAST(0 AS bit)
2025-05-21 13:59:25.665 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetched 5 bestselling books.
2025-05-21 13:59:25.670 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__currentDate_0='2025-05-21T06:59:25.6669091Z', @__currentDate_1='2025-05-21T06:59:25.6669091Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Code], [p].[CreatedAtUtc], [p].[CurrentUsage], [p].[Description], [p].[DiscountAmount], [p].[DiscountPercentage], [p].[EndDate], [p].[IsActive], [p].[MaxUsage], [p].[StartDate], [p].[UpdatedAtUtc]
FROM [Promotions] AS [p]
WHERE [p].[IsActive] = CAST(1 AS bit) AND [p].[StartDate] <= @__currentDate_0 AND ([p].[EndDate] IS NULL OR [p].[EndDate] >= @__currentDate_1) AND ([p].[MaxUsage] IS NULL OR [p].[CurrentUsage] < [p].[MaxUsage])
ORDER BY [p].[EndDate]
2025-05-21 13:59:25.676 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[ParentCategoryId] IS NULL AND [c].[IsDeleted] = CAST(0 AS bit)
ORDER BY [c].[Name]
2025-05-21 13:59:25.679 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Successfully fetched home dashboard data.
2025-05-21 13:59:28.960 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__p_0='0', @__p_1='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit)
ORDER BY [c].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-21 13:59:29.766 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='707f89a4-da65-4b5e-a890-485a3b929301' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__p_0
2025-05-21 13:59:29.779 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__catId_0='707f89a4-da65-4b5e-a890-485a3b929301', @__p_1='0', @__p_2='20'], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[CategoryId] = @__catId_0
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [b0]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b0].[CategoryId] = [c0].[Id]
ORDER BY [b0].[CreatedAtUtc] DESC
2025-05-21 13:59:31.573 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='c5d67bd0-b985-429b-8761-abaa265ad192' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__p_0
2025-05-21 13:59:31.586 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__catId_0='c5d67bd0-b985-429b-8761-abaa265ad192', @__p_1='0', @__p_2='20'], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[CategoryId] = @__catId_0
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [b0]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b0].[CategoryId] = [c0].[Id]
ORDER BY [b0].[CreatedAtUtc] DESC
2025-05-21 13:59:34.782 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='da2a34a1-f94b-4610-818a-8b1d0564f01b' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__p_0
2025-05-21 13:59:34.786 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__catId_0='da2a34a1-f94b-4610-818a-8b1d0564f01b', @__p_1='0', @__p_2='20'], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[CategoryId] = @__catId_0
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [b0]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b0].[CategoryId] = [c0].[Id]
ORDER BY [b0].[CreatedAtUtc] DESC
2025-05-21 13:59:39.282 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetching home dashboard data.
2025-05-21 13:59:39.284 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit)
ORDER BY [b].[CreatedAtUtc] DESC
2025-05-21 13:59:39.288 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetched 10 newest books.
2025-05-21 13:59:39.291 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_2='5', @__inclusiveStartDate_0='2025-04-21T00:00:00.0000000Z', @__inclusiveEndDate_1='2025-05-22T00:00:00.0000000Z'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[BookId], [b2].[Title] AS [BookTitle], [s].[TotalQuantitySold]
FROM (
    SELECT TOP(@__p_2) [o].[BookId], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold]
    FROM [OrderDetails] AS [o]
    INNER JOIN [Orders] AS [o0] ON [o].[OrderId] = [o0].[Id]
    INNER JOIN (
        SELECT [b].[Id], [b].[IsDeleted]
        FROM [Books] AS [b]
        WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ) AS [b0] ON [o].[BookId] = [b0].[Id]
    WHERE [o0].[Status] = CAST(3 AS tinyint) AND [o0].[OrderDate] >= @__inclusiveStartDate_0 AND [o0].[OrderDate] < @__inclusiveEndDate_1 AND [b0].[IsDeleted] = CAST(0 AS bit)
    GROUP BY [o].[BookId]
    ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC
) AS [s]
INNER JOIN (
    SELECT [b1].[Id], [b1].[Title]
    FROM [Books] AS [b1]
    WHERE [b1].[IsDeleted] = CAST(0 AS bit)
) AS [b2] ON [s].[BookId] = [b2].[Id]
ORDER BY [s].[TotalQuantitySold] DESC
2025-05-21 13:59:39.298 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__bestsellerBookIds_0='["ba80e2b5-b426-44eb-acfa-06315f9fcb6b","c191919e-e763-4e03-9e2b-24d944f4d401","39f2e54f-3480-424d-9611-a9b9097314a9","6c50f852-d8c7-4ef9-a26a-c9d292ef9108","6d858026-d70a-4441-8837-01f8d972cb26"]' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Id] IN (
    SELECT [b0].[value]
    FROM OPENJSON(@__bestsellerBookIds_0) WITH ([value] uniqueidentifier '$') AS [b0]
) AND [b].[IsDeleted] = CAST(0 AS bit)
2025-05-21 13:59:39.302 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetched 5 bestselling books.
2025-05-21 13:59:39.304 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__currentDate_0='2025-05-21T06:59:39.3034733Z', @__currentDate_1='2025-05-21T06:59:39.3034733Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Code], [p].[CreatedAtUtc], [p].[CurrentUsage], [p].[Description], [p].[DiscountAmount], [p].[DiscountPercentage], [p].[EndDate], [p].[IsActive], [p].[MaxUsage], [p].[StartDate], [p].[UpdatedAtUtc]
FROM [Promotions] AS [p]
WHERE [p].[IsActive] = CAST(1 AS bit) AND [p].[StartDate] <= @__currentDate_0 AND ([p].[EndDate] IS NULL OR [p].[EndDate] >= @__currentDate_1) AND ([p].[MaxUsage] IS NULL OR [p].[CurrentUsage] < [p].[MaxUsage])
ORDER BY [p].[EndDate]
2025-05-21 13:59:39.308 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[ParentCategoryId] IS NULL AND [c].[IsDeleted] = CAST(0 AS bit)
ORDER BY [c].[Name]
2025-05-21 13:59:39.311 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Successfully fetched home dashboard data.
2025-05-21 13:59:56.073 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit)
ORDER BY [c].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-21 13:59:56.916 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__p_0='707f89a4-da65-4b5e-a890-485a3b929301' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__p_0
2025-05-21 13:59:56.921 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__catId_0='707f89a4-da65-4b5e-a890-485a3b929301', @__p_1='0', @__p_2='20'], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[CategoryId] = @__catId_0
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [b0]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b0].[CategoryId] = [c0].[Id]
ORDER BY [b0].[CreatedAtUtc] DESC
2025-05-21 13:59:59.462 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetching home dashboard data.
2025-05-21 13:59:59.464 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit)
ORDER BY [b].[CreatedAtUtc] DESC
2025-05-21 13:59:59.468 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetched 10 newest books.
2025-05-21 13:59:59.471 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_2='5', @__inclusiveStartDate_0='2025-04-21T00:00:00.0000000Z', @__inclusiveEndDate_1='2025-05-22T00:00:00.0000000Z'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[BookId], [b2].[Title] AS [BookTitle], [s].[TotalQuantitySold]
FROM (
    SELECT TOP(@__p_2) [o].[BookId], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold]
    FROM [OrderDetails] AS [o]
    INNER JOIN [Orders] AS [o0] ON [o].[OrderId] = [o0].[Id]
    INNER JOIN (
        SELECT [b].[Id], [b].[IsDeleted]
        FROM [Books] AS [b]
        WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ) AS [b0] ON [o].[BookId] = [b0].[Id]
    WHERE [o0].[Status] = CAST(3 AS tinyint) AND [o0].[OrderDate] >= @__inclusiveStartDate_0 AND [o0].[OrderDate] < @__inclusiveEndDate_1 AND [b0].[IsDeleted] = CAST(0 AS bit)
    GROUP BY [o].[BookId]
    ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC
) AS [s]
INNER JOIN (
    SELECT [b1].[Id], [b1].[Title]
    FROM [Books] AS [b1]
    WHERE [b1].[IsDeleted] = CAST(0 AS bit)
) AS [b2] ON [s].[BookId] = [b2].[Id]
ORDER BY [s].[TotalQuantitySold] DESC
2025-05-21 13:59:59.477 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__bestsellerBookIds_0='["ba80e2b5-b426-44eb-acfa-06315f9fcb6b","c191919e-e763-4e03-9e2b-24d944f4d401","39f2e54f-3480-424d-9611-a9b9097314a9","6c50f852-d8c7-4ef9-a26a-c9d292ef9108","6d858026-d70a-4441-8837-01f8d972cb26"]' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Id] IN (
    SELECT [b0].[value]
    FROM OPENJSON(@__bestsellerBookIds_0) WITH ([value] uniqueidentifier '$') AS [b0]
) AND [b].[IsDeleted] = CAST(0 AS bit)
2025-05-21 13:59:59.480 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetched 5 bestselling books.
2025-05-21 13:59:59.482 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__currentDate_0='2025-05-21T06:59:59.4817115Z', @__currentDate_1='2025-05-21T06:59:59.4817115Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Code], [p].[CreatedAtUtc], [p].[CurrentUsage], [p].[Description], [p].[DiscountAmount], [p].[DiscountPercentage], [p].[EndDate], [p].[IsActive], [p].[MaxUsage], [p].[StartDate], [p].[UpdatedAtUtc]
FROM [Promotions] AS [p]
WHERE [p].[IsActive] = CAST(1 AS bit) AND [p].[StartDate] <= @__currentDate_0 AND ([p].[EndDate] IS NULL OR [p].[EndDate] >= @__currentDate_1) AND ([p].[MaxUsage] IS NULL OR [p].[CurrentUsage] < [p].[MaxUsage])
ORDER BY [p].[EndDate]
2025-05-21 13:59:59.486 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[ParentCategoryId] IS NULL AND [c].[IsDeleted] = CAST(0 AS bit)
ORDER BY [c].[Name]
2025-05-21 13:59:59.488 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Successfully fetched home dashboard data.
2025-05-21 14:00:05.340 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (7ms) [Parameters=[@__searchTerm_0_contains='%my%' (Size = 4000), @__p_1='0', @__p_2='20'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AuthorId], [s].[CategoryId], [s].[CoverImageUrl], [s].[CreatedAtUtc], [s].[Description], [s].[ISBN], [s].[IsDeleted], [s].[Price], [s].[PublicationYear], [s].[Publisher], [s].[StockQuantity], [s].[Title], [s].[UpdatedAtUtc], [s].[Id0], [s].[Biography], [s].[CreatedAtUtc0], [s].[Name], [s].[UpdatedAtUtc0], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id] AS [Id0], [a].[Biography], [a].[CreatedAtUtc] AS [CreatedAtUtc0], [a].[Name], [a].[UpdatedAtUtc] AS [UpdatedAtUtc0]
    FROM [Books] AS [b]
    LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
    WHERE [b].[IsDeleted] = CAST(0 AS bit) AND (LOWER([b].[Title]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR ([a].[Id] IS NOT NULL AND [a].[Name] IS NOT NULL AND LOWER([a].[Name]) LIKE @__searchTerm_0_contains ESCAPE N'\') OR ([b].[ISBN] IS NOT NULL AND LOWER([b].[ISBN]) LIKE @__searchTerm_0_contains ESCAPE N'\'))
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [s]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [s].[CategoryId] = [c0].[Id]
ORDER BY [s].[CreatedAtUtc] DESC
2025-05-21 14:00:09.107 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (8ms) [Parameters=[@__searchTerm_0_contains='%th%' (Size = 4000), @__p_1='0', @__p_2='20'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AuthorId], [s].[CategoryId], [s].[CoverImageUrl], [s].[CreatedAtUtc], [s].[Description], [s].[ISBN], [s].[IsDeleted], [s].[Price], [s].[PublicationYear], [s].[Publisher], [s].[StockQuantity], [s].[Title], [s].[UpdatedAtUtc], [s].[Id0], [s].[Biography], [s].[CreatedAtUtc0], [s].[Name], [s].[UpdatedAtUtc0], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id] AS [Id0], [a].[Biography], [a].[CreatedAtUtc] AS [CreatedAtUtc0], [a].[Name], [a].[UpdatedAtUtc] AS [UpdatedAtUtc0]
    FROM [Books] AS [b]
    LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
    WHERE [b].[IsDeleted] = CAST(0 AS bit) AND (LOWER([b].[Title]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR ([a].[Id] IS NOT NULL AND [a].[Name] IS NOT NULL AND LOWER([a].[Name]) LIKE @__searchTerm_0_contains ESCAPE N'\') OR ([b].[ISBN] IS NOT NULL AND LOWER([b].[ISBN]) LIKE @__searchTerm_0_contains ESCAPE N'\'))
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [s]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [s].[CategoryId] = [c0].[Id]
ORDER BY [s].[CreatedAtUtc] DESC
2025-05-21 14:00:49.836 +07:00 [INF] (Bookstore.Application.Services.UserService) Fetching all users for admin. RoleFilter: All, StatusFilter: All, Page: 1, PageSize: 20
2025-05-21 14:00:49.856 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (5ms) [Parameters=[@__p_0='0', @__p_1='20'], CommandType='"Text"', CommandTimeout='30']
SELECT [u1].[Id], [u1].[CreatedAtUtc], [u1].[Email], [u1].[FirstName], [u1].[IsActive], [u1].[LastName], [u1].[PasswordHash], [u1].[PhoneNumber], [u1].[UpdatedAtUtc], [u1].[UserName], [s].[UserId], [s].[RoleId], [s].[Id], [s].[CreatedAtUtc], [s].[Name], [s].[UpdatedAtUtc]
FROM (
    SELECT [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName]
    FROM [Users] AS [u]
    ORDER BY [u].[UserName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [u1]
LEFT JOIN (
    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[CreatedAtUtc], [r].[Name], [r].[UpdatedAtUtc]
    FROM [UserRoles] AS [u0]
    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
) AS [s] ON [u1].[Id] = [s].[UserId]
ORDER BY [u1].[UserName], [u1].[Id], [s].[UserId], [s].[RoleId]
2025-05-21 14:01:22.669 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetching home dashboard data.
2025-05-21 14:01:22.674 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit)
ORDER BY [b].[CreatedAtUtc] DESC
2025-05-21 14:01:22.677 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetched 10 newest books.
2025-05-21 14:01:22.684 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (5ms) [Parameters=[@__p_2='5', @__inclusiveStartDate_0='2025-04-21T00:00:00.0000000Z', @__inclusiveEndDate_1='2025-05-22T00:00:00.0000000Z'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[BookId], [b2].[Title] AS [BookTitle], [s].[TotalQuantitySold]
FROM (
    SELECT TOP(@__p_2) [o].[BookId], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold]
    FROM [OrderDetails] AS [o]
    INNER JOIN [Orders] AS [o0] ON [o].[OrderId] = [o0].[Id]
    INNER JOIN (
        SELECT [b].[Id], [b].[IsDeleted]
        FROM [Books] AS [b]
        WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ) AS [b0] ON [o].[BookId] = [b0].[Id]
    WHERE [o0].[Status] = CAST(3 AS tinyint) AND [o0].[OrderDate] >= @__inclusiveStartDate_0 AND [o0].[OrderDate] < @__inclusiveEndDate_1 AND [b0].[IsDeleted] = CAST(0 AS bit)
    GROUP BY [o].[BookId]
    ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC
) AS [s]
INNER JOIN (
    SELECT [b1].[Id], [b1].[Title]
    FROM [Books] AS [b1]
    WHERE [b1].[IsDeleted] = CAST(0 AS bit)
) AS [b2] ON [s].[BookId] = [b2].[Id]
ORDER BY [s].[TotalQuantitySold] DESC
2025-05-21 14:01:22.693 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@__bestsellerBookIds_0='["ba80e2b5-b426-44eb-acfa-06315f9fcb6b","c191919e-e763-4e03-9e2b-24d944f4d401","39f2e54f-3480-424d-9611-a9b9097314a9","6c50f852-d8c7-4ef9-a26a-c9d292ef9108","6d858026-d70a-4441-8837-01f8d972cb26"]' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Id] IN (
    SELECT [b0].[value]
    FROM OPENJSON(@__bestsellerBookIds_0) WITH ([value] uniqueidentifier '$') AS [b0]
) AND [b].[IsDeleted] = CAST(0 AS bit)
2025-05-21 14:01:22.696 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetched 5 bestselling books.
2025-05-21 14:01:22.700 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__currentDate_0='2025-05-21T07:01:22.6974027Z', @__currentDate_1='2025-05-21T07:01:22.6974027Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Code], [p].[CreatedAtUtc], [p].[CurrentUsage], [p].[Description], [p].[DiscountAmount], [p].[DiscountPercentage], [p].[EndDate], [p].[IsActive], [p].[MaxUsage], [p].[StartDate], [p].[UpdatedAtUtc]
FROM [Promotions] AS [p]
WHERE [p].[IsActive] = CAST(1 AS bit) AND [p].[StartDate] <= @__currentDate_0 AND ([p].[EndDate] IS NULL OR [p].[EndDate] >= @__currentDate_1) AND ([p].[MaxUsage] IS NULL OR [p].[CurrentUsage] < [p].[MaxUsage])
ORDER BY [p].[EndDate]
2025-05-21 14:01:22.706 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[ParentCategoryId] IS NULL AND [c].[IsDeleted] = CAST(0 AS bit)
ORDER BY [c].[Name]
2025-05-21 14:01:22.709 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Successfully fetched home dashboard data.
2025-05-21 14:03:34.261 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (6ms) [Parameters=[@__email_0='staff' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u1].[Id], [u1].[CreatedAtUtc], [u1].[Email], [u1].[FirstName], [u1].[IsActive], [u1].[LastName], [u1].[PasswordHash], [u1].[PhoneNumber], [u1].[UpdatedAtUtc], [u1].[UserName], [s].[UserId], [s].[RoleId], [s].[Id], [s].[CreatedAtUtc], [s].[Name], [s].[UpdatedAtUtc]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName]
    FROM [Users] AS [u]
    WHERE [u].[Email] = @__email_0
) AS [u1]
LEFT JOIN (
    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[CreatedAtUtc], [r].[Name], [r].[UpdatedAtUtc]
    FROM [UserRoles] AS [u0]
    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
) AS [s] ON [u1].[Id] = [s].[UserId]
ORDER BY [u1].[Id], [s].[UserId], [s].[RoleId]
2025-05-21 14:03:34.271 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@__username_0='staff' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u1].[Id], [u1].[CreatedAtUtc], [u1].[Email], [u1].[FirstName], [u1].[IsActive], [u1].[LastName], [u1].[PasswordHash], [u1].[PhoneNumber], [u1].[UpdatedAtUtc], [u1].[UserName], [s].[UserId], [s].[RoleId], [s].[Id], [s].[CreatedAtUtc], [s].[Name], [s].[UpdatedAtUtc]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName]
    FROM [Users] AS [u]
    WHERE [u].[UserName] = @__username_0
) AS [u1]
LEFT JOIN (
    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[CreatedAtUtc], [r].[Name], [r].[UpdatedAtUtc]
    FROM [UserRoles] AS [u0]
    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
) AS [s] ON [u1].[Id] = [s].[UserId]
ORDER BY [u1].[Id], [s].[UserId], [s].[RoleId]
2025-05-21 14:03:36.957 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (5ms) [Parameters=[@__email_0='staff' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u1].[Id], [u1].[CreatedAtUtc], [u1].[Email], [u1].[FirstName], [u1].[IsActive], [u1].[LastName], [u1].[PasswordHash], [u1].[PhoneNumber], [u1].[UpdatedAtUtc], [u1].[UserName], [s].[UserId], [s].[RoleId], [s].[Id], [s].[CreatedAtUtc], [s].[Name], [s].[UpdatedAtUtc]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName]
    FROM [Users] AS [u]
    WHERE [u].[Email] = @__email_0
) AS [u1]
LEFT JOIN (
    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[CreatedAtUtc], [r].[Name], [r].[UpdatedAtUtc]
    FROM [UserRoles] AS [u0]
    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
) AS [s] ON [u1].[Id] = [s].[UserId]
ORDER BY [u1].[Id], [s].[UserId], [s].[RoleId]
2025-05-21 14:03:36.970 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@__username_0='staff' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u1].[Id], [u1].[CreatedAtUtc], [u1].[Email], [u1].[FirstName], [u1].[IsActive], [u1].[LastName], [u1].[PasswordHash], [u1].[PhoneNumber], [u1].[UpdatedAtUtc], [u1].[UserName], [s].[UserId], [s].[RoleId], [s].[Id], [s].[CreatedAtUtc], [s].[Name], [s].[UpdatedAtUtc]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName]
    FROM [Users] AS [u]
    WHERE [u].[UserName] = @__username_0
) AS [u1]
LEFT JOIN (
    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[CreatedAtUtc], [r].[Name], [r].[UpdatedAtUtc]
    FROM [UserRoles] AS [u0]
    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
) AS [s] ON [u1].[Id] = [s].[UserId]
ORDER BY [u1].[Id], [s].[UserId], [s].[RoleId]
2025-05-21 14:05:12.824 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (5ms) [Parameters=[@__email_0='Admin' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u1].[Id], [u1].[CreatedAtUtc], [u1].[Email], [u1].[FirstName], [u1].[IsActive], [u1].[LastName], [u1].[PasswordHash], [u1].[PhoneNumber], [u1].[UpdatedAtUtc], [u1].[UserName], [s].[UserId], [s].[RoleId], [s].[Id], [s].[CreatedAtUtc], [s].[Name], [s].[UpdatedAtUtc]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName]
    FROM [Users] AS [u]
    WHERE [u].[Email] = @__email_0
) AS [u1]
LEFT JOIN (
    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[CreatedAtUtc], [r].[Name], [r].[UpdatedAtUtc]
    FROM [UserRoles] AS [u0]
    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
) AS [s] ON [u1].[Id] = [s].[UserId]
ORDER BY [u1].[Id], [s].[UserId], [s].[RoleId]
2025-05-21 14:05:12.832 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@__username_0='Admin' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u1].[Id], [u1].[CreatedAtUtc], [u1].[Email], [u1].[FirstName], [u1].[IsActive], [u1].[LastName], [u1].[PasswordHash], [u1].[PhoneNumber], [u1].[UpdatedAtUtc], [u1].[UserName], [s].[UserId], [s].[RoleId], [s].[Id], [s].[CreatedAtUtc], [s].[Name], [s].[UpdatedAtUtc]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName]
    FROM [Users] AS [u]
    WHERE [u].[UserName] = @__username_0
) AS [u1]
LEFT JOIN (
    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[CreatedAtUtc], [r].[Name], [r].[UpdatedAtUtc]
    FROM [UserRoles] AS [u0]
    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
) AS [s] ON [u1].[Id] = [s].[UserId]
ORDER BY [u1].[Id], [s].[UserId], [s].[RoleId]
2025-05-21 14:05:13.094 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__userId_0='f54527eb-f806-40db-bf76-c7b0e5fa6d39'], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Name]
FROM [UserRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0
2025-05-21 14:05:13.190 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetching home dashboard data.
2025-05-21 14:05:13.195 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit)
ORDER BY [b].[CreatedAtUtc] DESC
2025-05-21 14:05:13.198 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetched 10 newest books.
2025-05-21 14:05:13.206 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (7ms) [Parameters=[@__p_2='5', @__inclusiveStartDate_0='2025-04-21T00:00:00.0000000Z', @__inclusiveEndDate_1='2025-05-22T00:00:00.0000000Z'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[BookId], [b2].[Title] AS [BookTitle], [s].[TotalQuantitySold]
FROM (
    SELECT TOP(@__p_2) [o].[BookId], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold]
    FROM [OrderDetails] AS [o]
    INNER JOIN [Orders] AS [o0] ON [o].[OrderId] = [o0].[Id]
    INNER JOIN (
        SELECT [b].[Id], [b].[IsDeleted]
        FROM [Books] AS [b]
        WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ) AS [b0] ON [o].[BookId] = [b0].[Id]
    WHERE [o0].[Status] = CAST(3 AS tinyint) AND [o0].[OrderDate] >= @__inclusiveStartDate_0 AND [o0].[OrderDate] < @__inclusiveEndDate_1 AND [b0].[IsDeleted] = CAST(0 AS bit)
    GROUP BY [o].[BookId]
    ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC
) AS [s]
INNER JOIN (
    SELECT [b1].[Id], [b1].[Title]
    FROM [Books] AS [b1]
    WHERE [b1].[IsDeleted] = CAST(0 AS bit)
) AS [b2] ON [s].[BookId] = [b2].[Id]
ORDER BY [s].[TotalQuantitySold] DESC
2025-05-21 14:05:13.215 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@__bestsellerBookIds_0='["ba80e2b5-b426-44eb-acfa-06315f9fcb6b","c191919e-e763-4e03-9e2b-24d944f4d401","39f2e54f-3480-424d-9611-a9b9097314a9","6c50f852-d8c7-4ef9-a26a-c9d292ef9108","6d858026-d70a-4441-8837-01f8d972cb26"]' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Id] IN (
    SELECT [b0].[value]
    FROM OPENJSON(@__bestsellerBookIds_0) WITH ([value] uniqueidentifier '$') AS [b0]
) AND [b].[IsDeleted] = CAST(0 AS bit)
2025-05-21 14:05:13.218 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetched 5 bestselling books.
2025-05-21 14:05:13.222 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__currentDate_0='2025-05-21T07:05:13.2193287Z', @__currentDate_1='2025-05-21T07:05:13.2193287Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Code], [p].[CreatedAtUtc], [p].[CurrentUsage], [p].[Description], [p].[DiscountAmount], [p].[DiscountPercentage], [p].[EndDate], [p].[IsActive], [p].[MaxUsage], [p].[StartDate], [p].[UpdatedAtUtc]
FROM [Promotions] AS [p]
WHERE [p].[IsActive] = CAST(1 AS bit) AND [p].[StartDate] <= @__currentDate_0 AND ([p].[EndDate] IS NULL OR [p].[EndDate] >= @__currentDate_1) AND ([p].[MaxUsage] IS NULL OR [p].[CurrentUsage] < [p].[MaxUsage])
ORDER BY [p].[EndDate]
2025-05-21 14:05:13.228 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[ParentCategoryId] IS NULL AND [c].[IsDeleted] = CAST(0 AS bit)
ORDER BY [c].[Name]
2025-05-21 14:05:13.231 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Successfully fetched home dashboard data.
2025-05-21 14:05:27.525 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@__id_0='1ed59d04-83f1-4624-8739-3de94c30e54b'], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b].[CategoryId] = [c0].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Id] = @__id_0
2025-05-21 14:05:27.774 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (5ms) [Parameters=[@__bookId_0='1ed59d04-83f1-4624-8739-3de94c30e54b', @__p_1='0', @__p_2='5'], CommandType='"Text"', CommandTimeout='30']
SELECT [r0].[Id], [r0].[BookId], [r0].[Comment], [r0].[CreatedAtUtc], [r0].[IsApproved], [r0].[Rating], [r0].[UpdatedAtUtc], [r0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName]
FROM (
    SELECT [r].[Id], [r].[BookId], [r].[Comment], [r].[CreatedAtUtc], [r].[IsApproved], [r].[Rating], [r].[UpdatedAtUtc], [r].[UserId]
    FROM [Review] AS [r]
    WHERE [r].[BookId] = @__bookId_0 AND [r].[IsApproved] = CAST(1 AS bit)
    ORDER BY [r].[CreatedAtUtc] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [r0]
INNER JOIN [Users] AS [u] ON [r0].[UserId] = [u].[Id]
ORDER BY [r0].[CreatedAtUtc] DESC
2025-05-21 14:05:27.827 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (6ms) [Parameters=[@__userId_0='f54527eb-f806-40db-bf76-c7b0e5fa6d39'], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[BookId], [w].[CreatedAtUtc], [w].[UserId], [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [WishlistItems] AS [w]
INNER JOIN (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
) AS [b0] ON [w].[BookId] = [b0].[Id]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
WHERE [w].[UserId] = @__userId_0 AND [b0].[IsDeleted] = CAST(0 AS bit)
ORDER BY [w].[CreatedAtUtc] DESC
2025-05-21 14:05:29.000 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='1ed59d04-83f1-4624-8739-3de94c30e54b' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
FROM [Books] AS [b]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Id] = @__p_0
2025-05-21 14:05:29.036 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__p_0='f54527eb-f806-40db-bf76-c7b0e5fa6d39' (Nullable = true), @__p_1='1ed59d04-83f1-4624-8739-3de94c30e54b' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[UserId], [c].[BookId], [c].[CreatedAtUtc], [c].[Quantity], [c].[UpdatedAtUtc]
FROM [CartItems] AS [c]
WHERE [c].[UserId] = @__p_0 AND [c].[BookId] = @__p_1
2025-05-21 14:05:29.160 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@p0='1ed59d04-83f1-4624-8739-3de94c30e54b', @p1='f54527eb-f806-40db-bf76-c7b0e5fa6d39', @p2='2025-05-21T07:05:29.0408172Z', @p3='1', @p4='2025-05-21T07:05:29.0408174Z'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [CartItems] ([BookId], [UserId], [CreatedAtUtc], [Quantity], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-05-21 14:05:30.803 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='1ed59d04-83f1-4624-8739-3de94c30e54b' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
FROM [Books] AS [b]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Id] = @__p_0
2025-05-21 14:05:30.818 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__userId_0='f54527eb-f806-40db-bf76-c7b0e5fa6d39', @__bookId_1='1ed59d04-83f1-4624-8739-3de94c30e54b'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [w].[Id], [w].[BookId], [w].[CreatedAtUtc], [w].[UserId]
FROM [WishlistItems] AS [w]
WHERE [w].[UserId] = @__userId_0 AND [w].[BookId] = @__bookId_1
2025-05-21 14:05:30.840 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@p0='720d3d3f-a9ca-4cae-b8bf-bc1542b5dff4', @p1='1ed59d04-83f1-4624-8739-3de94c30e54b', @p2='2025-05-21T07:05:30.8213853Z', @p3='f54527eb-f806-40db-bf76-c7b0e5fa6d39'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [WishlistItems] ([Id], [BookId], [CreatedAtUtc], [UserId])
VALUES (@p0, @p1, @p2, @p3);
2025-05-21 14:05:33.103 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__userId_0='f54527eb-f806-40db-bf76-c7b0e5fa6d39'], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[BookId], [w].[CreatedAtUtc], [w].[UserId], [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [WishlistItems] AS [w]
INNER JOIN (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
) AS [b0] ON [w].[BookId] = [b0].[Id]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
WHERE [w].[UserId] = @__userId_0 AND [b0].[IsDeleted] = CAST(0 AS bit)
ORDER BY [w].[CreatedAtUtc] DESC
2025-05-21 14:05:34.993 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@__userId_0='f54527eb-f806-40db-bf76-c7b0e5fa6d39'], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[UserId], [c].[BookId], [c].[CreatedAtUtc], [c].[Quantity], [c].[UpdatedAtUtc], [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [CartItems] AS [c]
INNER JOIN (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
) AS [b0] ON [c].[BookId] = [b0].[Id]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
WHERE [c].[UserId] = @__userId_0
ORDER BY [b0].[Title]
2025-05-21 14:05:37.514 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__userId_0='f54527eb-f806-40db-bf76-c7b0e5fa6d39'], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[UserId], [c].[BookId], [c].[CreatedAtUtc], [c].[Quantity], [c].[UpdatedAtUtc], [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [CartItems] AS [c]
INNER JOIN (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
) AS [b0] ON [c].[BookId] = [b0].[Id]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
WHERE [c].[UserId] = @__userId_0
ORDER BY [b0].[Title]
2025-05-21 14:05:37.535 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__userId_0='f54527eb-f806-40db-bf76-c7b0e5fa6d39'], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[City], [a].[CreatedAtUtc], [a].[District], [a].[IsDefault], [a].[Street], [a].[UpdatedAtUtc], [a].[UserId], [a].[Village]
FROM [Addresses] AS [a]
WHERE [a].[UserId] = @__userId_0
ORDER BY [a].[IsDefault] DESC, [a].[UpdatedAtUtc] DESC
2025-05-21 14:05:44.530 +07:00 [INF] (Bookstore.Application.Services.OrderService) Attempting to create online order for User: "f54527eb-f806-40db-bf76-c7b0e5fa6d39"
2025-05-21 14:05:44.533 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__userId_0='f54527eb-f806-40db-bf76-c7b0e5fa6d39'], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[UserId], [c].[BookId], [c].[CreatedAtUtc], [c].[Quantity], [c].[UpdatedAtUtc], [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [CartItems] AS [c]
INNER JOIN (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
) AS [b0] ON [c].[BookId] = [b0].[Id]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
WHERE [c].[UserId] = @__userId_0
ORDER BY [b0].[Title]
2025-05-21 14:05:44.543 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='516b2c01-6a97-480f-a9e8-ba120a10223c' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[City], [a].[CreatedAtUtc], [a].[District], [a].[IsDefault], [a].[Street], [a].[UpdatedAtUtc], [a].[UserId], [a].[Village]
FROM [Addresses] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-21 14:05:44.671 +07:00 [WRN] (Microsoft.EntityFrameworkCore.Database.Transaction) Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2025-05-21 14:05:44.690 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (11ms) [Parameters=[@p0='b4557f96-a0ef-4afd-afc5-ec50dec6cb07', @p1='TpHCM' (Nullable = false) (Size = 100), @p2='Tan Binh' (Nullable = false) (Size = 100), @p3=NULL (Size = 20), @p4=NULL (Size = 200), @p5='139. Bach DAng' (Nullable = false) (Size = 256), @p6='phuong 3' (Size = 100), @p7='ae874a3e-675a-45df-a1e7-55fb6293ed67', @p8='2025-05-21T07:05:44.6578238Z', @p9='0' (Size = 1), @p10=NULL (Size = 50), @p11='2025-05-21T07:05:44.5799842Z', @p12='b4557f96-a0ef-4afd-afc5-ec50dec6cb07' (Nullable = true), @p13='0' (Size = 1), @p14='0' (Nullable = true) (Size = 1), @p15='0' (Size = 1), @p16='15.50' (Precision = 18) (Scale = 2), @p17=NULL (Size = 4000), @p18='2025-05-21T07:05:44.6578235Z', @p19='f54527eb-f806-40db-bf76-c7b0e5fa6d39' (Nullable = true), @p20='f0b06cad-cae1-471b-91c9-80e77c3c0a3a', @p21='1ed59d04-83f1-4624-8739-3de94c30e54b', @p22='ae874a3e-675a-45df-a1e7-55fb6293ed67', @p23='1', @p24='15.50' (Precision = 18) (Scale = 2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OrderShippingAddresses] ([Id], [City], [District], [PhoneNumber], [RecipientName], [Street], [Village])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
INSERT INTO [Orders] ([Id], [CreatedAtUtc], [DeliveryMethod], [InvoiceNumber], [OrderDate], [OrderShippingAddressId], [OrderType], [PaymentMethod], [Status], [TotalAmount], [TransactionId], [UpdatedAtUtc], [UserId])
OUTPUT INSERTED.[PaymentStatus]
VALUES (@p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19);
INSERT INTO [OrderDetails] ([Id], [BookId], [OrderId], [Quantity], [UnitPrice])
VALUES (@p20, @p21, @p22, @p23, @p24);
2025-05-21 14:05:44.706 +07:00 [INF] (Bookstore.Application.Services.OrderService) Order "ae874a3e-675a-45df-a1e7-55fb6293ed67" created with Pending status for User "f54527eb-f806-40db-bf76-c7b0e5fa6d39".
2025-05-21 14:05:44.710 +07:00 [INF] (Bookstore.Application.Services.OrderService) Simulating online payment for Order "ae874a3e-675a-45df-a1e7-55fb6293ed67", Amount: 15.50
2025-05-21 14:05:45.721 +07:00 [INF] (Bookstore.Application.Services.OrderService) Payment simulation successful for Order "ae874a3e-675a-45df-a1e7-55fb6293ed67". TransactionId: PMT_68213ED6
2025-05-21 14:05:45.724 +07:00 [INF] (Bookstore.Application.Services.OrderService) Payment successful for Order "ae874a3e-675a-45df-a1e7-55fb6293ed67".
2025-05-21 14:05:45.733 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__p_0='1ed59d04-83f1-4624-8739-3de94c30e54b' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
FROM [Books] AS [b]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Id] = @__p_0
2025-05-21 14:05:45.772 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__userId_0='f54527eb-f806-40db-bf76-c7b0e5fa6d39'], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[UserId], [c].[BookId], [c].[CreatedAtUtc], [c].[Quantity], [c].[UpdatedAtUtc]
FROM [CartItems] AS [c]
WHERE [c].[UserId] = @__userId_0
2025-05-21 14:05:45.801 +07:00 [WRN] (Microsoft.EntityFrameworkCore.Database.Transaction) Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2025-05-21 14:05:45.828 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (19ms) [Parameters=[@p13='1ed59d04-83f1-4624-8739-3de94c30e54b', @p0='2a4b6f9c-8d1e-4a3b-9b2e-6d5a1f8c3e2f' (Nullable = true), @p1='b8d7b4e0-5a3e-4c9c-8e1d-9a1c3f5b7e0a', @p2='https://storage.googleapis.com/bookmanagement-images/images/covers/24c35a69-4355-4538-9cc4-f3187abc9cbc_M.jpg' (Size = 4000), @p3='2025-04-25T11:14:27.9233333', @p4='A 1965 science fiction novel by American author Frank Herbert, originally published as two separate serials in Analog magazine.' (Size = 4000), @p5='978-0441172719' (Size = 4000), @p6='False', @p7='15.50' (Precision = 18) (Scale = 2), @p8='1965' (Nullable = true), @p9='Ace Books' (Size = 4000), @p10='359', @p11='Dune' (Nullable = false) (Size = 4000), @p12='2025-05-21T07:05:45.7887806Z', @p14='1ed59d04-83f1-4624-8739-3de94c30e54b', @p15='f54527eb-f806-40db-bf76-c7b0e5fa6d39', @p16='f27b3815-8b59-4c8e-b292-efc9f1c241dd', @p17='1ed59d04-83f1-4624-8739-3de94c30e54b', @p18='-1', @p19='ae874a3e-675a-45df-a1e7-55fb6293ed67' (Nullable = true), @p20='1' (Size = 1), @p21=NULL (DbType = Guid), @p22='2025-05-21T07:05:45.7466898Z', @p23='f54527eb-f806-40db-bf76-c7b0e5fa6d39' (Nullable = true), @p37='ae874a3e-675a-45df-a1e7-55fb6293ed67', @p24='2025-05-21T07:05:44.6578238Z', @p25='0' (Size = 1), @p26='INV-20250521-AE87' (Size = 50), @p27='2025-05-21T07:05:44.5799842Z', @p28='b4557f96-a0ef-4afd-afc5-ec50dec6cb07' (Nullable = true), @p29='0' (Size = 1), @p30='0' (Nullable = true) (Size = 1), @p31='Completed' (Nullable = false) (Size = 50), @p32='1' (Size = 1), @p33='15.50' (Precision = 18) (Scale = 2), @p34='PMT_68213ED6' (Size = 4000), @p35='2025-05-21T07:05:45.7887798Z', @p36='f54527eb-f806-40db-bf76-c7b0e5fa6d39' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Books] SET [AuthorId] = @p0, [CategoryId] = @p1, [CoverImageUrl] = @p2, [CreatedAtUtc] = @p3, [Description] = @p4, [ISBN] = @p5, [IsDeleted] = @p6, [Price] = @p7, [PublicationYear] = @p8, [Publisher] = @p9, [StockQuantity] = @p10, [Title] = @p11, [UpdatedAtUtc] = @p12
OUTPUT 1
WHERE [Id] = @p13;
DELETE FROM [CartItems]
OUTPUT 1
WHERE [BookId] = @p14 AND [UserId] = @p15;
INSERT INTO [InventoryLogs] ([Id], [BookId], [ChangeQuantity], [OrderId], [Reason], [StockReceiptId], [TimestampUtc], [UserId])
VALUES (@p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23);
UPDATE [Orders] SET [CreatedAtUtc] = @p24, [DeliveryMethod] = @p25, [InvoiceNumber] = @p26, [OrderDate] = @p27, [OrderShippingAddressId] = @p28, [OrderType] = @p29, [PaymentMethod] = @p30, [PaymentStatus] = @p31, [Status] = @p32, [TotalAmount] = @p33, [TransactionId] = @p34, [UpdatedAtUtc] = @p35, [UserId] = @p36
OUTPUT 1
WHERE [Id] = @p37;
2025-05-21 14:05:45.864 +07:00 [INF] (Bookstore.Application.Services.OrderService) Order "ae874a3e-675a-45df-a1e7-55fb6293ed67" processing completed successfully for User "f54527eb-f806-40db-bf76-c7b0e5fa6d39".
2025-05-21 14:05:45.915 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (14ms) [Parameters=[@__orderId_0='ae874a3e-675a-45df-a1e7-55fb6293ed67'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CreatedAtUtc], [s].[DeliveryMethod], [s].[InvoiceNumber], [s].[OrderDate], [s].[OrderShippingAddressId], [s].[OrderType], [s].[PaymentMethod], [s].[PaymentStatus], [s].[Status], [s].[TotalAmount], [s].[TransactionId], [s].[UpdatedAtUtc], [s].[UserId], [s].[Id0], [s].[CreatedAtUtc0], [s].[Email], [s].[FirstName], [s].[IsActive], [s].[LastName], [s].[PasswordHash], [s].[PhoneNumber], [s].[UpdatedAtUtc0], [s].[UserName], [s].[Id1], [s].[City], [s].[District], [s].[PhoneNumber0], [s].[RecipientName], [s].[Street], [s].[Village], [s0].[Id], [s0].[BookId], [s0].[OrderId], [s0].[Quantity], [s0].[UnitPrice], [s0].[Id0], [s0].[AuthorId], [s0].[CategoryId], [s0].[CoverImageUrl], [s0].[CreatedAtUtc], [s0].[Description], [s0].[ISBN], [s0].[IsDeleted], [s0].[Price], [s0].[PublicationYear], [s0].[Publisher], [s0].[StockQuantity], [s0].[Title], [s0].[UpdatedAtUtc], [s0].[Id1], [s0].[Biography], [s0].[CreatedAtUtc0], [s0].[Name], [s0].[UpdatedAtUtc0]
FROM (
    SELECT TOP(1) [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId], [u].[Id] AS [Id0], [u].[CreatedAtUtc] AS [CreatedAtUtc0], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc] AS [UpdatedAtUtc0], [u].[UserName], [o0].[Id] AS [Id1], [o0].[City], [o0].[District], [o0].[PhoneNumber] AS [PhoneNumber0], [o0].[RecipientName], [o0].[Street], [o0].[Village]
    FROM [Orders] AS [o]
    LEFT JOIN [Users] AS [u] ON [o].[UserId] = [u].[Id]
    LEFT JOIN [OrderShippingAddresses] AS [o0] ON [o].[OrderShippingAddressId] = [o0].[Id]
    WHERE [o].[Id] = @__orderId_0
) AS [s]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[BookId], [o1].[OrderId], [o1].[Quantity], [o1].[UnitPrice], [b0].[Id] AS [Id0], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id] AS [Id1], [a].[Biography], [a].[CreatedAtUtc] AS [CreatedAtUtc0], [a].[Name], [a].[UpdatedAtUtc] AS [UpdatedAtUtc0]
    FROM [OrderDetails] AS [o1]
    INNER JOIN (
        SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
        FROM [Books] AS [b]
        WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ) AS [b0] ON [o1].[BookId] = [b0].[Id]
    LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
) AS [s0] ON [s].[Id] = [s0].[OrderId]
ORDER BY [s].[Id], [s].[Id0], [s].[Id1], [s0].[Id], [s0].[Id0]
2025-05-21 14:05:46.072 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching orders for User: "f54527eb-f806-40db-bf76-c7b0e5fa6d39", Page: 1, PageSize: 15
2025-05-21 14:05:46.095 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching orders for User: "f54527eb-f806-40db-bf76-c7b0e5fa6d39", Page: 1, PageSize: 15
2025-05-21 14:05:46.118 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (9ms) [Parameters=[@__userId_0='f54527eb-f806-40db-bf76-c7b0e5fa6d39' (Nullable = true), @__p_1='0', @__p_2='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [o1].[Id], [o1].[CreatedAtUtc], [o1].[DeliveryMethod], [o1].[InvoiceNumber], [o1].[OrderDate], [o1].[OrderShippingAddressId], [o1].[OrderType], [o1].[PaymentMethod], [o1].[PaymentStatus], [o1].[Status], [o1].[TotalAmount], [o1].[TransactionId], [o1].[UpdatedAtUtc], [o1].[UserId], [o0].[Id], [o0].[BookId], [o0].[OrderId], [o0].[Quantity], [o0].[UnitPrice]
FROM (
    SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[UserId] = @__userId_0
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [o1]
LEFT JOIN [OrderDetails] AS [o0] ON [o1].[Id] = [o0].[OrderId]
ORDER BY [o1].[OrderDate] DESC, [o1].[Id]
2025-05-21 14:05:46.125 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (9ms) [Parameters=[@__userId_0='f54527eb-f806-40db-bf76-c7b0e5fa6d39' (Nullable = true), @__p_1='0', @__p_2='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [o1].[Id], [o1].[CreatedAtUtc], [o1].[DeliveryMethod], [o1].[InvoiceNumber], [o1].[OrderDate], [o1].[OrderShippingAddressId], [o1].[OrderType], [o1].[PaymentMethod], [o1].[PaymentStatus], [o1].[Status], [o1].[TotalAmount], [o1].[TransactionId], [o1].[UpdatedAtUtc], [o1].[UserId], [o0].[Id], [o0].[BookId], [o0].[OrderId], [o0].[Quantity], [o0].[UnitPrice]
FROM (
    SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[UserId] = @__userId_0
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [o1]
LEFT JOIN [OrderDetails] AS [o0] ON [o1].[Id] = [o0].[OrderId]
ORDER BY [o1].[OrderDate] DESC, [o1].[Id]
2025-05-21 14:05:50.506 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetching home dashboard data.
2025-05-21 14:05:50.511 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit)
ORDER BY [b].[CreatedAtUtc] DESC
2025-05-21 14:05:50.515 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetched 10 newest books.
2025-05-21 14:05:50.522 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (6ms) [Parameters=[@__p_2='5', @__inclusiveStartDate_0='2025-04-21T00:00:00.0000000Z', @__inclusiveEndDate_1='2025-05-22T00:00:00.0000000Z'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[BookId], [b2].[Title] AS [BookTitle], [s].[TotalQuantitySold]
FROM (
    SELECT TOP(@__p_2) [o].[BookId], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold]
    FROM [OrderDetails] AS [o]
    INNER JOIN [Orders] AS [o0] ON [o].[OrderId] = [o0].[Id]
    INNER JOIN (
        SELECT [b].[Id], [b].[IsDeleted]
        FROM [Books] AS [b]
        WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ) AS [b0] ON [o].[BookId] = [b0].[Id]
    WHERE [o0].[Status] = CAST(3 AS tinyint) AND [o0].[OrderDate] >= @__inclusiveStartDate_0 AND [o0].[OrderDate] < @__inclusiveEndDate_1 AND [b0].[IsDeleted] = CAST(0 AS bit)
    GROUP BY [o].[BookId]
    ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC
) AS [s]
INNER JOIN (
    SELECT [b1].[Id], [b1].[Title]
    FROM [Books] AS [b1]
    WHERE [b1].[IsDeleted] = CAST(0 AS bit)
) AS [b2] ON [s].[BookId] = [b2].[Id]
ORDER BY [s].[TotalQuantitySold] DESC
2025-05-21 14:05:50.531 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (5ms) [Parameters=[@__bestsellerBookIds_0='["ba80e2b5-b426-44eb-acfa-06315f9fcb6b","c191919e-e763-4e03-9e2b-24d944f4d401","39f2e54f-3480-424d-9611-a9b9097314a9","6c50f852-d8c7-4ef9-a26a-c9d292ef9108","6d858026-d70a-4441-8837-01f8d972cb26"]' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Id] IN (
    SELECT [b0].[value]
    FROM OPENJSON(@__bestsellerBookIds_0) WITH ([value] uniqueidentifier '$') AS [b0]
) AND [b].[IsDeleted] = CAST(0 AS bit)
2025-05-21 14:05:50.547 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetched 5 bestselling books.
2025-05-21 14:05:50.552 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__currentDate_0='2025-05-21T07:05:50.5498343Z', @__currentDate_1='2025-05-21T07:05:50.5498343Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Code], [p].[CreatedAtUtc], [p].[CurrentUsage], [p].[Description], [p].[DiscountAmount], [p].[DiscountPercentage], [p].[EndDate], [p].[IsActive], [p].[MaxUsage], [p].[StartDate], [p].[UpdatedAtUtc]
FROM [Promotions] AS [p]
WHERE [p].[IsActive] = CAST(1 AS bit) AND [p].[StartDate] <= @__currentDate_0 AND ([p].[EndDate] IS NULL OR [p].[EndDate] >= @__currentDate_1) AND ([p].[MaxUsage] IS NULL OR [p].[CurrentUsage] < [p].[MaxUsage])
ORDER BY [p].[EndDate]
2025-05-21 14:05:50.569 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[ParentCategoryId] IS NULL AND [c].[IsDeleted] = CAST(0 AS bit)
ORDER BY [c].[Name]
2025-05-21 14:05:50.573 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Successfully fetched home dashboard data.
2025-05-21 14:25:45.728 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetching home dashboard data.
2025-05-21 14:25:45.779 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit)
ORDER BY [b].[CreatedAtUtc] DESC
2025-05-21 14:25:45.784 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetched 10 newest books.
2025-05-21 14:25:45.800 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (8ms) [Parameters=[@__p_2='5', @__inclusiveStartDate_0='2025-04-21T00:00:00.0000000Z', @__inclusiveEndDate_1='2025-05-22T00:00:00.0000000Z'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[BookId], [b2].[Title] AS [BookTitle], [s].[TotalQuantitySold]
FROM (
    SELECT TOP(@__p_2) [o].[BookId], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold]
    FROM [OrderDetails] AS [o]
    INNER JOIN [Orders] AS [o0] ON [o].[OrderId] = [o0].[Id]
    INNER JOIN (
        SELECT [b].[Id], [b].[IsDeleted]
        FROM [Books] AS [b]
        WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ) AS [b0] ON [o].[BookId] = [b0].[Id]
    WHERE [o0].[Status] = CAST(3 AS tinyint) AND [o0].[OrderDate] >= @__inclusiveStartDate_0 AND [o0].[OrderDate] < @__inclusiveEndDate_1 AND [b0].[IsDeleted] = CAST(0 AS bit)
    GROUP BY [o].[BookId]
    ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC
) AS [s]
INNER JOIN (
    SELECT [b1].[Id], [b1].[Title]
    FROM [Books] AS [b1]
    WHERE [b1].[IsDeleted] = CAST(0 AS bit)
) AS [b2] ON [s].[BookId] = [b2].[Id]
ORDER BY [s].[TotalQuantitySold] DESC
2025-05-21 14:25:45.810 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@__bestsellerBookIds_0='["ba80e2b5-b426-44eb-acfa-06315f9fcb6b","c191919e-e763-4e03-9e2b-24d944f4d401","39f2e54f-3480-424d-9611-a9b9097314a9","6c50f852-d8c7-4ef9-a26a-c9d292ef9108","6d858026-d70a-4441-8837-01f8d972cb26"]' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Id] IN (
    SELECT [b0].[value]
    FROM OPENJSON(@__bestsellerBookIds_0) WITH ([value] uniqueidentifier '$') AS [b0]
) AND [b].[IsDeleted] = CAST(0 AS bit)
2025-05-21 14:25:45.817 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetched 5 bestselling books.
2025-05-21 14:25:45.822 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__currentDate_0='2025-05-21T07:25:45.8186132Z', @__currentDate_1='2025-05-21T07:25:45.8186132Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Code], [p].[CreatedAtUtc], [p].[CurrentUsage], [p].[Description], [p].[DiscountAmount], [p].[DiscountPercentage], [p].[EndDate], [p].[IsActive], [p].[MaxUsage], [p].[StartDate], [p].[UpdatedAtUtc]
FROM [Promotions] AS [p]
WHERE [p].[IsActive] = CAST(1 AS bit) AND [p].[StartDate] <= @__currentDate_0 AND ([p].[EndDate] IS NULL OR [p].[EndDate] >= @__currentDate_1) AND ([p].[MaxUsage] IS NULL OR [p].[CurrentUsage] < [p].[MaxUsage])
ORDER BY [p].[EndDate]
2025-05-21 14:25:45.828 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[ParentCategoryId] IS NULL AND [c].[IsDeleted] = CAST(0 AS bit)
ORDER BY [c].[Name]
2025-05-21 14:25:45.834 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Successfully fetched home dashboard data.
2025-05-21 14:26:09.299 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__p_0='0', @__p_1='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit)
ORDER BY [c].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-21 14:26:10.286 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='707f89a4-da65-4b5e-a890-485a3b929301' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__p_0
2025-05-21 14:26:10.333 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (5ms) [Parameters=[@__catId_0='707f89a4-da65-4b5e-a890-485a3b929301', @__p_1='0', @__p_2='20'], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[CategoryId] = @__catId_0
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [b0]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b0].[CategoryId] = [c0].[Id]
ORDER BY [b0].[CreatedAtUtc] DESC
2025-05-21 14:26:11.142 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__id_0='6d858026-d70a-4441-8837-01f8d972cb26'], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b].[CategoryId] = [c0].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Id] = @__id_0
2025-05-21 14:26:11.332 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (5ms) [Parameters=[@__bookId_0='6d858026-d70a-4441-8837-01f8d972cb26', @__p_1='0', @__p_2='5'], CommandType='"Text"', CommandTimeout='30']
SELECT [r0].[Id], [r0].[BookId], [r0].[Comment], [r0].[CreatedAtUtc], [r0].[IsApproved], [r0].[Rating], [r0].[UpdatedAtUtc], [r0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName]
FROM (
    SELECT [r].[Id], [r].[BookId], [r].[Comment], [r].[CreatedAtUtc], [r].[IsApproved], [r].[Rating], [r].[UpdatedAtUtc], [r].[UserId]
    FROM [Review] AS [r]
    WHERE [r].[BookId] = @__bookId_0 AND [r].[IsApproved] = CAST(1 AS bit)
    ORDER BY [r].[CreatedAtUtc] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [r0]
INNER JOIN [Users] AS [u] ON [r0].[UserId] = [u].[Id]
ORDER BY [r0].[CreatedAtUtc] DESC
2025-05-21 14:26:11.361 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@__userId_0='f54527eb-f806-40db-bf76-c7b0e5fa6d39'], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[BookId], [w].[CreatedAtUtc], [w].[UserId], [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [WishlistItems] AS [w]
INNER JOIN (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
) AS [b0] ON [w].[BookId] = [b0].[Id]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
WHERE [w].[UserId] = @__userId_0 AND [b0].[IsDeleted] = CAST(0 AS bit)
ORDER BY [w].[CreatedAtUtc] DESC
2025-05-21 14:26:39.856 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (5ms) [Parameters=[@__id_0='0b4ef926-9d6a-481e-bfa0-eb2187080fcb'], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b].[CategoryId] = [c0].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Id] = @__id_0
2025-05-21 14:26:39.997 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@__bookId_0='0b4ef926-9d6a-481e-bfa0-eb2187080fcb', @__p_1='0', @__p_2='5'], CommandType='"Text"', CommandTimeout='30']
SELECT [r0].[Id], [r0].[BookId], [r0].[Comment], [r0].[CreatedAtUtc], [r0].[IsApproved], [r0].[Rating], [r0].[UpdatedAtUtc], [r0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName]
FROM (
    SELECT [r].[Id], [r].[BookId], [r].[Comment], [r].[CreatedAtUtc], [r].[IsApproved], [r].[Rating], [r].[UpdatedAtUtc], [r].[UserId]
    FROM [Review] AS [r]
    WHERE [r].[BookId] = @__bookId_0 AND [r].[IsApproved] = CAST(1 AS bit)
    ORDER BY [r].[CreatedAtUtc] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [r0]
INNER JOIN [Users] AS [u] ON [r0].[UserId] = [u].[Id]
ORDER BY [r0].[CreatedAtUtc] DESC
2025-05-21 14:26:40.035 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@__userId_0='f54527eb-f806-40db-bf76-c7b0e5fa6d39'], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[BookId], [w].[CreatedAtUtc], [w].[UserId], [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [WishlistItems] AS [w]
INNER JOIN (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
) AS [b0] ON [w].[BookId] = [b0].[Id]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
WHERE [w].[UserId] = @__userId_0 AND [b0].[IsDeleted] = CAST(0 AS bit)
ORDER BY [w].[CreatedAtUtc] DESC
2025-05-21 14:36:57.210 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetching home dashboard data.
2025-05-21 14:36:57.258 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit)
ORDER BY [b].[CreatedAtUtc] DESC
2025-05-21 14:36:57.262 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetched 10 newest books.
2025-05-21 14:36:57.273 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (9ms) [Parameters=[@__p_2='5', @__inclusiveStartDate_0='2025-04-21T00:00:00.0000000Z', @__inclusiveEndDate_1='2025-05-22T00:00:00.0000000Z'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[BookId], [b2].[Title] AS [BookTitle], [s].[TotalQuantitySold]
FROM (
    SELECT TOP(@__p_2) [o].[BookId], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold]
    FROM [OrderDetails] AS [o]
    INNER JOIN [Orders] AS [o0] ON [o].[OrderId] = [o0].[Id]
    INNER JOIN (
        SELECT [b].[Id], [b].[IsDeleted]
        FROM [Books] AS [b]
        WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ) AS [b0] ON [o].[BookId] = [b0].[Id]
    WHERE [o0].[Status] = CAST(3 AS tinyint) AND [o0].[OrderDate] >= @__inclusiveStartDate_0 AND [o0].[OrderDate] < @__inclusiveEndDate_1 AND [b0].[IsDeleted] = CAST(0 AS bit)
    GROUP BY [o].[BookId]
    ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC
) AS [s]
INNER JOIN (
    SELECT [b1].[Id], [b1].[Title]
    FROM [Books] AS [b1]
    WHERE [b1].[IsDeleted] = CAST(0 AS bit)
) AS [b2] ON [s].[BookId] = [b2].[Id]
ORDER BY [s].[TotalQuantitySold] DESC
2025-05-21 14:36:57.282 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@__bestsellerBookIds_0='["ba80e2b5-b426-44eb-acfa-06315f9fcb6b","c191919e-e763-4e03-9e2b-24d944f4d401","39f2e54f-3480-424d-9611-a9b9097314a9","6c50f852-d8c7-4ef9-a26a-c9d292ef9108","6d858026-d70a-4441-8837-01f8d972cb26"]' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Id] IN (
    SELECT [b0].[value]
    FROM OPENJSON(@__bestsellerBookIds_0) WITH ([value] uniqueidentifier '$') AS [b0]
) AND [b].[IsDeleted] = CAST(0 AS bit)
2025-05-21 14:36:57.288 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetched 5 bestselling books.
2025-05-21 14:36:57.294 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@__currentDate_0='2025-05-21T07:36:57.2898447Z', @__currentDate_1='2025-05-21T07:36:57.2898447Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Code], [p].[CreatedAtUtc], [p].[CurrentUsage], [p].[Description], [p].[DiscountAmount], [p].[DiscountPercentage], [p].[EndDate], [p].[IsActive], [p].[MaxUsage], [p].[StartDate], [p].[UpdatedAtUtc]
FROM [Promotions] AS [p]
WHERE [p].[IsActive] = CAST(1 AS bit) AND [p].[StartDate] <= @__currentDate_0 AND ([p].[EndDate] IS NULL OR [p].[EndDate] >= @__currentDate_1) AND ([p].[MaxUsage] IS NULL OR [p].[CurrentUsage] < [p].[MaxUsage])
ORDER BY [p].[EndDate]
2025-05-21 14:36:57.301 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[ParentCategoryId] IS NULL AND [c].[IsDeleted] = CAST(0 AS bit)
ORDER BY [c].[Name]
2025-05-21 14:36:57.305 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Successfully fetched home dashboard data.
2025-05-21 14:37:03.649 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__p_0='0', @__p_1='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit)
ORDER BY [c].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-21 14:37:04.831 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetching home dashboard data.
2025-05-21 14:37:04.833 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit)
ORDER BY [b].[CreatedAtUtc] DESC
2025-05-21 14:37:04.837 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetched 10 newest books.
2025-05-21 14:37:04.839 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_2='5', @__inclusiveStartDate_0='2025-04-21T00:00:00.0000000Z', @__inclusiveEndDate_1='2025-05-22T00:00:00.0000000Z'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[BookId], [b2].[Title] AS [BookTitle], [s].[TotalQuantitySold]
FROM (
    SELECT TOP(@__p_2) [o].[BookId], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold]
    FROM [OrderDetails] AS [o]
    INNER JOIN [Orders] AS [o0] ON [o].[OrderId] = [o0].[Id]
    INNER JOIN (
        SELECT [b].[Id], [b].[IsDeleted]
        FROM [Books] AS [b]
        WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ) AS [b0] ON [o].[BookId] = [b0].[Id]
    WHERE [o0].[Status] = CAST(3 AS tinyint) AND [o0].[OrderDate] >= @__inclusiveStartDate_0 AND [o0].[OrderDate] < @__inclusiveEndDate_1 AND [b0].[IsDeleted] = CAST(0 AS bit)
    GROUP BY [o].[BookId]
    ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC
) AS [s]
INNER JOIN (
    SELECT [b1].[Id], [b1].[Title]
    FROM [Books] AS [b1]
    WHERE [b1].[IsDeleted] = CAST(0 AS bit)
) AS [b2] ON [s].[BookId] = [b2].[Id]
ORDER BY [s].[TotalQuantitySold] DESC
2025-05-21 14:37:04.846 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__bestsellerBookIds_0='["ba80e2b5-b426-44eb-acfa-06315f9fcb6b","c191919e-e763-4e03-9e2b-24d944f4d401","39f2e54f-3480-424d-9611-a9b9097314a9","6c50f852-d8c7-4ef9-a26a-c9d292ef9108","6d858026-d70a-4441-8837-01f8d972cb26"]' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Id] IN (
    SELECT [b0].[value]
    FROM OPENJSON(@__bestsellerBookIds_0) WITH ([value] uniqueidentifier '$') AS [b0]
) AND [b].[IsDeleted] = CAST(0 AS bit)
2025-05-21 14:37:04.850 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetched 5 bestselling books.
2025-05-21 14:37:04.851 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__currentDate_0='2025-05-21T07:37:04.8510139Z', @__currentDate_1='2025-05-21T07:37:04.8510139Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Code], [p].[CreatedAtUtc], [p].[CurrentUsage], [p].[Description], [p].[DiscountAmount], [p].[DiscountPercentage], [p].[EndDate], [p].[IsActive], [p].[MaxUsage], [p].[StartDate], [p].[UpdatedAtUtc]
FROM [Promotions] AS [p]
WHERE [p].[IsActive] = CAST(1 AS bit) AND [p].[StartDate] <= @__currentDate_0 AND ([p].[EndDate] IS NULL OR [p].[EndDate] >= @__currentDate_1) AND ([p].[MaxUsage] IS NULL OR [p].[CurrentUsage] < [p].[MaxUsage])
ORDER BY [p].[EndDate]
2025-05-21 14:37:04.855 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[ParentCategoryId] IS NULL AND [c].[IsDeleted] = CAST(0 AS bit)
ORDER BY [c].[Name]
2025-05-21 14:37:04.861 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Successfully fetched home dashboard data.
2025-05-21 14:37:07.381 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@__id_0='6d858026-d70a-4441-8837-01f8d972cb26'], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b].[CategoryId] = [c0].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Id] = @__id_0
2025-05-21 14:37:07.668 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (5ms) [Parameters=[@__bookId_0='6d858026-d70a-4441-8837-01f8d972cb26', @__p_1='0', @__p_2='5'], CommandType='"Text"', CommandTimeout='30']
SELECT [r0].[Id], [r0].[BookId], [r0].[Comment], [r0].[CreatedAtUtc], [r0].[IsApproved], [r0].[Rating], [r0].[UpdatedAtUtc], [r0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName]
FROM (
    SELECT [r].[Id], [r].[BookId], [r].[Comment], [r].[CreatedAtUtc], [r].[IsApproved], [r].[Rating], [r].[UpdatedAtUtc], [r].[UserId]
    FROM [Review] AS [r]
    WHERE [r].[BookId] = @__bookId_0 AND [r].[IsApproved] = CAST(1 AS bit)
    ORDER BY [r].[CreatedAtUtc] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [r0]
INNER JOIN [Users] AS [u] ON [r0].[UserId] = [u].[Id]
ORDER BY [r0].[CreatedAtUtc] DESC
2025-05-21 14:37:07.746 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (6ms) [Parameters=[@__userId_0='f54527eb-f806-40db-bf76-c7b0e5fa6d39'], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[BookId], [w].[CreatedAtUtc], [w].[UserId], [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [WishlistItems] AS [w]
INNER JOIN (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
) AS [b0] ON [w].[BookId] = [b0].[Id]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
WHERE [w].[UserId] = @__userId_0 AND [b0].[IsDeleted] = CAST(0 AS bit)
ORDER BY [w].[CreatedAtUtc] DESC
2025-05-21 14:42:27.468 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetching home dashboard data.
2025-05-21 14:42:27.473 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit)
ORDER BY [b].[CreatedAtUtc] DESC
2025-05-21 14:42:27.477 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetched 10 newest books.
2025-05-21 14:42:27.485 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (6ms) [Parameters=[@__p_2='5', @__inclusiveStartDate_0='2025-04-21T00:00:00.0000000Z', @__inclusiveEndDate_1='2025-05-22T00:00:00.0000000Z'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[BookId], [b2].[Title] AS [BookTitle], [s].[TotalQuantitySold]
FROM (
    SELECT TOP(@__p_2) [o].[BookId], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold]
    FROM [OrderDetails] AS [o]
    INNER JOIN [Orders] AS [o0] ON [o].[OrderId] = [o0].[Id]
    INNER JOIN (
        SELECT [b].[Id], [b].[IsDeleted]
        FROM [Books] AS [b]
        WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ) AS [b0] ON [o].[BookId] = [b0].[Id]
    WHERE [o0].[Status] = CAST(3 AS tinyint) AND [o0].[OrderDate] >= @__inclusiveStartDate_0 AND [o0].[OrderDate] < @__inclusiveEndDate_1 AND [b0].[IsDeleted] = CAST(0 AS bit)
    GROUP BY [o].[BookId]
    ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC
) AS [s]
INNER JOIN (
    SELECT [b1].[Id], [b1].[Title]
    FROM [Books] AS [b1]
    WHERE [b1].[IsDeleted] = CAST(0 AS bit)
) AS [b2] ON [s].[BookId] = [b2].[Id]
ORDER BY [s].[TotalQuantitySold] DESC
2025-05-21 14:42:27.494 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@__bestsellerBookIds_0='["ba80e2b5-b426-44eb-acfa-06315f9fcb6b","c191919e-e763-4e03-9e2b-24d944f4d401","39f2e54f-3480-424d-9611-a9b9097314a9","6c50f852-d8c7-4ef9-a26a-c9d292ef9108","6d858026-d70a-4441-8837-01f8d972cb26"]' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Id] IN (
    SELECT [b0].[value]
    FROM OPENJSON(@__bestsellerBookIds_0) WITH ([value] uniqueidentifier '$') AS [b0]
) AND [b].[IsDeleted] = CAST(0 AS bit)
2025-05-21 14:42:27.502 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetched 5 bestselling books.
2025-05-21 14:42:27.507 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__currentDate_0='2025-05-21T07:42:27.5042639Z', @__currentDate_1='2025-05-21T07:42:27.5042639Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Code], [p].[CreatedAtUtc], [p].[CurrentUsage], [p].[Description], [p].[DiscountAmount], [p].[DiscountPercentage], [p].[EndDate], [p].[IsActive], [p].[MaxUsage], [p].[StartDate], [p].[UpdatedAtUtc]
FROM [Promotions] AS [p]
WHERE [p].[IsActive] = CAST(1 AS bit) AND [p].[StartDate] <= @__currentDate_0 AND ([p].[EndDate] IS NULL OR [p].[EndDate] >= @__currentDate_1) AND ([p].[MaxUsage] IS NULL OR [p].[CurrentUsage] < [p].[MaxUsage])
ORDER BY [p].[EndDate]
2025-05-21 14:42:27.518 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[ParentCategoryId] IS NULL AND [c].[IsDeleted] = CAST(0 AS bit)
ORDER BY [c].[Name]
2025-05-21 14:42:27.525 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Successfully fetched home dashboard data.
2025-05-21 14:42:40.214 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetching home dashboard data.
2025-05-21 14:42:40.218 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit)
ORDER BY [b].[CreatedAtUtc] DESC
2025-05-21 14:42:40.222 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetched 10 newest books.
2025-05-21 14:42:40.225 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_2='5', @__inclusiveStartDate_0='2025-04-21T00:00:00.0000000Z', @__inclusiveEndDate_1='2025-05-22T00:00:00.0000000Z'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[BookId], [b2].[Title] AS [BookTitle], [s].[TotalQuantitySold]
FROM (
    SELECT TOP(@__p_2) [o].[BookId], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold]
    FROM [OrderDetails] AS [o]
    INNER JOIN [Orders] AS [o0] ON [o].[OrderId] = [o0].[Id]
    INNER JOIN (
        SELECT [b].[Id], [b].[IsDeleted]
        FROM [Books] AS [b]
        WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ) AS [b0] ON [o].[BookId] = [b0].[Id]
    WHERE [o0].[Status] = CAST(3 AS tinyint) AND [o0].[OrderDate] >= @__inclusiveStartDate_0 AND [o0].[OrderDate] < @__inclusiveEndDate_1 AND [b0].[IsDeleted] = CAST(0 AS bit)
    GROUP BY [o].[BookId]
    ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC
) AS [s]
INNER JOIN (
    SELECT [b1].[Id], [b1].[Title]
    FROM [Books] AS [b1]
    WHERE [b1].[IsDeleted] = CAST(0 AS bit)
) AS [b2] ON [s].[BookId] = [b2].[Id]
ORDER BY [s].[TotalQuantitySold] DESC
2025-05-21 14:42:40.232 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__bestsellerBookIds_0='["ba80e2b5-b426-44eb-acfa-06315f9fcb6b","c191919e-e763-4e03-9e2b-24d944f4d401","39f2e54f-3480-424d-9611-a9b9097314a9","6c50f852-d8c7-4ef9-a26a-c9d292ef9108","6d858026-d70a-4441-8837-01f8d972cb26"]' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Id] IN (
    SELECT [b0].[value]
    FROM OPENJSON(@__bestsellerBookIds_0) WITH ([value] uniqueidentifier '$') AS [b0]
) AND [b].[IsDeleted] = CAST(0 AS bit)
2025-05-21 14:42:40.238 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetched 5 bestselling books.
2025-05-21 14:42:40.240 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__currentDate_0='2025-05-21T07:42:40.2395167Z', @__currentDate_1='2025-05-21T07:42:40.2395167Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Code], [p].[CreatedAtUtc], [p].[CurrentUsage], [p].[Description], [p].[DiscountAmount], [p].[DiscountPercentage], [p].[EndDate], [p].[IsActive], [p].[MaxUsage], [p].[StartDate], [p].[UpdatedAtUtc]
FROM [Promotions] AS [p]
WHERE [p].[IsActive] = CAST(1 AS bit) AND [p].[StartDate] <= @__currentDate_0 AND ([p].[EndDate] IS NULL OR [p].[EndDate] >= @__currentDate_1) AND ([p].[MaxUsage] IS NULL OR [p].[CurrentUsage] < [p].[MaxUsage])
ORDER BY [p].[EndDate]
2025-05-21 14:42:40.246 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[ParentCategoryId] IS NULL AND [c].[IsDeleted] = CAST(0 AS bit)
ORDER BY [c].[Name]
2025-05-21 14:42:40.251 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Successfully fetched home dashboard data.
2025-05-21 14:42:43.391 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__p_0='0', @__p_1='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit)
ORDER BY [c].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-21 14:42:45.101 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetching home dashboard data.
2025-05-21 14:42:45.104 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit)
ORDER BY [b].[CreatedAtUtc] DESC
2025-05-21 14:42:45.108 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetched 10 newest books.
2025-05-21 14:42:45.110 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_2='5', @__inclusiveStartDate_0='2025-04-21T00:00:00.0000000Z', @__inclusiveEndDate_1='2025-05-22T00:00:00.0000000Z'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[BookId], [b2].[Title] AS [BookTitle], [s].[TotalQuantitySold]
FROM (
    SELECT TOP(@__p_2) [o].[BookId], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold]
    FROM [OrderDetails] AS [o]
    INNER JOIN [Orders] AS [o0] ON [o].[OrderId] = [o0].[Id]
    INNER JOIN (
        SELECT [b].[Id], [b].[IsDeleted]
        FROM [Books] AS [b]
        WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ) AS [b0] ON [o].[BookId] = [b0].[Id]
    WHERE [o0].[Status] = CAST(3 AS tinyint) AND [o0].[OrderDate] >= @__inclusiveStartDate_0 AND [o0].[OrderDate] < @__inclusiveEndDate_1 AND [b0].[IsDeleted] = CAST(0 AS bit)
    GROUP BY [o].[BookId]
    ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC
) AS [s]
INNER JOIN (
    SELECT [b1].[Id], [b1].[Title]
    FROM [Books] AS [b1]
    WHERE [b1].[IsDeleted] = CAST(0 AS bit)
) AS [b2] ON [s].[BookId] = [b2].[Id]
ORDER BY [s].[TotalQuantitySold] DESC
2025-05-21 14:42:45.117 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__bestsellerBookIds_0='["ba80e2b5-b426-44eb-acfa-06315f9fcb6b","c191919e-e763-4e03-9e2b-24d944f4d401","39f2e54f-3480-424d-9611-a9b9097314a9","6c50f852-d8c7-4ef9-a26a-c9d292ef9108","6d858026-d70a-4441-8837-01f8d972cb26"]' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Id] IN (
    SELECT [b0].[value]
    FROM OPENJSON(@__bestsellerBookIds_0) WITH ([value] uniqueidentifier '$') AS [b0]
) AND [b].[IsDeleted] = CAST(0 AS bit)
2025-05-21 14:42:45.121 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetched 5 bestselling books.
2025-05-21 14:42:45.123 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__currentDate_0='2025-05-21T07:42:45.1228662Z', @__currentDate_1='2025-05-21T07:42:45.1228662Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Code], [p].[CreatedAtUtc], [p].[CurrentUsage], [p].[Description], [p].[DiscountAmount], [p].[DiscountPercentage], [p].[EndDate], [p].[IsActive], [p].[MaxUsage], [p].[StartDate], [p].[UpdatedAtUtc]
FROM [Promotions] AS [p]
WHERE [p].[IsActive] = CAST(1 AS bit) AND [p].[StartDate] <= @__currentDate_0 AND ([p].[EndDate] IS NULL OR [p].[EndDate] >= @__currentDate_1) AND ([p].[MaxUsage] IS NULL OR [p].[CurrentUsage] < [p].[MaxUsage])
ORDER BY [p].[EndDate]
2025-05-21 14:42:45.128 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[ParentCategoryId] IS NULL AND [c].[IsDeleted] = CAST(0 AS bit)
ORDER BY [c].[Name]
2025-05-21 14:42:45.133 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Successfully fetched home dashboard data.
2025-05-21 14:42:46.431 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__id_0='ba80e2b5-b426-44eb-acfa-06315f9fcb6b'], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b].[CategoryId] = [c0].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Id] = @__id_0
2025-05-21 14:42:46.607 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__bookId_0='ba80e2b5-b426-44eb-acfa-06315f9fcb6b', @__p_1='0', @__p_2='5'], CommandType='"Text"', CommandTimeout='30']
SELECT [r0].[Id], [r0].[BookId], [r0].[Comment], [r0].[CreatedAtUtc], [r0].[IsApproved], [r0].[Rating], [r0].[UpdatedAtUtc], [r0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName]
FROM (
    SELECT [r].[Id], [r].[BookId], [r].[Comment], [r].[CreatedAtUtc], [r].[IsApproved], [r].[Rating], [r].[UpdatedAtUtc], [r].[UserId]
    FROM [Review] AS [r]
    WHERE [r].[BookId] = @__bookId_0 AND [r].[IsApproved] = CAST(1 AS bit)
    ORDER BY [r].[CreatedAtUtc] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [r0]
INNER JOIN [Users] AS [u] ON [r0].[UserId] = [u].[Id]
ORDER BY [r0].[CreatedAtUtc] DESC
2025-05-21 14:42:46.636 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@__userId_0='f54527eb-f806-40db-bf76-c7b0e5fa6d39'], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[BookId], [w].[CreatedAtUtc], [w].[UserId], [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [WishlistItems] AS [w]
INNER JOIN (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
) AS [b0] ON [w].[BookId] = [b0].[Id]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
WHERE [w].[UserId] = @__userId_0 AND [b0].[IsDeleted] = CAST(0 AS bit)
ORDER BY [w].[CreatedAtUtc] DESC
2025-05-21 14:42:49.032 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__id_0='6d858026-d70a-4441-8837-01f8d972cb26'], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b].[CategoryId] = [c0].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Id] = @__id_0
2025-05-21 14:42:49.293 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__bookId_0='6d858026-d70a-4441-8837-01f8d972cb26', @__p_1='0', @__p_2='5'], CommandType='"Text"', CommandTimeout='30']
SELECT [r0].[Id], [r0].[BookId], [r0].[Comment], [r0].[CreatedAtUtc], [r0].[IsApproved], [r0].[Rating], [r0].[UpdatedAtUtc], [r0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName]
FROM (
    SELECT [r].[Id], [r].[BookId], [r].[Comment], [r].[CreatedAtUtc], [r].[IsApproved], [r].[Rating], [r].[UpdatedAtUtc], [r].[UserId]
    FROM [Review] AS [r]
    WHERE [r].[BookId] = @__bookId_0 AND [r].[IsApproved] = CAST(1 AS bit)
    ORDER BY [r].[CreatedAtUtc] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [r0]
INNER JOIN [Users] AS [u] ON [r0].[UserId] = [u].[Id]
ORDER BY [r0].[CreatedAtUtc] DESC
2025-05-21 14:42:49.315 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__userId_0='f54527eb-f806-40db-bf76-c7b0e5fa6d39'], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[BookId], [w].[CreatedAtUtc], [w].[UserId], [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [WishlistItems] AS [w]
INNER JOIN (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
) AS [b0] ON [w].[BookId] = [b0].[Id]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
WHERE [w].[UserId] = @__userId_0 AND [b0].[IsDeleted] = CAST(0 AS bit)
ORDER BY [w].[CreatedAtUtc] DESC
2025-05-21 14:42:55.173 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__id_0='5d8fc980-abf3-49f8-a735-92c402be0cbe'], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b].[CategoryId] = [c0].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Id] = @__id_0
2025-05-21 14:42:55.287 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__bookId_0='5d8fc980-abf3-49f8-a735-92c402be0cbe', @__p_1='0', @__p_2='5'], CommandType='"Text"', CommandTimeout='30']
SELECT [r0].[Id], [r0].[BookId], [r0].[Comment], [r0].[CreatedAtUtc], [r0].[IsApproved], [r0].[Rating], [r0].[UpdatedAtUtc], [r0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName]
FROM (
    SELECT [r].[Id], [r].[BookId], [r].[Comment], [r].[CreatedAtUtc], [r].[IsApproved], [r].[Rating], [r].[UpdatedAtUtc], [r].[UserId]
    FROM [Review] AS [r]
    WHERE [r].[BookId] = @__bookId_0 AND [r].[IsApproved] = CAST(1 AS bit)
    ORDER BY [r].[CreatedAtUtc] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [r0]
INNER JOIN [Users] AS [u] ON [r0].[UserId] = [u].[Id]
ORDER BY [r0].[CreatedAtUtc] DESC
2025-05-21 14:42:55.306 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__userId_0='f54527eb-f806-40db-bf76-c7b0e5fa6d39'], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[BookId], [w].[CreatedAtUtc], [w].[UserId], [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [WishlistItems] AS [w]
INNER JOIN (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
) AS [b0] ON [w].[BookId] = [b0].[Id]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
WHERE [w].[UserId] = @__userId_0 AND [b0].[IsDeleted] = CAST(0 AS bit)
ORDER BY [w].[CreatedAtUtc] DESC
2025-05-21 14:42:57.672 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='5d8fc980-abf3-49f8-a735-92c402be0cbe' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
FROM [Books] AS [b]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Id] = @__p_0
2025-05-21 14:42:57.679 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__p_0='f54527eb-f806-40db-bf76-c7b0e5fa6d39' (Nullable = true), @__p_1='5d8fc980-abf3-49f8-a735-92c402be0cbe' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[UserId], [c].[BookId], [c].[CreatedAtUtc], [c].[Quantity], [c].[UpdatedAtUtc]
FROM [CartItems] AS [c]
WHERE [c].[UserId] = @__p_0 AND [c].[BookId] = @__p_1
2025-05-21 14:42:57.685 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@p0='5d8fc980-abf3-49f8-a735-92c402be0cbe', @p1='f54527eb-f806-40db-bf76-c7b0e5fa6d39', @p2='2025-05-21T07:42:57.6824836Z', @p3='3', @p4='2025-05-21T07:42:57.6824837Z'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [CartItems] ([BookId], [UserId], [CreatedAtUtc], [Quantity], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-05-21 14:53:46.981 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetching home dashboard data.
2025-05-21 14:53:47.039 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit)
ORDER BY [b].[CreatedAtUtc] DESC
2025-05-21 14:53:47.043 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetched 10 newest books.
2025-05-21 14:53:47.053 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (9ms) [Parameters=[@__p_2='5', @__inclusiveStartDate_0='2025-04-21T00:00:00.0000000Z', @__inclusiveEndDate_1='2025-05-22T00:00:00.0000000Z'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[BookId], [b2].[Title] AS [BookTitle], [s].[TotalQuantitySold]
FROM (
    SELECT TOP(@__p_2) [o].[BookId], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold]
    FROM [OrderDetails] AS [o]
    INNER JOIN [Orders] AS [o0] ON [o].[OrderId] = [o0].[Id]
    INNER JOIN (
        SELECT [b].[Id], [b].[IsDeleted]
        FROM [Books] AS [b]
        WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ) AS [b0] ON [o].[BookId] = [b0].[Id]
    WHERE [o0].[Status] = CAST(3 AS tinyint) AND [o0].[OrderDate] >= @__inclusiveStartDate_0 AND [o0].[OrderDate] < @__inclusiveEndDate_1 AND [b0].[IsDeleted] = CAST(0 AS bit)
    GROUP BY [o].[BookId]
    ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC
) AS [s]
INNER JOIN (
    SELECT [b1].[Id], [b1].[Title]
    FROM [Books] AS [b1]
    WHERE [b1].[IsDeleted] = CAST(0 AS bit)
) AS [b2] ON [s].[BookId] = [b2].[Id]
ORDER BY [s].[TotalQuantitySold] DESC
2025-05-21 14:53:47.065 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (5ms) [Parameters=[@__bestsellerBookIds_0='["ba80e2b5-b426-44eb-acfa-06315f9fcb6b","c191919e-e763-4e03-9e2b-24d944f4d401","39f2e54f-3480-424d-9611-a9b9097314a9","6c50f852-d8c7-4ef9-a26a-c9d292ef9108","6d858026-d70a-4441-8837-01f8d972cb26"]' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Id] IN (
    SELECT [b0].[value]
    FROM OPENJSON(@__bestsellerBookIds_0) WITH ([value] uniqueidentifier '$') AS [b0]
) AND [b].[IsDeleted] = CAST(0 AS bit)
2025-05-21 14:53:47.072 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetched 5 bestselling books.
2025-05-21 14:53:47.077 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__currentDate_0='2025-05-21T07:53:47.0739516Z', @__currentDate_1='2025-05-21T07:53:47.0739516Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Code], [p].[CreatedAtUtc], [p].[CurrentUsage], [p].[Description], [p].[DiscountAmount], [p].[DiscountPercentage], [p].[EndDate], [p].[IsActive], [p].[MaxUsage], [p].[StartDate], [p].[UpdatedAtUtc]
FROM [Promotions] AS [p]
WHERE [p].[IsActive] = CAST(1 AS bit) AND [p].[StartDate] <= @__currentDate_0 AND ([p].[EndDate] IS NULL OR [p].[EndDate] >= @__currentDate_1) AND ([p].[MaxUsage] IS NULL OR [p].[CurrentUsage] < [p].[MaxUsage])
ORDER BY [p].[EndDate]
2025-05-21 14:53:47.083 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[ParentCategoryId] IS NULL AND [c].[IsDeleted] = CAST(0 AS bit)
ORDER BY [c].[Name]
2025-05-21 14:53:47.088 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Successfully fetched home dashboard data.
2025-05-21 14:53:50.408 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__p_0='0', @__p_1='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit)
ORDER BY [c].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-21 14:53:51.332 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='707f89a4-da65-4b5e-a890-485a3b929301' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__p_0
2025-05-21 14:53:51.348 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__catId_0='707f89a4-da65-4b5e-a890-485a3b929301', @__p_1='0', @__p_2='20'], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[CategoryId] = @__catId_0
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [b0]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b0].[CategoryId] = [c0].[Id]
ORDER BY [b0].[CreatedAtUtc] DESC
2025-05-21 14:53:52.795 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__id_0='6d858026-d70a-4441-8837-01f8d972cb26'], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b].[CategoryId] = [c0].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Id] = @__id_0
2025-05-21 14:53:52.969 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (6ms) [Parameters=[@__bookId_0='6d858026-d70a-4441-8837-01f8d972cb26', @__p_1='0', @__p_2='5'], CommandType='"Text"', CommandTimeout='30']
SELECT [r0].[Id], [r0].[BookId], [r0].[Comment], [r0].[CreatedAtUtc], [r0].[IsApproved], [r0].[Rating], [r0].[UpdatedAtUtc], [r0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName]
FROM (
    SELECT [r].[Id], [r].[BookId], [r].[Comment], [r].[CreatedAtUtc], [r].[IsApproved], [r].[Rating], [r].[UpdatedAtUtc], [r].[UserId]
    FROM [Review] AS [r]
    WHERE [r].[BookId] = @__bookId_0 AND [r].[IsApproved] = CAST(1 AS bit)
    ORDER BY [r].[CreatedAtUtc] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [r0]
INNER JOIN [Users] AS [u] ON [r0].[UserId] = [u].[Id]
ORDER BY [r0].[CreatedAtUtc] DESC
2025-05-21 14:53:53.007 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (5ms) [Parameters=[@__userId_0='f54527eb-f806-40db-bf76-c7b0e5fa6d39'], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[BookId], [w].[CreatedAtUtc], [w].[UserId], [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [WishlistItems] AS [w]
INNER JOIN (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
) AS [b0] ON [w].[BookId] = [b0].[Id]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
WHERE [w].[UserId] = @__userId_0 AND [b0].[IsDeleted] = CAST(0 AS bit)
ORDER BY [w].[CreatedAtUtc] DESC
2025-05-21 14:59:39.838 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetching home dashboard data.
2025-05-21 14:59:39.885 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit)
ORDER BY [b].[CreatedAtUtc] DESC
2025-05-21 14:59:39.890 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetched 10 newest books.
2025-05-21 14:59:39.901 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (9ms) [Parameters=[@__p_2='5', @__inclusiveStartDate_0='2025-04-21T00:00:00.0000000Z', @__inclusiveEndDate_1='2025-05-22T00:00:00.0000000Z'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[BookId], [b2].[Title] AS [BookTitle], [s].[TotalQuantitySold]
FROM (
    SELECT TOP(@__p_2) [o].[BookId], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold]
    FROM [OrderDetails] AS [o]
    INNER JOIN [Orders] AS [o0] ON [o].[OrderId] = [o0].[Id]
    INNER JOIN (
        SELECT [b].[Id], [b].[IsDeleted]
        FROM [Books] AS [b]
        WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ) AS [b0] ON [o].[BookId] = [b0].[Id]
    WHERE [o0].[Status] = CAST(3 AS tinyint) AND [o0].[OrderDate] >= @__inclusiveStartDate_0 AND [o0].[OrderDate] < @__inclusiveEndDate_1 AND [b0].[IsDeleted] = CAST(0 AS bit)
    GROUP BY [o].[BookId]
    ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC
) AS [s]
INNER JOIN (
    SELECT [b1].[Id], [b1].[Title]
    FROM [Books] AS [b1]
    WHERE [b1].[IsDeleted] = CAST(0 AS bit)
) AS [b2] ON [s].[BookId] = [b2].[Id]
ORDER BY [s].[TotalQuantitySold] DESC
2025-05-21 14:59:39.909 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@__bestsellerBookIds_0='["ba80e2b5-b426-44eb-acfa-06315f9fcb6b","c191919e-e763-4e03-9e2b-24d944f4d401","39f2e54f-3480-424d-9611-a9b9097314a9","6c50f852-d8c7-4ef9-a26a-c9d292ef9108","6d858026-d70a-4441-8837-01f8d972cb26"]' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Id] IN (
    SELECT [b0].[value]
    FROM OPENJSON(@__bestsellerBookIds_0) WITH ([value] uniqueidentifier '$') AS [b0]
) AND [b].[IsDeleted] = CAST(0 AS bit)
2025-05-21 14:59:39.915 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetched 5 bestselling books.
2025-05-21 14:59:39.920 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@__currentDate_0='2025-05-21T07:59:39.9165907Z', @__currentDate_1='2025-05-21T07:59:39.9165907Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Code], [p].[CreatedAtUtc], [p].[CurrentUsage], [p].[Description], [p].[DiscountAmount], [p].[DiscountPercentage], [p].[EndDate], [p].[IsActive], [p].[MaxUsage], [p].[StartDate], [p].[UpdatedAtUtc]
FROM [Promotions] AS [p]
WHERE [p].[IsActive] = CAST(1 AS bit) AND [p].[StartDate] <= @__currentDate_0 AND ([p].[EndDate] IS NULL OR [p].[EndDate] >= @__currentDate_1) AND ([p].[MaxUsage] IS NULL OR [p].[CurrentUsage] < [p].[MaxUsage])
ORDER BY [p].[EndDate]
2025-05-21 14:59:39.926 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[ParentCategoryId] IS NULL AND [c].[IsDeleted] = CAST(0 AS bit)
ORDER BY [c].[Name]
2025-05-21 14:59:39.931 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Successfully fetched home dashboard data.
2025-05-21 14:59:43.098 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__p_0='0', @__p_1='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit)
ORDER BY [c].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-21 14:59:43.777 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__p_0='707f89a4-da65-4b5e-a890-485a3b929301' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__p_0
2025-05-21 14:59:43.792 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@__catId_0='707f89a4-da65-4b5e-a890-485a3b929301', @__p_1='0', @__p_2='20'], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[CategoryId] = @__catId_0
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [b0]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b0].[CategoryId] = [c0].[Id]
ORDER BY [b0].[CreatedAtUtc] DESC
2025-05-21 14:59:44.447 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__id_0='6d858026-d70a-4441-8837-01f8d972cb26'], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b].[CategoryId] = [c0].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Id] = @__id_0
2025-05-21 14:59:44.676 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (6ms) [Parameters=[@__bookId_0='6d858026-d70a-4441-8837-01f8d972cb26', @__p_1='0', @__p_2='5'], CommandType='"Text"', CommandTimeout='30']
SELECT [r0].[Id], [r0].[BookId], [r0].[Comment], [r0].[CreatedAtUtc], [r0].[IsApproved], [r0].[Rating], [r0].[UpdatedAtUtc], [r0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName]
FROM (
    SELECT [r].[Id], [r].[BookId], [r].[Comment], [r].[CreatedAtUtc], [r].[IsApproved], [r].[Rating], [r].[UpdatedAtUtc], [r].[UserId]
    FROM [Review] AS [r]
    WHERE [r].[BookId] = @__bookId_0 AND [r].[IsApproved] = CAST(1 AS bit)
    ORDER BY [r].[CreatedAtUtc] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [r0]
INNER JOIN [Users] AS [u] ON [r0].[UserId] = [u].[Id]
ORDER BY [r0].[CreatedAtUtc] DESC
2025-05-21 14:59:44.715 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (5ms) [Parameters=[@__userId_0='f54527eb-f806-40db-bf76-c7b0e5fa6d39'], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[BookId], [w].[CreatedAtUtc], [w].[UserId], [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [WishlistItems] AS [w]
INNER JOIN (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
) AS [b0] ON [w].[BookId] = [b0].[Id]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
WHERE [w].[UserId] = @__userId_0 AND [b0].[IsDeleted] = CAST(0 AS bit)
ORDER BY [w].[CreatedAtUtc] DESC
2025-05-21 15:01:29.389 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetching home dashboard data.
2025-05-21 15:01:29.393 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit)
ORDER BY [b].[CreatedAtUtc] DESC
2025-05-21 15:01:29.399 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetched 10 newest books.
2025-05-21 15:01:29.419 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (13ms) [Parameters=[@__p_2='5', @__inclusiveStartDate_0='2025-04-21T00:00:00.0000000Z', @__inclusiveEndDate_1='2025-05-22T00:00:00.0000000Z'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[BookId], [b2].[Title] AS [BookTitle], [s].[TotalQuantitySold]
FROM (
    SELECT TOP(@__p_2) [o].[BookId], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold]
    FROM [OrderDetails] AS [o]
    INNER JOIN [Orders] AS [o0] ON [o].[OrderId] = [o0].[Id]
    INNER JOIN (
        SELECT [b].[Id], [b].[IsDeleted]
        FROM [Books] AS [b]
        WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ) AS [b0] ON [o].[BookId] = [b0].[Id]
    WHERE [o0].[Status] = CAST(3 AS tinyint) AND [o0].[OrderDate] >= @__inclusiveStartDate_0 AND [o0].[OrderDate] < @__inclusiveEndDate_1 AND [b0].[IsDeleted] = CAST(0 AS bit)
    GROUP BY [o].[BookId]
    ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC
) AS [s]
INNER JOIN (
    SELECT [b1].[Id], [b1].[Title]
    FROM [Books] AS [b1]
    WHERE [b1].[IsDeleted] = CAST(0 AS bit)
) AS [b2] ON [s].[BookId] = [b2].[Id]
ORDER BY [s].[TotalQuantitySold] DESC
2025-05-21 15:01:29.432 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (8ms) [Parameters=[@__bestsellerBookIds_0='["ba80e2b5-b426-44eb-acfa-06315f9fcb6b","c191919e-e763-4e03-9e2b-24d944f4d401","39f2e54f-3480-424d-9611-a9b9097314a9","6c50f852-d8c7-4ef9-a26a-c9d292ef9108","6d858026-d70a-4441-8837-01f8d972cb26"]' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Id] IN (
    SELECT [b0].[value]
    FROM OPENJSON(@__bestsellerBookIds_0) WITH ([value] uniqueidentifier '$') AS [b0]
) AND [b].[IsDeleted] = CAST(0 AS bit)
2025-05-21 15:01:29.437 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetched 5 bestselling books.
2025-05-21 15:01:29.443 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@__currentDate_0='2025-05-21T08:01:29.4392022Z', @__currentDate_1='2025-05-21T08:01:29.4392022Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Code], [p].[CreatedAtUtc], [p].[CurrentUsage], [p].[Description], [p].[DiscountAmount], [p].[DiscountPercentage], [p].[EndDate], [p].[IsActive], [p].[MaxUsage], [p].[StartDate], [p].[UpdatedAtUtc]
FROM [Promotions] AS [p]
WHERE [p].[IsActive] = CAST(1 AS bit) AND [p].[StartDate] <= @__currentDate_0 AND ([p].[EndDate] IS NULL OR [p].[EndDate] >= @__currentDate_1) AND ([p].[MaxUsage] IS NULL OR [p].[CurrentUsage] < [p].[MaxUsage])
ORDER BY [p].[EndDate]
2025-05-21 15:01:29.453 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[ParentCategoryId] IS NULL AND [c].[IsDeleted] = CAST(0 AS bit)
ORDER BY [c].[Name]
2025-05-21 15:01:29.466 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Successfully fetched home dashboard data.
2025-05-21 15:01:33.402 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__p_0='0', @__p_1='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit)
ORDER BY [c].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-21 15:01:34.166 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='707f89a4-da65-4b5e-a890-485a3b929301' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__p_0
2025-05-21 15:01:34.185 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@__catId_0='707f89a4-da65-4b5e-a890-485a3b929301', @__p_1='0', @__p_2='20'], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[CategoryId] = @__catId_0
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [b0]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b0].[CategoryId] = [c0].[Id]
ORDER BY [b0].[CreatedAtUtc] DESC
2025-05-21 15:01:34.994 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__id_0='6d858026-d70a-4441-8837-01f8d972cb26'], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b].[CategoryId] = [c0].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Id] = @__id_0
2025-05-21 15:01:35.218 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__bookId_0='6d858026-d70a-4441-8837-01f8d972cb26', @__p_1='0', @__p_2='5'], CommandType='"Text"', CommandTimeout='30']
SELECT [r0].[Id], [r0].[BookId], [r0].[Comment], [r0].[CreatedAtUtc], [r0].[IsApproved], [r0].[Rating], [r0].[UpdatedAtUtc], [r0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName]
FROM (
    SELECT [r].[Id], [r].[BookId], [r].[Comment], [r].[CreatedAtUtc], [r].[IsApproved], [r].[Rating], [r].[UpdatedAtUtc], [r].[UserId]
    FROM [Review] AS [r]
    WHERE [r].[BookId] = @__bookId_0 AND [r].[IsApproved] = CAST(1 AS bit)
    ORDER BY [r].[CreatedAtUtc] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [r0]
INNER JOIN [Users] AS [u] ON [r0].[UserId] = [u].[Id]
ORDER BY [r0].[CreatedAtUtc] DESC
2025-05-21 15:01:35.283 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (5ms) [Parameters=[@__userId_0='f54527eb-f806-40db-bf76-c7b0e5fa6d39'], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[BookId], [w].[CreatedAtUtc], [w].[UserId], [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [WishlistItems] AS [w]
INNER JOIN (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
) AS [b0] ON [w].[BookId] = [b0].[Id]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
WHERE [w].[UserId] = @__userId_0 AND [b0].[IsDeleted] = CAST(0 AS bit)
ORDER BY [w].[CreatedAtUtc] DESC
2025-05-21 15:04:08.940 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetching home dashboard data.
2025-05-21 15:04:08.948 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit)
ORDER BY [b].[CreatedAtUtc] DESC
2025-05-21 15:04:08.956 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetched 10 newest books.
2025-05-21 15:04:08.979 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (20ms) [Parameters=[@__p_2='5', @__inclusiveStartDate_0='2025-04-21T00:00:00.0000000Z', @__inclusiveEndDate_1='2025-05-22T00:00:00.0000000Z'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[BookId], [b2].[Title] AS [BookTitle], [s].[TotalQuantitySold]
FROM (
    SELECT TOP(@__p_2) [o].[BookId], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold]
    FROM [OrderDetails] AS [o]
    INNER JOIN [Orders] AS [o0] ON [o].[OrderId] = [o0].[Id]
    INNER JOIN (
        SELECT [b].[Id], [b].[IsDeleted]
        FROM [Books] AS [b]
        WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ) AS [b0] ON [o].[BookId] = [b0].[Id]
    WHERE [o0].[Status] = CAST(3 AS tinyint) AND [o0].[OrderDate] >= @__inclusiveStartDate_0 AND [o0].[OrderDate] < @__inclusiveEndDate_1 AND [b0].[IsDeleted] = CAST(0 AS bit)
    GROUP BY [o].[BookId]
    ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC
) AS [s]
INNER JOIN (
    SELECT [b1].[Id], [b1].[Title]
    FROM [Books] AS [b1]
    WHERE [b1].[IsDeleted] = CAST(0 AS bit)
) AS [b2] ON [s].[BookId] = [b2].[Id]
ORDER BY [s].[TotalQuantitySold] DESC
2025-05-21 15:04:08.992 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (8ms) [Parameters=[@__bestsellerBookIds_0='["ba80e2b5-b426-44eb-acfa-06315f9fcb6b","c191919e-e763-4e03-9e2b-24d944f4d401","39f2e54f-3480-424d-9611-a9b9097314a9","6c50f852-d8c7-4ef9-a26a-c9d292ef9108","6d858026-d70a-4441-8837-01f8d972cb26"]' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Id] IN (
    SELECT [b0].[value]
    FROM OPENJSON(@__bestsellerBookIds_0) WITH ([value] uniqueidentifier '$') AS [b0]
) AND [b].[IsDeleted] = CAST(0 AS bit)
2025-05-21 15:04:09.004 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetched 5 bestselling books.
2025-05-21 15:04:09.013 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (5ms) [Parameters=[@__currentDate_0='2025-05-21T08:04:09.0084250Z', @__currentDate_1='2025-05-21T08:04:09.0084250Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Code], [p].[CreatedAtUtc], [p].[CurrentUsage], [p].[Description], [p].[DiscountAmount], [p].[DiscountPercentage], [p].[EndDate], [p].[IsActive], [p].[MaxUsage], [p].[StartDate], [p].[UpdatedAtUtc]
FROM [Promotions] AS [p]
WHERE [p].[IsActive] = CAST(1 AS bit) AND [p].[StartDate] <= @__currentDate_0 AND ([p].[EndDate] IS NULL OR [p].[EndDate] >= @__currentDate_1) AND ([p].[MaxUsage] IS NULL OR [p].[CurrentUsage] < [p].[MaxUsage])
ORDER BY [p].[EndDate]
2025-05-21 15:04:09.022 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[ParentCategoryId] IS NULL AND [c].[IsDeleted] = CAST(0 AS bit)
ORDER BY [c].[Name]
2025-05-21 15:04:09.025 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Successfully fetched home dashboard data.
2025-05-21 15:04:23.869 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetching home dashboard data.
2025-05-21 15:04:23.871 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit)
ORDER BY [b].[CreatedAtUtc] DESC
2025-05-21 15:04:23.876 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetched 10 newest books.
2025-05-21 15:04:23.879 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_2='5', @__inclusiveStartDate_0='2025-04-21T00:00:00.0000000Z', @__inclusiveEndDate_1='2025-05-22T00:00:00.0000000Z'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[BookId], [b2].[Title] AS [BookTitle], [s].[TotalQuantitySold]
FROM (
    SELECT TOP(@__p_2) [o].[BookId], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold]
    FROM [OrderDetails] AS [o]
    INNER JOIN [Orders] AS [o0] ON [o].[OrderId] = [o0].[Id]
    INNER JOIN (
        SELECT [b].[Id], [b].[IsDeleted]
        FROM [Books] AS [b]
        WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ) AS [b0] ON [o].[BookId] = [b0].[Id]
    WHERE [o0].[Status] = CAST(3 AS tinyint) AND [o0].[OrderDate] >= @__inclusiveStartDate_0 AND [o0].[OrderDate] < @__inclusiveEndDate_1 AND [b0].[IsDeleted] = CAST(0 AS bit)
    GROUP BY [o].[BookId]
    ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC
) AS [s]
INNER JOIN (
    SELECT [b1].[Id], [b1].[Title]
    FROM [Books] AS [b1]
    WHERE [b1].[IsDeleted] = CAST(0 AS bit)
) AS [b2] ON [s].[BookId] = [b2].[Id]
ORDER BY [s].[TotalQuantitySold] DESC
2025-05-21 15:04:23.885 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__bestsellerBookIds_0='["ba80e2b5-b426-44eb-acfa-06315f9fcb6b","c191919e-e763-4e03-9e2b-24d944f4d401","39f2e54f-3480-424d-9611-a9b9097314a9","6c50f852-d8c7-4ef9-a26a-c9d292ef9108","6d858026-d70a-4441-8837-01f8d972cb26"]' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Id] IN (
    SELECT [b0].[value]
    FROM OPENJSON(@__bestsellerBookIds_0) WITH ([value] uniqueidentifier '$') AS [b0]
) AND [b].[IsDeleted] = CAST(0 AS bit)
2025-05-21 15:04:23.889 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetched 5 bestselling books.
2025-05-21 15:04:23.891 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__currentDate_0='2025-05-21T08:04:23.8903403Z', @__currentDate_1='2025-05-21T08:04:23.8903403Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Code], [p].[CreatedAtUtc], [p].[CurrentUsage], [p].[Description], [p].[DiscountAmount], [p].[DiscountPercentage], [p].[EndDate], [p].[IsActive], [p].[MaxUsage], [p].[StartDate], [p].[UpdatedAtUtc]
FROM [Promotions] AS [p]
WHERE [p].[IsActive] = CAST(1 AS bit) AND [p].[StartDate] <= @__currentDate_0 AND ([p].[EndDate] IS NULL OR [p].[EndDate] >= @__currentDate_1) AND ([p].[MaxUsage] IS NULL OR [p].[CurrentUsage] < [p].[MaxUsage])
ORDER BY [p].[EndDate]
2025-05-21 15:04:23.897 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[ParentCategoryId] IS NULL AND [c].[IsDeleted] = CAST(0 AS bit)
ORDER BY [c].[Name]
2025-05-21 15:04:23.901 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Successfully fetched home dashboard data.
2025-05-21 15:04:27.998 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__p_0='0', @__p_1='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit)
ORDER BY [c].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-21 15:04:28.801 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__p_0='707f89a4-da65-4b5e-a890-485a3b929301' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__p_0
2025-05-21 15:04:28.815 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@__catId_0='707f89a4-da65-4b5e-a890-485a3b929301', @__p_1='0', @__p_2='20'], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[CategoryId] = @__catId_0
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [b0]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b0].[CategoryId] = [c0].[Id]
ORDER BY [b0].[CreatedAtUtc] DESC
2025-05-21 15:04:29.527 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@__id_0='6d858026-d70a-4441-8837-01f8d972cb26'], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b].[CategoryId] = [c0].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Id] = @__id_0
2025-05-21 15:04:29.660 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__bookId_0='6d858026-d70a-4441-8837-01f8d972cb26', @__p_1='0', @__p_2='5'], CommandType='"Text"', CommandTimeout='30']
SELECT [r0].[Id], [r0].[BookId], [r0].[Comment], [r0].[CreatedAtUtc], [r0].[IsApproved], [r0].[Rating], [r0].[UpdatedAtUtc], [r0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName]
FROM (
    SELECT [r].[Id], [r].[BookId], [r].[Comment], [r].[CreatedAtUtc], [r].[IsApproved], [r].[Rating], [r].[UpdatedAtUtc], [r].[UserId]
    FROM [Review] AS [r]
    WHERE [r].[BookId] = @__bookId_0 AND [r].[IsApproved] = CAST(1 AS bit)
    ORDER BY [r].[CreatedAtUtc] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [r0]
INNER JOIN [Users] AS [u] ON [r0].[UserId] = [u].[Id]
ORDER BY [r0].[CreatedAtUtc] DESC
2025-05-21 15:04:29.697 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@__userId_0='f54527eb-f806-40db-bf76-c7b0e5fa6d39'], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[BookId], [w].[CreatedAtUtc], [w].[UserId], [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [WishlistItems] AS [w]
INNER JOIN (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
) AS [b0] ON [w].[BookId] = [b0].[Id]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
WHERE [w].[UserId] = @__userId_0 AND [b0].[IsDeleted] = CAST(0 AS bit)
ORDER BY [w].[CreatedAtUtc] DESC
2025-05-21 15:09:22.786 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetching home dashboard data.
2025-05-21 15:09:22.835 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit)
ORDER BY [b].[CreatedAtUtc] DESC
2025-05-21 15:09:22.839 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetched 10 newest books.
2025-05-21 15:09:22.849 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (8ms) [Parameters=[@__p_2='5', @__inclusiveStartDate_0='2025-04-21T00:00:00.0000000Z', @__inclusiveEndDate_1='2025-05-22T00:00:00.0000000Z'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[BookId], [b2].[Title] AS [BookTitle], [s].[TotalQuantitySold]
FROM (
    SELECT TOP(@__p_2) [o].[BookId], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold]
    FROM [OrderDetails] AS [o]
    INNER JOIN [Orders] AS [o0] ON [o].[OrderId] = [o0].[Id]
    INNER JOIN (
        SELECT [b].[Id], [b].[IsDeleted]
        FROM [Books] AS [b]
        WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ) AS [b0] ON [o].[BookId] = [b0].[Id]
    WHERE [o0].[Status] = CAST(3 AS tinyint) AND [o0].[OrderDate] >= @__inclusiveStartDate_0 AND [o0].[OrderDate] < @__inclusiveEndDate_1 AND [b0].[IsDeleted] = CAST(0 AS bit)
    GROUP BY [o].[BookId]
    ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC
) AS [s]
INNER JOIN (
    SELECT [b1].[Id], [b1].[Title]
    FROM [Books] AS [b1]
    WHERE [b1].[IsDeleted] = CAST(0 AS bit)
) AS [b2] ON [s].[BookId] = [b2].[Id]
ORDER BY [s].[TotalQuantitySold] DESC
2025-05-21 15:09:22.860 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (5ms) [Parameters=[@__bestsellerBookIds_0='["ba80e2b5-b426-44eb-acfa-06315f9fcb6b","c191919e-e763-4e03-9e2b-24d944f4d401","39f2e54f-3480-424d-9611-a9b9097314a9","6c50f852-d8c7-4ef9-a26a-c9d292ef9108","6d858026-d70a-4441-8837-01f8d972cb26"]' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Id] IN (
    SELECT [b0].[value]
    FROM OPENJSON(@__bestsellerBookIds_0) WITH ([value] uniqueidentifier '$') AS [b0]
) AND [b].[IsDeleted] = CAST(0 AS bit)
2025-05-21 15:09:22.865 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetched 5 bestselling books.
2025-05-21 15:09:22.871 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (5ms) [Parameters=[@__currentDate_0='2025-05-21T08:09:22.8663770Z', @__currentDate_1='2025-05-21T08:09:22.8663770Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Code], [p].[CreatedAtUtc], [p].[CurrentUsage], [p].[Description], [p].[DiscountAmount], [p].[DiscountPercentage], [p].[EndDate], [p].[IsActive], [p].[MaxUsage], [p].[StartDate], [p].[UpdatedAtUtc]
FROM [Promotions] AS [p]
WHERE [p].[IsActive] = CAST(1 AS bit) AND [p].[StartDate] <= @__currentDate_0 AND ([p].[EndDate] IS NULL OR [p].[EndDate] >= @__currentDate_1) AND ([p].[MaxUsage] IS NULL OR [p].[CurrentUsage] < [p].[MaxUsage])
ORDER BY [p].[EndDate]
2025-05-21 15:09:22.878 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[ParentCategoryId] IS NULL AND [c].[IsDeleted] = CAST(0 AS bit)
ORDER BY [c].[Name]
2025-05-21 15:09:22.881 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Successfully fetched home dashboard data.
2025-05-21 15:09:27.587 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__p_0='0', @__p_1='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit)
ORDER BY [c].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-21 15:09:28.541 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='707f89a4-da65-4b5e-a890-485a3b929301' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__p_0
2025-05-21 15:09:28.559 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@__catId_0='707f89a4-da65-4b5e-a890-485a3b929301', @__p_1='0', @__p_2='20'], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[CategoryId] = @__catId_0
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [b0]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b0].[CategoryId] = [c0].[Id]
ORDER BY [b0].[CreatedAtUtc] DESC
2025-05-21 15:09:29.564 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__id_0='6d858026-d70a-4441-8837-01f8d972cb26'], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b].[CategoryId] = [c0].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Id] = @__id_0
2025-05-21 15:09:29.714 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (5ms) [Parameters=[@__bookId_0='6d858026-d70a-4441-8837-01f8d972cb26', @__p_1='0', @__p_2='5'], CommandType='"Text"', CommandTimeout='30']
SELECT [r0].[Id], [r0].[BookId], [r0].[Comment], [r0].[CreatedAtUtc], [r0].[IsApproved], [r0].[Rating], [r0].[UpdatedAtUtc], [r0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName]
FROM (
    SELECT [r].[Id], [r].[BookId], [r].[Comment], [r].[CreatedAtUtc], [r].[IsApproved], [r].[Rating], [r].[UpdatedAtUtc], [r].[UserId]
    FROM [Review] AS [r]
    WHERE [r].[BookId] = @__bookId_0 AND [r].[IsApproved] = CAST(1 AS bit)
    ORDER BY [r].[CreatedAtUtc] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [r0]
INNER JOIN [Users] AS [u] ON [r0].[UserId] = [u].[Id]
ORDER BY [r0].[CreatedAtUtc] DESC
2025-05-21 15:09:29.759 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (6ms) [Parameters=[@__userId_0='f54527eb-f806-40db-bf76-c7b0e5fa6d39'], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[BookId], [w].[CreatedAtUtc], [w].[UserId], [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [WishlistItems] AS [w]
INNER JOIN (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
) AS [b0] ON [w].[BookId] = [b0].[Id]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
WHERE [w].[UserId] = @__userId_0 AND [b0].[IsDeleted] = CAST(0 AS bit)
ORDER BY [w].[CreatedAtUtc] DESC
2025-05-21 15:13:30.908 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetching home dashboard data.
2025-05-21 15:13:30.957 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit)
ORDER BY [b].[CreatedAtUtc] DESC
2025-05-21 15:13:30.962 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetched 10 newest books.
2025-05-21 15:13:30.971 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (8ms) [Parameters=[@__p_2='5', @__inclusiveStartDate_0='2025-04-21T00:00:00.0000000Z', @__inclusiveEndDate_1='2025-05-22T00:00:00.0000000Z'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[BookId], [b2].[Title] AS [BookTitle], [s].[TotalQuantitySold]
FROM (
    SELECT TOP(@__p_2) [o].[BookId], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold]
    FROM [OrderDetails] AS [o]
    INNER JOIN [Orders] AS [o0] ON [o].[OrderId] = [o0].[Id]
    INNER JOIN (
        SELECT [b].[Id], [b].[IsDeleted]
        FROM [Books] AS [b]
        WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ) AS [b0] ON [o].[BookId] = [b0].[Id]
    WHERE [o0].[Status] = CAST(3 AS tinyint) AND [o0].[OrderDate] >= @__inclusiveStartDate_0 AND [o0].[OrderDate] < @__inclusiveEndDate_1 AND [b0].[IsDeleted] = CAST(0 AS bit)
    GROUP BY [o].[BookId]
    ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC
) AS [s]
INNER JOIN (
    SELECT [b1].[Id], [b1].[Title]
    FROM [Books] AS [b1]
    WHERE [b1].[IsDeleted] = CAST(0 AS bit)
) AS [b2] ON [s].[BookId] = [b2].[Id]
ORDER BY [s].[TotalQuantitySold] DESC
2025-05-21 15:13:30.980 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@__bestsellerBookIds_0='["ba80e2b5-b426-44eb-acfa-06315f9fcb6b","c191919e-e763-4e03-9e2b-24d944f4d401","39f2e54f-3480-424d-9611-a9b9097314a9","6c50f852-d8c7-4ef9-a26a-c9d292ef9108","6d858026-d70a-4441-8837-01f8d972cb26"]' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Id] IN (
    SELECT [b0].[value]
    FROM OPENJSON(@__bestsellerBookIds_0) WITH ([value] uniqueidentifier '$') AS [b0]
) AND [b].[IsDeleted] = CAST(0 AS bit)
2025-05-21 15:13:30.991 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetched 5 bestselling books.
2025-05-21 15:13:30.996 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__currentDate_0='2025-05-21T08:13:30.9932372Z', @__currentDate_1='2025-05-21T08:13:30.9932372Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Code], [p].[CreatedAtUtc], [p].[CurrentUsage], [p].[Description], [p].[DiscountAmount], [p].[DiscountPercentage], [p].[EndDate], [p].[IsActive], [p].[MaxUsage], [p].[StartDate], [p].[UpdatedAtUtc]
FROM [Promotions] AS [p]
WHERE [p].[IsActive] = CAST(1 AS bit) AND [p].[StartDate] <= @__currentDate_0 AND ([p].[EndDate] IS NULL OR [p].[EndDate] >= @__currentDate_1) AND ([p].[MaxUsage] IS NULL OR [p].[CurrentUsage] < [p].[MaxUsage])
ORDER BY [p].[EndDate]
2025-05-21 15:13:31.007 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[ParentCategoryId] IS NULL AND [c].[IsDeleted] = CAST(0 AS bit)
ORDER BY [c].[Name]
2025-05-21 15:13:31.016 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Successfully fetched home dashboard data.
2025-05-21 15:13:36.581 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__id_0='6c50f852-d8c7-4ef9-a26a-c9d292ef9108'], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b].[CategoryId] = [c0].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Id] = @__id_0
2025-05-21 15:13:36.774 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (10ms) [Parameters=[@__bookId_0='6c50f852-d8c7-4ef9-a26a-c9d292ef9108', @__p_1='0', @__p_2='5'], CommandType='"Text"', CommandTimeout='30']
SELECT [r0].[Id], [r0].[BookId], [r0].[Comment], [r0].[CreatedAtUtc], [r0].[IsApproved], [r0].[Rating], [r0].[UpdatedAtUtc], [r0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName]
FROM (
    SELECT [r].[Id], [r].[BookId], [r].[Comment], [r].[CreatedAtUtc], [r].[IsApproved], [r].[Rating], [r].[UpdatedAtUtc], [r].[UserId]
    FROM [Review] AS [r]
    WHERE [r].[BookId] = @__bookId_0 AND [r].[IsApproved] = CAST(1 AS bit)
    ORDER BY [r].[CreatedAtUtc] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [r0]
INNER JOIN [Users] AS [u] ON [r0].[UserId] = [u].[Id]
ORDER BY [r0].[CreatedAtUtc] DESC
2025-05-21 15:14:08.813 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (6ms) [Parameters=[@__email_0='Admin' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u1].[Id], [u1].[CreatedAtUtc], [u1].[Email], [u1].[FirstName], [u1].[IsActive], [u1].[LastName], [u1].[PasswordHash], [u1].[PhoneNumber], [u1].[UpdatedAtUtc], [u1].[UserName], [s].[UserId], [s].[RoleId], [s].[Id], [s].[CreatedAtUtc], [s].[Name], [s].[UpdatedAtUtc]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName]
    FROM [Users] AS [u]
    WHERE [u].[Email] = @__email_0
) AS [u1]
LEFT JOIN (
    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[CreatedAtUtc], [r].[Name], [r].[UpdatedAtUtc]
    FROM [UserRoles] AS [u0]
    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
) AS [s] ON [u1].[Id] = [s].[UserId]
ORDER BY [u1].[Id], [s].[UserId], [s].[RoleId]
2025-05-21 15:14:08.828 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (5ms) [Parameters=[@__username_0='Admin' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u1].[Id], [u1].[CreatedAtUtc], [u1].[Email], [u1].[FirstName], [u1].[IsActive], [u1].[LastName], [u1].[PasswordHash], [u1].[PhoneNumber], [u1].[UpdatedAtUtc], [u1].[UserName], [s].[UserId], [s].[RoleId], [s].[Id], [s].[CreatedAtUtc], [s].[Name], [s].[UpdatedAtUtc]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName]
    FROM [Users] AS [u]
    WHERE [u].[UserName] = @__username_0
) AS [u1]
LEFT JOIN (
    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[CreatedAtUtc], [r].[Name], [r].[UpdatedAtUtc]
    FROM [UserRoles] AS [u0]
    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
) AS [s] ON [u1].[Id] = [s].[UserId]
ORDER BY [u1].[Id], [s].[UserId], [s].[RoleId]
2025-05-21 15:14:13.563 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__email_0='Admin' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u1].[Id], [u1].[CreatedAtUtc], [u1].[Email], [u1].[FirstName], [u1].[IsActive], [u1].[LastName], [u1].[PasswordHash], [u1].[PhoneNumber], [u1].[UpdatedAtUtc], [u1].[UserName], [s].[UserId], [s].[RoleId], [s].[Id], [s].[CreatedAtUtc], [s].[Name], [s].[UpdatedAtUtc]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName]
    FROM [Users] AS [u]
    WHERE [u].[Email] = @__email_0
) AS [u1]
LEFT JOIN (
    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[CreatedAtUtc], [r].[Name], [r].[UpdatedAtUtc]
    FROM [UserRoles] AS [u0]
    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
) AS [s] ON [u1].[Id] = [s].[UserId]
ORDER BY [u1].[Id], [s].[UserId], [s].[RoleId]
2025-05-21 15:14:13.569 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__username_0='Admin' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u1].[Id], [u1].[CreatedAtUtc], [u1].[Email], [u1].[FirstName], [u1].[IsActive], [u1].[LastName], [u1].[PasswordHash], [u1].[PhoneNumber], [u1].[UpdatedAtUtc], [u1].[UserName], [s].[UserId], [s].[RoleId], [s].[Id], [s].[CreatedAtUtc], [s].[Name], [s].[UpdatedAtUtc]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName]
    FROM [Users] AS [u]
    WHERE [u].[UserName] = @__username_0
) AS [u1]
LEFT JOIN (
    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[CreatedAtUtc], [r].[Name], [r].[UpdatedAtUtc]
    FROM [UserRoles] AS [u0]
    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
) AS [s] ON [u1].[Id] = [s].[UserId]
ORDER BY [u1].[Id], [s].[UserId], [s].[RoleId]
2025-05-21 15:14:13.833 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__userId_0='f54527eb-f806-40db-bf76-c7b0e5fa6d39'], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Name]
FROM [UserRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0
2025-05-21 15:14:13.924 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetching home dashboard data.
2025-05-21 15:14:13.928 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit)
ORDER BY [b].[CreatedAtUtc] DESC
2025-05-21 15:14:13.932 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetched 10 newest books.
2025-05-21 15:14:13.941 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (6ms) [Parameters=[@__p_2='5', @__inclusiveStartDate_0='2025-04-21T00:00:00.0000000Z', @__inclusiveEndDate_1='2025-05-22T00:00:00.0000000Z'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[BookId], [b2].[Title] AS [BookTitle], [s].[TotalQuantitySold]
FROM (
    SELECT TOP(@__p_2) [o].[BookId], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold]
    FROM [OrderDetails] AS [o]
    INNER JOIN [Orders] AS [o0] ON [o].[OrderId] = [o0].[Id]
    INNER JOIN (
        SELECT [b].[Id], [b].[IsDeleted]
        FROM [Books] AS [b]
        WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ) AS [b0] ON [o].[BookId] = [b0].[Id]
    WHERE [o0].[Status] = CAST(3 AS tinyint) AND [o0].[OrderDate] >= @__inclusiveStartDate_0 AND [o0].[OrderDate] < @__inclusiveEndDate_1 AND [b0].[IsDeleted] = CAST(0 AS bit)
    GROUP BY [o].[BookId]
    ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC
) AS [s]
INNER JOIN (
    SELECT [b1].[Id], [b1].[Title]
    FROM [Books] AS [b1]
    WHERE [b1].[IsDeleted] = CAST(0 AS bit)
) AS [b2] ON [s].[BookId] = [b2].[Id]
ORDER BY [s].[TotalQuantitySold] DESC
2025-05-21 15:14:13.954 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@__bestsellerBookIds_0='["ba80e2b5-b426-44eb-acfa-06315f9fcb6b","c191919e-e763-4e03-9e2b-24d944f4d401","39f2e54f-3480-424d-9611-a9b9097314a9","6c50f852-d8c7-4ef9-a26a-c9d292ef9108","6d858026-d70a-4441-8837-01f8d972cb26"]' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Id] IN (
    SELECT [b0].[value]
    FROM OPENJSON(@__bestsellerBookIds_0) WITH ([value] uniqueidentifier '$') AS [b0]
) AND [b].[IsDeleted] = CAST(0 AS bit)
2025-05-21 15:14:13.963 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetched 5 bestselling books.
2025-05-21 15:14:13.968 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__currentDate_0='2025-05-21T08:14:13.9649791Z', @__currentDate_1='2025-05-21T08:14:13.9649791Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Code], [p].[CreatedAtUtc], [p].[CurrentUsage], [p].[Description], [p].[DiscountAmount], [p].[DiscountPercentage], [p].[EndDate], [p].[IsActive], [p].[MaxUsage], [p].[StartDate], [p].[UpdatedAtUtc]
FROM [Promotions] AS [p]
WHERE [p].[IsActive] = CAST(1 AS bit) AND [p].[StartDate] <= @__currentDate_0 AND ([p].[EndDate] IS NULL OR [p].[EndDate] >= @__currentDate_1) AND ([p].[MaxUsage] IS NULL OR [p].[CurrentUsage] < [p].[MaxUsage])
ORDER BY [p].[EndDate]
2025-05-21 15:14:13.976 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[ParentCategoryId] IS NULL AND [c].[IsDeleted] = CAST(0 AS bit)
ORDER BY [c].[Name]
2025-05-21 15:14:13.980 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Successfully fetched home dashboard data.
2025-05-21 15:17:56.369 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (15ms) [Parameters=[@__id_0='c191919e-e763-4e03-9e2b-24d944f4d401'], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b].[CategoryId] = [c0].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Id] = @__id_0
2025-05-21 15:17:56.461 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (6ms) [Parameters=[@__bookId_0='c191919e-e763-4e03-9e2b-24d944f4d401', @__p_1='0', @__p_2='5'], CommandType='"Text"', CommandTimeout='30']
SELECT [r0].[Id], [r0].[BookId], [r0].[Comment], [r0].[CreatedAtUtc], [r0].[IsApproved], [r0].[Rating], [r0].[UpdatedAtUtc], [r0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName]
FROM (
    SELECT [r].[Id], [r].[BookId], [r].[Comment], [r].[CreatedAtUtc], [r].[IsApproved], [r].[Rating], [r].[UpdatedAtUtc], [r].[UserId]
    FROM [Review] AS [r]
    WHERE [r].[BookId] = @__bookId_0 AND [r].[IsApproved] = CAST(1 AS bit)
    ORDER BY [r].[CreatedAtUtc] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [r0]
INNER JOIN [Users] AS [u] ON [r0].[UserId] = [u].[Id]
ORDER BY [r0].[CreatedAtUtc] DESC
2025-05-21 15:17:56.497 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (5ms) [Parameters=[@__userId_0='f54527eb-f806-40db-bf76-c7b0e5fa6d39'], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[BookId], [w].[CreatedAtUtc], [w].[UserId], [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [WishlistItems] AS [w]
INNER JOIN (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
) AS [b0] ON [w].[BookId] = [b0].[Id]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
WHERE [w].[UserId] = @__userId_0 AND [b0].[IsDeleted] = CAST(0 AS bit)
ORDER BY [w].[CreatedAtUtc] DESC
2025-05-21 15:18:01.250 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@__userId_0='f54527eb-f806-40db-bf76-c7b0e5fa6d39'], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[UserId], [c].[BookId], [c].[CreatedAtUtc], [c].[Quantity], [c].[UpdatedAtUtc], [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [CartItems] AS [c]
INNER JOIN (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
) AS [b0] ON [c].[BookId] = [b0].[Id]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
WHERE [c].[UserId] = @__userId_0
ORDER BY [b0].[Title]
2025-05-21 15:18:02.948 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__p_0='f54527eb-f806-40db-bf76-c7b0e5fa6d39' (Nullable = true), @__p_1='5d8fc980-abf3-49f8-a735-92c402be0cbe' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[UserId], [c].[BookId], [c].[CreatedAtUtc], [c].[Quantity], [c].[UpdatedAtUtc]
FROM [CartItems] AS [c]
WHERE [c].[UserId] = @__p_0 AND [c].[BookId] = @__p_1
2025-05-21 15:18:02.958 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='5d8fc980-abf3-49f8-a735-92c402be0cbe' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
FROM [Books] AS [b]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Id] = @__p_0
2025-05-21 15:18:02.965 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@p3='5d8fc980-abf3-49f8-a735-92c402be0cbe', @p4='f54527eb-f806-40db-bf76-c7b0e5fa6d39', @p0='2025-05-21T07:42:57.6824836', @p1='4', @p2='2025-05-21T08:18:02.9618234Z'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [CartItems] SET [CreatedAtUtc] = @p0, [Quantity] = @p1, [UpdatedAtUtc] = @p2
OUTPUT 1
WHERE [BookId] = @p3 AND [UserId] = @p4;
2025-05-21 15:18:03.724 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__p_0='f54527eb-f806-40db-bf76-c7b0e5fa6d39' (Nullable = true), @__p_1='5d8fc980-abf3-49f8-a735-92c402be0cbe' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[UserId], [c].[BookId], [c].[CreatedAtUtc], [c].[Quantity], [c].[UpdatedAtUtc]
FROM [CartItems] AS [c]
WHERE [c].[UserId] = @__p_0 AND [c].[BookId] = @__p_1
2025-05-21 15:18:03.729 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__p_0='5d8fc980-abf3-49f8-a735-92c402be0cbe' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
FROM [Books] AS [b]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Id] = @__p_0
2025-05-21 15:18:03.745 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (8ms) [Parameters=[@p3='5d8fc980-abf3-49f8-a735-92c402be0cbe', @p4='f54527eb-f806-40db-bf76-c7b0e5fa6d39', @p0='2025-05-21T07:42:57.6824836', @p1='3', @p2='2025-05-21T08:18:03.7377832Z'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [CartItems] SET [CreatedAtUtc] = @p0, [Quantity] = @p1, [UpdatedAtUtc] = @p2
OUTPUT 1
WHERE [BookId] = @p3 AND [UserId] = @p4;
2025-05-21 15:18:04.281 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='f54527eb-f806-40db-bf76-c7b0e5fa6d39' (Nullable = true), @__p_1='5d8fc980-abf3-49f8-a735-92c402be0cbe' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[UserId], [c].[BookId], [c].[CreatedAtUtc], [c].[Quantity], [c].[UpdatedAtUtc]
FROM [CartItems] AS [c]
WHERE [c].[UserId] = @__p_0 AND [c].[BookId] = @__p_1
2025-05-21 15:18:04.286 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__p_0='5d8fc980-abf3-49f8-a735-92c402be0cbe' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
FROM [Books] AS [b]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Id] = @__p_0
2025-05-21 15:18:04.302 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (8ms) [Parameters=[@p3='5d8fc980-abf3-49f8-a735-92c402be0cbe', @p4='f54527eb-f806-40db-bf76-c7b0e5fa6d39', @p0='2025-05-21T07:42:57.6824836', @p1='4', @p2='2025-05-21T08:18:04.2942040Z'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [CartItems] SET [CreatedAtUtc] = @p0, [Quantity] = @p1, [UpdatedAtUtc] = @p2
OUTPUT 1
WHERE [BookId] = @p3 AND [UserId] = @p4;
2025-05-21 15:18:04.765 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__p_0='f54527eb-f806-40db-bf76-c7b0e5fa6d39' (Nullable = true), @__p_1='5d8fc980-abf3-49f8-a735-92c402be0cbe' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[UserId], [c].[BookId], [c].[CreatedAtUtc], [c].[Quantity], [c].[UpdatedAtUtc]
FROM [CartItems] AS [c]
WHERE [c].[UserId] = @__p_0 AND [c].[BookId] = @__p_1
2025-05-21 15:18:04.770 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__p_0='5d8fc980-abf3-49f8-a735-92c402be0cbe' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
FROM [Books] AS [b]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Id] = @__p_0
2025-05-21 15:18:04.779 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@p3='5d8fc980-abf3-49f8-a735-92c402be0cbe', @p4='f54527eb-f806-40db-bf76-c7b0e5fa6d39', @p0='2025-05-21T07:42:57.6824836', @p1='5', @p2='2025-05-21T08:18:04.7784648Z'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [CartItems] SET [CreatedAtUtc] = @p0, [Quantity] = @p1, [UpdatedAtUtc] = @p2
OUTPUT 1
WHERE [BookId] = @p3 AND [UserId] = @p4;
2025-05-21 15:18:06.195 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__userId_0='f54527eb-f806-40db-bf76-c7b0e5fa6d39'], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[UserId], [c].[BookId], [c].[CreatedAtUtc], [c].[Quantity], [c].[UpdatedAtUtc], [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [CartItems] AS [c]
INNER JOIN (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
) AS [b0] ON [c].[BookId] = [b0].[Id]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
WHERE [c].[UserId] = @__userId_0
ORDER BY [b0].[Title]
2025-05-21 15:18:06.209 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__userId_0='f54527eb-f806-40db-bf76-c7b0e5fa6d39'], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[City], [a].[CreatedAtUtc], [a].[District], [a].[IsDefault], [a].[Street], [a].[UpdatedAtUtc], [a].[UserId], [a].[Village]
FROM [Addresses] AS [a]
WHERE [a].[UserId] = @__userId_0
ORDER BY [a].[IsDefault] DESC, [a].[UpdatedAtUtc] DESC
2025-05-21 15:18:30.530 +07:00 [INF] (Bookstore.Application.Services.OrderService) Attempting to create online order for User: "f54527eb-f806-40db-bf76-c7b0e5fa6d39"
2025-05-21 15:18:30.538 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (5ms) [Parameters=[@__userId_0='f54527eb-f806-40db-bf76-c7b0e5fa6d39'], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[UserId], [c].[BookId], [c].[CreatedAtUtc], [c].[Quantity], [c].[UpdatedAtUtc], [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [CartItems] AS [c]
INNER JOIN (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
) AS [b0] ON [c].[BookId] = [b0].[Id]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
WHERE [c].[UserId] = @__userId_0
ORDER BY [b0].[Title]
2025-05-21 15:18:30.545 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='516b2c01-6a97-480f-a9e8-ba120a10223c' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[City], [a].[CreatedAtUtc], [a].[District], [a].[IsDefault], [a].[Street], [a].[UpdatedAtUtc], [a].[UserId], [a].[Village]
FROM [Addresses] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-21 15:18:30.592 +07:00 [WRN] (Microsoft.EntityFrameworkCore.Database.Transaction) Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2025-05-21 15:18:30.603 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (8ms) [Parameters=[@p0='ecd80062-a13a-426f-ab52-8ac1b213577f', @p1='TpHCM' (Nullable = false) (Size = 100), @p2='Tan Binh' (Nullable = false) (Size = 100), @p3=NULL (Size = 20), @p4=NULL (Size = 200), @p5='139. Bach DAng' (Nullable = false) (Size = 256), @p6='phuong 3' (Size = 100), @p7='8185832d-6cdc-4807-a5ca-f043601ad781', @p8='2025-05-21T08:18:30.5924682Z', @p9='0' (Size = 1), @p10=NULL (Size = 50), @p11='2025-05-21T08:18:30.5920014Z', @p12='ecd80062-a13a-426f-ab52-8ac1b213577f' (Nullable = true), @p13='0' (Size = 1), @p14='0' (Nullable = true) (Size = 1), @p15='0' (Size = 1), @p16='105.00' (Precision = 18) (Scale = 2), @p17=NULL (Size = 4000), @p18='2025-05-21T08:18:30.5924680Z', @p19='f54527eb-f806-40db-bf76-c7b0e5fa6d39' (Nullable = true), @p20='29932a78-5d0a-4c18-a534-0d93ec469e71', @p21='5d8fc980-abf3-49f8-a735-92c402be0cbe', @p22='8185832d-6cdc-4807-a5ca-f043601ad781', @p23='5', @p24='21.00' (Precision = 18) (Scale = 2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OrderShippingAddresses] ([Id], [City], [District], [PhoneNumber], [RecipientName], [Street], [Village])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
INSERT INTO [Orders] ([Id], [CreatedAtUtc], [DeliveryMethod], [InvoiceNumber], [OrderDate], [OrderShippingAddressId], [OrderType], [PaymentMethod], [Status], [TotalAmount], [TransactionId], [UpdatedAtUtc], [UserId])
OUTPUT INSERTED.[PaymentStatus]
VALUES (@p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19);
INSERT INTO [OrderDetails] ([Id], [BookId], [OrderId], [Quantity], [UnitPrice])
VALUES (@p20, @p21, @p22, @p23, @p24);
2025-05-21 15:18:30.608 +07:00 [INF] (Bookstore.Application.Services.OrderService) Order "8185832d-6cdc-4807-a5ca-f043601ad781" created with Pending status for User "f54527eb-f806-40db-bf76-c7b0e5fa6d39".
2025-05-21 15:18:30.610 +07:00 [INF] (Bookstore.Application.Services.OrderService) Simulating online payment for Order "8185832d-6cdc-4807-a5ca-f043601ad781", Amount: 105.00
2025-05-21 15:18:31.612 +07:00 [INF] (Bookstore.Application.Services.OrderService) Payment simulation successful for Order "8185832d-6cdc-4807-a5ca-f043601ad781". TransactionId: PMT_BE1AEF84
2025-05-21 15:18:31.614 +07:00 [INF] (Bookstore.Application.Services.OrderService) Payment successful for Order "8185832d-6cdc-4807-a5ca-f043601ad781".
2025-05-21 15:18:31.618 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__p_0='5d8fc980-abf3-49f8-a735-92c402be0cbe' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
FROM [Books] AS [b]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Id] = @__p_0
2025-05-21 15:18:31.624 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__userId_0='f54527eb-f806-40db-bf76-c7b0e5fa6d39'], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[UserId], [c].[BookId], [c].[CreatedAtUtc], [c].[Quantity], [c].[UpdatedAtUtc]
FROM [CartItems] AS [c]
WHERE [c].[UserId] = @__userId_0
2025-05-21 15:18:31.628 +07:00 [WRN] (Microsoft.EntityFrameworkCore.Database.Transaction) Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2025-05-21 15:18:31.642 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (11ms) [Parameters=[@p13='5d8fc980-abf3-49f8-a735-92c402be0cbe', @p0='e5f6a1b2-c3d4-4e5f-8a6b-5c4d5e6f7a8b' (Nullable = true), @p1='da2a34a1-f94b-4610-818a-8b1d0564f01b', @p2='http://images.amazon.com/images/P/1451648537.01.MZZZZZZZ.jpg' (Size = 4000), @p3='2025-04-25T11:14:27.9233333', @p4='The authorized self-titled biography book of Steve Jobs.' (Size = 4000), @p5='978-1451648539' (Size = 4000), @p6='False', @p7='21.00' (Precision = 18) (Scale = 2), @p8='2011' (Nullable = true), @p9='Simon & Schuster' (Size = 4000), @p10='55', @p11='Steve Jobs' (Nullable = false) (Size = 4000), @p12='2025-05-21T08:18:31.6274408Z', @p14='5d8fc980-abf3-49f8-a735-92c402be0cbe', @p15='f54527eb-f806-40db-bf76-c7b0e5fa6d39', @p16='9e0b3fc7-8783-478a-ae70-6180e8b8f340', @p17='5d8fc980-abf3-49f8-a735-92c402be0cbe', @p18='-5', @p19='8185832d-6cdc-4807-a5ca-f043601ad781' (Nullable = true), @p20='1' (Size = 1), @p21=NULL (DbType = Guid), @p22='2025-05-21T08:18:31.6218693Z', @p23='f54527eb-f806-40db-bf76-c7b0e5fa6d39' (Nullable = true), @p37='8185832d-6cdc-4807-a5ca-f043601ad781', @p24='2025-05-21T08:18:30.5924682Z', @p25='0' (Size = 1), @p26='INV-20250521-8185' (Size = 50), @p27='2025-05-21T08:18:30.5920014Z', @p28='ecd80062-a13a-426f-ab52-8ac1b213577f' (Nullable = true), @p29='0' (Size = 1), @p30='0' (Nullable = true) (Size = 1), @p31='Completed' (Nullable = false) (Size = 50), @p32='1' (Size = 1), @p33='105.00' (Precision = 18) (Scale = 2), @p34='PMT_BE1AEF84' (Size = 4000), @p35='2025-05-21T08:18:31.6274402Z', @p36='f54527eb-f806-40db-bf76-c7b0e5fa6d39' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Books] SET [AuthorId] = @p0, [CategoryId] = @p1, [CoverImageUrl] = @p2, [CreatedAtUtc] = @p3, [Description] = @p4, [ISBN] = @p5, [IsDeleted] = @p6, [Price] = @p7, [PublicationYear] = @p8, [Publisher] = @p9, [StockQuantity] = @p10, [Title] = @p11, [UpdatedAtUtc] = @p12
OUTPUT 1
WHERE [Id] = @p13;
DELETE FROM [CartItems]
OUTPUT 1
WHERE [BookId] = @p14 AND [UserId] = @p15;
INSERT INTO [InventoryLogs] ([Id], [BookId], [ChangeQuantity], [OrderId], [Reason], [StockReceiptId], [TimestampUtc], [UserId])
VALUES (@p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23);
UPDATE [Orders] SET [CreatedAtUtc] = @p24, [DeliveryMethod] = @p25, [InvoiceNumber] = @p26, [OrderDate] = @p27, [OrderShippingAddressId] = @p28, [OrderType] = @p29, [PaymentMethod] = @p30, [PaymentStatus] = @p31, [Status] = @p32, [TotalAmount] = @p33, [TransactionId] = @p34, [UpdatedAtUtc] = @p35, [UserId] = @p36
OUTPUT 1
WHERE [Id] = @p37;
2025-05-21 15:18:31.650 +07:00 [INF] (Bookstore.Application.Services.OrderService) Order "8185832d-6cdc-4807-a5ca-f043601ad781" processing completed successfully for User "f54527eb-f806-40db-bf76-c7b0e5fa6d39".
2025-05-21 15:18:31.661 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (8ms) [Parameters=[@__orderId_0='8185832d-6cdc-4807-a5ca-f043601ad781'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CreatedAtUtc], [s].[DeliveryMethod], [s].[InvoiceNumber], [s].[OrderDate], [s].[OrderShippingAddressId], [s].[OrderType], [s].[PaymentMethod], [s].[PaymentStatus], [s].[Status], [s].[TotalAmount], [s].[TransactionId], [s].[UpdatedAtUtc], [s].[UserId], [s].[Id0], [s].[CreatedAtUtc0], [s].[Email], [s].[FirstName], [s].[IsActive], [s].[LastName], [s].[PasswordHash], [s].[PhoneNumber], [s].[UpdatedAtUtc0], [s].[UserName], [s].[Id1], [s].[City], [s].[District], [s].[PhoneNumber0], [s].[RecipientName], [s].[Street], [s].[Village], [s0].[Id], [s0].[BookId], [s0].[OrderId], [s0].[Quantity], [s0].[UnitPrice], [s0].[Id0], [s0].[AuthorId], [s0].[CategoryId], [s0].[CoverImageUrl], [s0].[CreatedAtUtc], [s0].[Description], [s0].[ISBN], [s0].[IsDeleted], [s0].[Price], [s0].[PublicationYear], [s0].[Publisher], [s0].[StockQuantity], [s0].[Title], [s0].[UpdatedAtUtc], [s0].[Id1], [s0].[Biography], [s0].[CreatedAtUtc0], [s0].[Name], [s0].[UpdatedAtUtc0]
FROM (
    SELECT TOP(1) [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId], [u].[Id] AS [Id0], [u].[CreatedAtUtc] AS [CreatedAtUtc0], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc] AS [UpdatedAtUtc0], [u].[UserName], [o0].[Id] AS [Id1], [o0].[City], [o0].[District], [o0].[PhoneNumber] AS [PhoneNumber0], [o0].[RecipientName], [o0].[Street], [o0].[Village]
    FROM [Orders] AS [o]
    LEFT JOIN [Users] AS [u] ON [o].[UserId] = [u].[Id]
    LEFT JOIN [OrderShippingAddresses] AS [o0] ON [o].[OrderShippingAddressId] = [o0].[Id]
    WHERE [o].[Id] = @__orderId_0
) AS [s]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[BookId], [o1].[OrderId], [o1].[Quantity], [o1].[UnitPrice], [b0].[Id] AS [Id0], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id] AS [Id1], [a].[Biography], [a].[CreatedAtUtc] AS [CreatedAtUtc0], [a].[Name], [a].[UpdatedAtUtc] AS [UpdatedAtUtc0]
    FROM [OrderDetails] AS [o1]
    INNER JOIN (
        SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
        FROM [Books] AS [b]
        WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ) AS [b0] ON [o1].[BookId] = [b0].[Id]
    LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
) AS [s0] ON [s].[Id] = [s0].[OrderId]
ORDER BY [s].[Id], [s].[Id0], [s].[Id1], [s0].[Id], [s0].[Id0]
2025-05-21 15:18:31.767 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching orders for User: "f54527eb-f806-40db-bf76-c7b0e5fa6d39", Page: 1, PageSize: 15
2025-05-21 15:18:31.774 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@__userId_0='f54527eb-f806-40db-bf76-c7b0e5fa6d39' (Nullable = true), @__p_1='0', @__p_2='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [o1].[Id], [o1].[CreatedAtUtc], [o1].[DeliveryMethod], [o1].[InvoiceNumber], [o1].[OrderDate], [o1].[OrderShippingAddressId], [o1].[OrderType], [o1].[PaymentMethod], [o1].[PaymentStatus], [o1].[Status], [o1].[TotalAmount], [o1].[TransactionId], [o1].[UpdatedAtUtc], [o1].[UserId], [o0].[Id], [o0].[BookId], [o0].[OrderId], [o0].[Quantity], [o0].[UnitPrice]
FROM (
    SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[UserId] = @__userId_0
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [o1]
LEFT JOIN [OrderDetails] AS [o0] ON [o1].[Id] = [o0].[OrderId]
ORDER BY [o1].[OrderDate] DESC, [o1].[Id]
2025-05-21 15:18:31.774 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching orders for User: "f54527eb-f806-40db-bf76-c7b0e5fa6d39", Page: 1, PageSize: 15
2025-05-21 15:18:31.785 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__userId_0='f54527eb-f806-40db-bf76-c7b0e5fa6d39' (Nullable = true), @__p_1='0', @__p_2='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [o1].[Id], [o1].[CreatedAtUtc], [o1].[DeliveryMethod], [o1].[InvoiceNumber], [o1].[OrderDate], [o1].[OrderShippingAddressId], [o1].[OrderType], [o1].[PaymentMethod], [o1].[PaymentStatus], [o1].[Status], [o1].[TotalAmount], [o1].[TransactionId], [o1].[UpdatedAtUtc], [o1].[UserId], [o0].[Id], [o0].[BookId], [o0].[OrderId], [o0].[Quantity], [o0].[UnitPrice]
FROM (
    SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[UserId] = @__userId_0
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [o1]
LEFT JOIN [OrderDetails] AS [o0] ON [o1].[Id] = [o0].[OrderId]
ORDER BY [o1].[OrderDate] DESC, [o1].[Id]
2025-05-21 15:18:33.269 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching order details "8185832d-6cdc-4807-a5ca-f043601ad781" for User: "f54527eb-f806-40db-bf76-c7b0e5fa6d39"
2025-05-21 15:18:33.276 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__orderId_0='8185832d-6cdc-4807-a5ca-f043601ad781'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CreatedAtUtc], [s].[DeliveryMethod], [s].[InvoiceNumber], [s].[OrderDate], [s].[OrderShippingAddressId], [s].[OrderType], [s].[PaymentMethod], [s].[PaymentStatus], [s].[Status], [s].[TotalAmount], [s].[TransactionId], [s].[UpdatedAtUtc], [s].[UserId], [s].[Id0], [s].[CreatedAtUtc0], [s].[Email], [s].[FirstName], [s].[IsActive], [s].[LastName], [s].[PasswordHash], [s].[PhoneNumber], [s].[UpdatedAtUtc0], [s].[UserName], [s].[Id1], [s].[City], [s].[District], [s].[PhoneNumber0], [s].[RecipientName], [s].[Street], [s].[Village], [s0].[Id], [s0].[BookId], [s0].[OrderId], [s0].[Quantity], [s0].[UnitPrice], [s0].[Id0], [s0].[AuthorId], [s0].[CategoryId], [s0].[CoverImageUrl], [s0].[CreatedAtUtc], [s0].[Description], [s0].[ISBN], [s0].[IsDeleted], [s0].[Price], [s0].[PublicationYear], [s0].[Publisher], [s0].[StockQuantity], [s0].[Title], [s0].[UpdatedAtUtc], [s0].[Id1], [s0].[Biography], [s0].[CreatedAtUtc0], [s0].[Name], [s0].[UpdatedAtUtc0]
FROM (
    SELECT TOP(1) [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId], [u].[Id] AS [Id0], [u].[CreatedAtUtc] AS [CreatedAtUtc0], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc] AS [UpdatedAtUtc0], [u].[UserName], [o0].[Id] AS [Id1], [o0].[City], [o0].[District], [o0].[PhoneNumber] AS [PhoneNumber0], [o0].[RecipientName], [o0].[Street], [o0].[Village]
    FROM [Orders] AS [o]
    LEFT JOIN [Users] AS [u] ON [o].[UserId] = [u].[Id]
    LEFT JOIN [OrderShippingAddresses] AS [o0] ON [o].[OrderShippingAddressId] = [o0].[Id]
    WHERE [o].[Id] = @__orderId_0
) AS [s]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[BookId], [o1].[OrderId], [o1].[Quantity], [o1].[UnitPrice], [b0].[Id] AS [Id0], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id] AS [Id1], [a].[Biography], [a].[CreatedAtUtc] AS [CreatedAtUtc0], [a].[Name], [a].[UpdatedAtUtc] AS [UpdatedAtUtc0]
    FROM [OrderDetails] AS [o1]
    INNER JOIN (
        SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
        FROM [Books] AS [b]
        WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ) AS [b0] ON [o1].[BookId] = [b0].[Id]
    LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
) AS [s0] ON [s].[Id] = [s0].[OrderId]
ORDER BY [s].[Id], [s].[Id0], [s].[Id1], [s0].[Id], [s0].[Id0]
2025-05-21 15:32:35.724 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (13ms) [Parameters=[@__userId_0='f54527eb-f806-40db-bf76-c7b0e5fa6d39'], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[BookId], [w].[CreatedAtUtc], [w].[UserId], [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [WishlistItems] AS [w]
INNER JOIN (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
) AS [b0] ON [w].[BookId] = [b0].[Id]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
WHERE [w].[UserId] = @__userId_0 AND [b0].[IsDeleted] = CAST(0 AS bit)
ORDER BY [w].[CreatedAtUtc] DESC
2025-05-21 15:32:37.308 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching orders for User: "f54527eb-f806-40db-bf76-c7b0e5fa6d39", Page: 1, PageSize: 15
2025-05-21 15:32:37.308 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching orders for User: "f54527eb-f806-40db-bf76-c7b0e5fa6d39", Page: 1, PageSize: 15
2025-05-21 15:32:37.316 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (6ms) [Parameters=[@__userId_0='f54527eb-f806-40db-bf76-c7b0e5fa6d39' (Nullable = true), @__p_1='0', @__p_2='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [o1].[Id], [o1].[CreatedAtUtc], [o1].[DeliveryMethod], [o1].[InvoiceNumber], [o1].[OrderDate], [o1].[OrderShippingAddressId], [o1].[OrderType], [o1].[PaymentMethod], [o1].[PaymentStatus], [o1].[Status], [o1].[TotalAmount], [o1].[TransactionId], [o1].[UpdatedAtUtc], [o1].[UserId], [o0].[Id], [o0].[BookId], [o0].[OrderId], [o0].[Quantity], [o0].[UnitPrice]
FROM (
    SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[UserId] = @__userId_0
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [o1]
LEFT JOIN [OrderDetails] AS [o0] ON [o1].[Id] = [o0].[OrderId]
ORDER BY [o1].[OrderDate] DESC, [o1].[Id]
2025-05-21 15:32:37.323 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__userId_0='f54527eb-f806-40db-bf76-c7b0e5fa6d39' (Nullable = true), @__p_1='0', @__p_2='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [o1].[Id], [o1].[CreatedAtUtc], [o1].[DeliveryMethod], [o1].[InvoiceNumber], [o1].[OrderDate], [o1].[OrderShippingAddressId], [o1].[OrderType], [o1].[PaymentMethod], [o1].[PaymentStatus], [o1].[Status], [o1].[TotalAmount], [o1].[TransactionId], [o1].[UpdatedAtUtc], [o1].[UserId], [o0].[Id], [o0].[BookId], [o0].[OrderId], [o0].[Quantity], [o0].[UnitPrice]
FROM (
    SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[UserId] = @__userId_0
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [o1]
LEFT JOIN [OrderDetails] AS [o0] ON [o1].[Id] = [o0].[OrderId]
ORDER BY [o1].[OrderDate] DESC, [o1].[Id]
2025-05-21 15:32:39.163 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (8ms) [Parameters=[@__userId_0='f54527eb-f806-40db-bf76-c7b0e5fa6d39'], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[City], [a].[CreatedAtUtc], [a].[District], [a].[IsDefault], [a].[Street], [a].[UpdatedAtUtc], [a].[UserId], [a].[Village]
FROM [Addresses] AS [a]
WHERE [a].[UserId] = @__userId_0
ORDER BY [a].[IsDefault] DESC, [a].[UpdatedAtUtc] DESC
2025-05-21 15:32:39.166 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (12ms) [Parameters=[@__userId_0='f54527eb-f806-40db-bf76-c7b0e5fa6d39'], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[UserId], [c].[BookId], [c].[CreatedAtUtc], [c].[Quantity], [c].[UpdatedAtUtc], [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [CartItems] AS [c]
INNER JOIN (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
) AS [b0] ON [c].[BookId] = [b0].[Id]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
WHERE [c].[UserId] = @__userId_0
ORDER BY [b0].[Title]
2025-05-21 15:32:46.969 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__userId_0='f54527eb-f806-40db-bf76-c7b0e5fa6d39'], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[UserId], [c].[BookId], [c].[CreatedAtUtc], [c].[Quantity], [c].[UpdatedAtUtc], [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [CartItems] AS [c]
INNER JOIN (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
) AS [b0] ON [c].[BookId] = [b0].[Id]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
WHERE [c].[UserId] = @__userId_0
ORDER BY [b0].[Title]
2025-05-21 15:32:48.506 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__userId_0='f54527eb-f806-40db-bf76-c7b0e5fa6d39'], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[BookId], [w].[CreatedAtUtc], [w].[UserId], [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [WishlistItems] AS [w]
INNER JOIN (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
) AS [b0] ON [w].[BookId] = [b0].[Id]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
WHERE [w].[UserId] = @__userId_0 AND [b0].[IsDeleted] = CAST(0 AS bit)
ORDER BY [w].[CreatedAtUtc] DESC
2025-05-21 15:32:50.907 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching orders for User: "f54527eb-f806-40db-bf76-c7b0e5fa6d39", Page: 1, PageSize: 15
2025-05-21 15:32:50.911 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__userId_0='f54527eb-f806-40db-bf76-c7b0e5fa6d39' (Nullable = true), @__p_1='0', @__p_2='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [o1].[Id], [o1].[CreatedAtUtc], [o1].[DeliveryMethod], [o1].[InvoiceNumber], [o1].[OrderDate], [o1].[OrderShippingAddressId], [o1].[OrderType], [o1].[PaymentMethod], [o1].[PaymentStatus], [o1].[Status], [o1].[TotalAmount], [o1].[TransactionId], [o1].[UpdatedAtUtc], [o1].[UserId], [o0].[Id], [o0].[BookId], [o0].[OrderId], [o0].[Quantity], [o0].[UnitPrice]
FROM (
    SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[UserId] = @__userId_0
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [o1]
LEFT JOIN [OrderDetails] AS [o0] ON [o1].[Id] = [o0].[OrderId]
ORDER BY [o1].[OrderDate] DESC, [o1].[Id]
2025-05-21 15:32:50.912 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching orders for User: "f54527eb-f806-40db-bf76-c7b0e5fa6d39", Page: 1, PageSize: 15
2025-05-21 15:32:50.918 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__userId_0='f54527eb-f806-40db-bf76-c7b0e5fa6d39' (Nullable = true), @__p_1='0', @__p_2='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [o1].[Id], [o1].[CreatedAtUtc], [o1].[DeliveryMethod], [o1].[InvoiceNumber], [o1].[OrderDate], [o1].[OrderShippingAddressId], [o1].[OrderType], [o1].[PaymentMethod], [o1].[PaymentStatus], [o1].[Status], [o1].[TotalAmount], [o1].[TransactionId], [o1].[UpdatedAtUtc], [o1].[UserId], [o0].[Id], [o0].[BookId], [o0].[OrderId], [o0].[Quantity], [o0].[UnitPrice]
FROM (
    SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[UserId] = @__userId_0
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [o1]
LEFT JOIN [OrderDetails] AS [o0] ON [o1].[Id] = [o0].[OrderId]
ORDER BY [o1].[OrderDate] DESC, [o1].[Id]
2025-05-21 15:32:52.909 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching order details "8185832d-6cdc-4807-a5ca-f043601ad781" for User: "f54527eb-f806-40db-bf76-c7b0e5fa6d39"
2025-05-21 15:32:52.922 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (10ms) [Parameters=[@__orderId_0='8185832d-6cdc-4807-a5ca-f043601ad781'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CreatedAtUtc], [s].[DeliveryMethod], [s].[InvoiceNumber], [s].[OrderDate], [s].[OrderShippingAddressId], [s].[OrderType], [s].[PaymentMethod], [s].[PaymentStatus], [s].[Status], [s].[TotalAmount], [s].[TransactionId], [s].[UpdatedAtUtc], [s].[UserId], [s].[Id0], [s].[CreatedAtUtc0], [s].[Email], [s].[FirstName], [s].[IsActive], [s].[LastName], [s].[PasswordHash], [s].[PhoneNumber], [s].[UpdatedAtUtc0], [s].[UserName], [s].[Id1], [s].[City], [s].[District], [s].[PhoneNumber0], [s].[RecipientName], [s].[Street], [s].[Village], [s0].[Id], [s0].[BookId], [s0].[OrderId], [s0].[Quantity], [s0].[UnitPrice], [s0].[Id0], [s0].[AuthorId], [s0].[CategoryId], [s0].[CoverImageUrl], [s0].[CreatedAtUtc], [s0].[Description], [s0].[ISBN], [s0].[IsDeleted], [s0].[Price], [s0].[PublicationYear], [s0].[Publisher], [s0].[StockQuantity], [s0].[Title], [s0].[UpdatedAtUtc], [s0].[Id1], [s0].[Biography], [s0].[CreatedAtUtc0], [s0].[Name], [s0].[UpdatedAtUtc0]
FROM (
    SELECT TOP(1) [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId], [u].[Id] AS [Id0], [u].[CreatedAtUtc] AS [CreatedAtUtc0], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc] AS [UpdatedAtUtc0], [u].[UserName], [o0].[Id] AS [Id1], [o0].[City], [o0].[District], [o0].[PhoneNumber] AS [PhoneNumber0], [o0].[RecipientName], [o0].[Street], [o0].[Village]
    FROM [Orders] AS [o]
    LEFT JOIN [Users] AS [u] ON [o].[UserId] = [u].[Id]
    LEFT JOIN [OrderShippingAddresses] AS [o0] ON [o].[OrderShippingAddressId] = [o0].[Id]
    WHERE [o].[Id] = @__orderId_0
) AS [s]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[BookId], [o1].[OrderId], [o1].[Quantity], [o1].[UnitPrice], [b0].[Id] AS [Id0], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id] AS [Id1], [a].[Biography], [a].[CreatedAtUtc] AS [CreatedAtUtc0], [a].[Name], [a].[UpdatedAtUtc] AS [UpdatedAtUtc0]
    FROM [OrderDetails] AS [o1]
    INNER JOIN (
        SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
        FROM [Books] AS [b]
        WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ) AS [b0] ON [o1].[BookId] = [b0].[Id]
    LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
) AS [s0] ON [s].[Id] = [s0].[OrderId]
ORDER BY [s].[Id], [s].[Id0], [s].[Id1], [s0].[Id], [s0].[Id0]
2025-05-21 15:32:57.616 +07:00 [INF] (Bookstore.Application.Services.UserService) Fetching all users for admin. RoleFilter: All, StatusFilter: All, Page: 1, PageSize: 20
2025-05-21 15:32:57.625 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (6ms) [Parameters=[@__p_0='0', @__p_1='20'], CommandType='"Text"', CommandTimeout='30']
SELECT [u1].[Id], [u1].[CreatedAtUtc], [u1].[Email], [u1].[FirstName], [u1].[IsActive], [u1].[LastName], [u1].[PasswordHash], [u1].[PhoneNumber], [u1].[UpdatedAtUtc], [u1].[UserName], [s].[UserId], [s].[RoleId], [s].[Id], [s].[CreatedAtUtc], [s].[Name], [s].[UpdatedAtUtc]
FROM (
    SELECT [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName]
    FROM [Users] AS [u]
    ORDER BY [u].[UserName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [u1]
LEFT JOIN (
    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[CreatedAtUtc], [r].[Name], [r].[UpdatedAtUtc]
    FROM [UserRoles] AS [u0]
    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
) AS [s] ON [u1].[Id] = [s].[UserId]
ORDER BY [u1].[UserName], [u1].[Id], [s].[UserId], [s].[RoleId]
2025-05-21 15:33:00.776 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Code], [p].[CreatedAtUtc], [p].[CurrentUsage], [p].[Description], [p].[DiscountAmount], [p].[DiscountPercentage], [p].[EndDate], [p].[IsActive], [p].[MaxUsage], [p].[StartDate], [p].[UpdatedAtUtc]
FROM [Promotions] AS [p]
ORDER BY [p].[CreatedAtUtc] DESC
2025-05-21 15:33:04.749 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__p_0='eea2d334-19ad-4b79-ae66-ec801fc8b50c' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Code], [p].[CreatedAtUtc], [p].[CurrentUsage], [p].[Description], [p].[DiscountAmount], [p].[DiscountPercentage], [p].[EndDate], [p].[IsActive], [p].[MaxUsage], [p].[StartDate], [p].[UpdatedAtUtc]
FROM [Promotions] AS [p]
WHERE [p].[Id] = @__p_0
2025-05-21 15:33:18.582 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='eea2d334-19ad-4b79-ae66-ec801fc8b50c' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Code], [p].[CreatedAtUtc], [p].[CurrentUsage], [p].[Description], [p].[DiscountAmount], [p].[DiscountPercentage], [p].[EndDate], [p].[IsActive], [p].[MaxUsage], [p].[StartDate], [p].[UpdatedAtUtc]
FROM [Promotions] AS [p]
WHERE [p].[Id] = @__p_0
2025-05-21 15:33:18.605 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (5ms) [Parameters=[@p11='eea2d334-19ad-4b79-ae66-ec801fc8b50c', @p0='XUAN25' (Nullable = false) (Size = 50), @p1='2025-04-17T10:37:45.7575853', @p2='0', @p3='Mừng xuân 2026 26%' (Size = 256), @p4=NULL (Precision = 18) (Scale = 2) (DbType = Decimal), @p5='26.00' (Nullable = true) (Precision = 5) (Scale = 2), @p6='2025-05-31T00:00:00.0000000' (Nullable = true), @p7='True', @p8='0' (Nullable = true), @p9='2025-04-17T00:00:00.0000000', @p10='2025-05-21T08:33:18.5977159Z'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Promotions] SET [Code] = @p0, [CreatedAtUtc] = @p1, [CurrentUsage] = @p2, [Description] = @p3, [DiscountAmount] = @p4, [DiscountPercentage] = @p5, [EndDate] = @p6, [IsActive] = @p7, [MaxUsage] = @p8, [StartDate] = @p9, [UpdatedAtUtc] = @p10
OUTPUT 1
WHERE [Id] = @p11;
2025-05-21 15:34:32.689 +07:00 [INF] (Bookstore.Application.Services.ReportService) Generating revenue report from "2025-05-15T00:00:00.0000000" to "2025-05-21T00:00:00.0000000"
2025-05-21 15:34:32.690 +07:00 [INF] (Bookstore.Application.Services.ReportService) Generating bestsellers report from "2025-05-15T00:00:00.0000000" to "2025-05-21T00:00:00.0000000", top 7
2025-05-21 15:34:32.700 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__inclusiveStartDate_0='2025-05-15T00:00:00.0000000', @__inclusiveEndDate_1='2025-05-22T00:00:00.0000000'], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
FROM [Orders] AS [o]
WHERE [o].[Status] = CAST(3 AS tinyint) AND [o].[OrderDate] >= @__inclusiveStartDate_0 AND [o].[OrderDate] < @__inclusiveEndDate_1
2025-05-21 15:34:32.702 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (8ms) [Parameters=[@__p_2='7', @__inclusiveStartDate_0='2025-05-15T00:00:00.0000000', @__inclusiveEndDate_1='2025-05-22T00:00:00.0000000'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[BookId], [b2].[Title] AS [BookTitle], [s].[TotalQuantitySold]
FROM (
    SELECT TOP(@__p_2) [o].[BookId], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold]
    FROM [OrderDetails] AS [o]
    INNER JOIN [Orders] AS [o0] ON [o].[OrderId] = [o0].[Id]
    INNER JOIN (
        SELECT [b].[Id], [b].[IsDeleted]
        FROM [Books] AS [b]
        WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ) AS [b0] ON [o].[BookId] = [b0].[Id]
    WHERE [o0].[Status] = CAST(3 AS tinyint) AND [o0].[OrderDate] >= @__inclusiveStartDate_0 AND [o0].[OrderDate] < @__inclusiveEndDate_1 AND [b0].[IsDeleted] = CAST(0 AS bit)
    GROUP BY [o].[BookId]
    ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC
) AS [s]
INNER JOIN (
    SELECT [b1].[Id], [b1].[Title]
    FROM [Books] AS [b1]
    WHERE [b1].[IsDeleted] = CAST(0 AS bit)
) AS [b2] ON [s].[BookId] = [b2].[Id]
ORDER BY [s].[TotalQuantitySold] DESC
2025-05-21 15:34:32.705 +07:00 [INF] (Bookstore.Application.Services.ReportService) Generating low stock report with threshold 5
2025-05-21 15:34:32.713 +07:00 [INF] (Bookstore.Application.Services.ReportService) Bestsellers report generated successfully.
2025-05-21 15:34:32.714 +07:00 [INF] (Bookstore.Application.Services.ReportService) Revenue report generated successfully.
2025-05-21 15:34:32.723 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__lowStockThreshold_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[StockQuantity] > 0 AND [b].[StockQuantity] <= @__lowStockThreshold_0
ORDER BY [b].[StockQuantity]
2025-05-21 15:34:35.410 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__p_0='eea2d334-19ad-4b79-ae66-ec801fc8b50c' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Code], [p].[CreatedAtUtc], [p].[CurrentUsage], [p].[Description], [p].[DiscountAmount], [p].[DiscountPercentage], [p].[EndDate], [p].[IsActive], [p].[MaxUsage], [p].[StartDate], [p].[UpdatedAtUtc]
FROM [Promotions] AS [p]
WHERE [p].[Id] = @__p_0
2025-05-21 15:34:44.662 +07:00 [INF] (Bookstore.Application.Services.ReportService) Generating revenue report from "2025-05-15T00:00:00.0000000" to "2025-05-21T00:00:00.0000000"
2025-05-21 15:34:44.665 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__inclusiveStartDate_0='2025-05-15T00:00:00.0000000', @__inclusiveEndDate_1='2025-05-22T00:00:00.0000000'], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
FROM [Orders] AS [o]
WHERE [o].[Status] = CAST(3 AS tinyint) AND [o].[OrderDate] >= @__inclusiveStartDate_0 AND [o].[OrderDate] < @__inclusiveEndDate_1
2025-05-21 15:34:44.668 +07:00 [INF] (Bookstore.Application.Services.ReportService) Generating bestsellers report from "2025-05-15T00:00:00.0000000" to "2025-05-21T00:00:00.0000000", top 7
2025-05-21 15:34:44.670 +07:00 [INF] (Bookstore.Application.Services.ReportService) Revenue report generated successfully.
2025-05-21 15:34:44.673 +07:00 [INF] (Bookstore.Application.Services.ReportService) Generating low stock report with threshold 5
2025-05-21 15:34:44.673 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_2='7', @__inclusiveStartDate_0='2025-05-15T00:00:00.0000000', @__inclusiveEndDate_1='2025-05-22T00:00:00.0000000'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[BookId], [b2].[Title] AS [BookTitle], [s].[TotalQuantitySold]
FROM (
    SELECT TOP(@__p_2) [o].[BookId], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold]
    FROM [OrderDetails] AS [o]
    INNER JOIN [Orders] AS [o0] ON [o].[OrderId] = [o0].[Id]
    INNER JOIN (
        SELECT [b].[Id], [b].[IsDeleted]
        FROM [Books] AS [b]
        WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ) AS [b0] ON [o].[BookId] = [b0].[Id]
    WHERE [o0].[Status] = CAST(3 AS tinyint) AND [o0].[OrderDate] >= @__inclusiveStartDate_0 AND [o0].[OrderDate] < @__inclusiveEndDate_1 AND [b0].[IsDeleted] = CAST(0 AS bit)
    GROUP BY [o].[BookId]
    ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC
) AS [s]
INNER JOIN (
    SELECT [b1].[Id], [b1].[Title]
    FROM [Books] AS [b1]
    WHERE [b1].[IsDeleted] = CAST(0 AS bit)
) AS [b2] ON [s].[BookId] = [b2].[Id]
ORDER BY [s].[TotalQuantitySold] DESC
2025-05-21 15:34:44.677 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__lowStockThreshold_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[StockQuantity] > 0 AND [b].[StockQuantity] <= @__lowStockThreshold_0
ORDER BY [b].[StockQuantity]
2025-05-21 15:34:44.685 +07:00 [INF] (Bookstore.Application.Services.ReportService) Bestsellers report generated successfully.
2025-05-21 15:34:56.846 +07:00 [INF] (Bookstore.Application.Services.InventoryService) Fetching inventory history. BookId: null, Reason: null, Start: "2025-04-01T00:00:00.0000000", End: "2025-05-21T00:00:00.0000000", User: null, Page: 1
2025-05-21 15:34:56.863 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__inclusiveStartDate_0='2025-04-01T00:00:00.0000000', @__inclusiveEndDate_1='2025-05-22T00:00:00.0000000'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [InventoryLogs] AS [i]
WHERE [i].[TimestampUtc] >= @__inclusiveStartDate_0 AND [i].[TimestampUtc] < @__inclusiveEndDate_1
2025-05-21 15:34:56.885 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@__inclusiveStartDate_0='2025-04-01T00:00:00.0000000', @__inclusiveEndDate_1='2025-05-22T00:00:00.0000000', @__p_2='0', @__p_3='20'], CommandType='"Text"', CommandTimeout='30']
SELECT [i0].[Id], [i0].[BookId], [i0].[ChangeQuantity], [i0].[OrderId], [i0].[Reason], [i0].[StockReceiptId], [i0].[TimestampUtc], [i0].[UserId], [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName]
FROM (
    SELECT [i].[Id], [i].[BookId], [i].[ChangeQuantity], [i].[OrderId], [i].[Reason], [i].[StockReceiptId], [i].[TimestampUtc], [i].[UserId]
    FROM [InventoryLogs] AS [i]
    WHERE [i].[TimestampUtc] >= @__inclusiveStartDate_0 AND [i].[TimestampUtc] < @__inclusiveEndDate_1
    ORDER BY [i].[TimestampUtc] DESC
    OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
) AS [i0]
INNER JOIN (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
) AS [b0] ON [i0].[BookId] = [b0].[Id]
LEFT JOIN [Users] AS [u] ON [i0].[UserId] = [u].[Id]
ORDER BY [i0].[TimestampUtc] DESC
2025-05-21 15:35:06.121 +07:00 [INF] (Bookstore.Application.Services.InventoryService) Fetching inventory history. BookId: null, Reason: "StockReceipt", Start: "2025-04-01T00:00:00.0000000", End: "2025-05-21T00:00:00.0000000", User: null, Page: 1
2025-05-21 15:35:06.131 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__reason_Value_0='0' (Size = 1), @__inclusiveStartDate_1='2025-04-01T00:00:00.0000000', @__inclusiveEndDate_2='2025-05-22T00:00:00.0000000'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [InventoryLogs] AS [i]
WHERE [i].[Reason] = @__reason_Value_0 AND [i].[TimestampUtc] >= @__inclusiveStartDate_1 AND [i].[TimestampUtc] < @__inclusiveEndDate_2
2025-05-21 15:35:06.152 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (5ms) [Parameters=[@__reason_Value_0='0' (Size = 1), @__inclusiveStartDate_1='2025-04-01T00:00:00.0000000', @__inclusiveEndDate_2='2025-05-22T00:00:00.0000000', @__p_3='0', @__p_4='20'], CommandType='"Text"', CommandTimeout='30']
SELECT [i0].[Id], [i0].[BookId], [i0].[ChangeQuantity], [i0].[OrderId], [i0].[Reason], [i0].[StockReceiptId], [i0].[TimestampUtc], [i0].[UserId], [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName]
FROM (
    SELECT [i].[Id], [i].[BookId], [i].[ChangeQuantity], [i].[OrderId], [i].[Reason], [i].[StockReceiptId], [i].[TimestampUtc], [i].[UserId]
    FROM [InventoryLogs] AS [i]
    WHERE [i].[Reason] = @__reason_Value_0 AND [i].[TimestampUtc] >= @__inclusiveStartDate_1 AND [i].[TimestampUtc] < @__inclusiveEndDate_2
    ORDER BY [i].[TimestampUtc] DESC
    OFFSET @__p_3 ROWS FETCH NEXT @__p_4 ROWS ONLY
) AS [i0]
INNER JOIN (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
) AS [b0] ON [i0].[BookId] = [b0].[Id]
LEFT JOIN [Users] AS [u] ON [i0].[UserId] = [u].[Id]
ORDER BY [i0].[TimestampUtc] DESC
2025-05-21 15:35:09.312 +07:00 [INF] (Bookstore.Application.Services.InventoryService) Fetching inventory history. BookId: null, Reason: "InStoreSale", Start: "2025-04-01T00:00:00.0000000", End: "2025-05-21T00:00:00.0000000", User: null, Page: 1
2025-05-21 15:35:09.319 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__reason_Value_0='2' (Size = 1), @__inclusiveStartDate_1='2025-04-01T00:00:00.0000000', @__inclusiveEndDate_2='2025-05-22T00:00:00.0000000'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [InventoryLogs] AS [i]
WHERE [i].[Reason] = @__reason_Value_0 AND [i].[TimestampUtc] >= @__inclusiveStartDate_1 AND [i].[TimestampUtc] < @__inclusiveEndDate_2
2025-05-21 15:35:09.329 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (6ms) [Parameters=[@__reason_Value_0='2' (Size = 1), @__inclusiveStartDate_1='2025-04-01T00:00:00.0000000', @__inclusiveEndDate_2='2025-05-22T00:00:00.0000000', @__p_3='0', @__p_4='20'], CommandType='"Text"', CommandTimeout='30']
SELECT [i0].[Id], [i0].[BookId], [i0].[ChangeQuantity], [i0].[OrderId], [i0].[Reason], [i0].[StockReceiptId], [i0].[TimestampUtc], [i0].[UserId], [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName]
FROM (
    SELECT [i].[Id], [i].[BookId], [i].[ChangeQuantity], [i].[OrderId], [i].[Reason], [i].[StockReceiptId], [i].[TimestampUtc], [i].[UserId]
    FROM [InventoryLogs] AS [i]
    WHERE [i].[Reason] = @__reason_Value_0 AND [i].[TimestampUtc] >= @__inclusiveStartDate_1 AND [i].[TimestampUtc] < @__inclusiveEndDate_2
    ORDER BY [i].[TimestampUtc] DESC
    OFFSET @__p_3 ROWS FETCH NEXT @__p_4 ROWS ONLY
) AS [i0]
INNER JOIN (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
) AS [b0] ON [i0].[BookId] = [b0].[Id]
LEFT JOIN [Users] AS [u] ON [i0].[UserId] = [u].[Id]
ORDER BY [i0].[TimestampUtc] DESC
2025-05-21 15:35:11.512 +07:00 [INF] (Bookstore.Application.Services.InventoryService) Fetching inventory history. BookId: null, Reason: "OnlineSale", Start: "2025-04-01T00:00:00.0000000", End: "2025-05-21T00:00:00.0000000", User: null, Page: 1
2025-05-21 15:35:11.518 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__reason_Value_0='1' (Size = 1), @__inclusiveStartDate_1='2025-04-01T00:00:00.0000000', @__inclusiveEndDate_2='2025-05-22T00:00:00.0000000'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [InventoryLogs] AS [i]
WHERE [i].[Reason] = @__reason_Value_0 AND [i].[TimestampUtc] >= @__inclusiveStartDate_1 AND [i].[TimestampUtc] < @__inclusiveEndDate_2
2025-05-21 15:35:11.522 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__reason_Value_0='1' (Size = 1), @__inclusiveStartDate_1='2025-04-01T00:00:00.0000000', @__inclusiveEndDate_2='2025-05-22T00:00:00.0000000', @__p_3='0', @__p_4='20'], CommandType='"Text"', CommandTimeout='30']
SELECT [i0].[Id], [i0].[BookId], [i0].[ChangeQuantity], [i0].[OrderId], [i0].[Reason], [i0].[StockReceiptId], [i0].[TimestampUtc], [i0].[UserId], [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName]
FROM (
    SELECT [i].[Id], [i].[BookId], [i].[ChangeQuantity], [i].[OrderId], [i].[Reason], [i].[StockReceiptId], [i].[TimestampUtc], [i].[UserId]
    FROM [InventoryLogs] AS [i]
    WHERE [i].[Reason] = @__reason_Value_0 AND [i].[TimestampUtc] >= @__inclusiveStartDate_1 AND [i].[TimestampUtc] < @__inclusiveEndDate_2
    ORDER BY [i].[TimestampUtc] DESC
    OFFSET @__p_3 ROWS FETCH NEXT @__p_4 ROWS ONLY
) AS [i0]
INNER JOIN (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
) AS [b0] ON [i0].[BookId] = [b0].[Id]
LEFT JOIN [Users] AS [u] ON [i0].[UserId] = [u].[Id]
ORDER BY [i0].[TimestampUtc] DESC
2025-05-21 15:35:14.863 +07:00 [INF] (Bookstore.Application.Services.InventoryService) Fetching inventory history. BookId: null, Reason: "InStoreSale", Start: "2025-04-01T00:00:00.0000000", End: "2025-05-21T00:00:00.0000000", User: null, Page: 1
2025-05-21 15:35:14.878 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__reason_Value_0='2' (Size = 1), @__inclusiveStartDate_1='2025-04-01T00:00:00.0000000', @__inclusiveEndDate_2='2025-05-22T00:00:00.0000000'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [InventoryLogs] AS [i]
WHERE [i].[Reason] = @__reason_Value_0 AND [i].[TimestampUtc] >= @__inclusiveStartDate_1 AND [i].[TimestampUtc] < @__inclusiveEndDate_2
2025-05-21 15:35:14.886 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__reason_Value_0='2' (Size = 1), @__inclusiveStartDate_1='2025-04-01T00:00:00.0000000', @__inclusiveEndDate_2='2025-05-22T00:00:00.0000000', @__p_3='0', @__p_4='20'], CommandType='"Text"', CommandTimeout='30']
SELECT [i0].[Id], [i0].[BookId], [i0].[ChangeQuantity], [i0].[OrderId], [i0].[Reason], [i0].[StockReceiptId], [i0].[TimestampUtc], [i0].[UserId], [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName]
FROM (
    SELECT [i].[Id], [i].[BookId], [i].[ChangeQuantity], [i].[OrderId], [i].[Reason], [i].[StockReceiptId], [i].[TimestampUtc], [i].[UserId]
    FROM [InventoryLogs] AS [i]
    WHERE [i].[Reason] = @__reason_Value_0 AND [i].[TimestampUtc] >= @__inclusiveStartDate_1 AND [i].[TimestampUtc] < @__inclusiveEndDate_2
    ORDER BY [i].[TimestampUtc] DESC
    OFFSET @__p_3 ROWS FETCH NEXT @__p_4 ROWS ONLY
) AS [i0]
INNER JOIN (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
) AS [b0] ON [i0].[BookId] = [b0].[Id]
LEFT JOIN [Users] AS [u] ON [i0].[UserId] = [u].[Id]
ORDER BY [i0].[TimestampUtc] DESC
2025-05-21 15:35:19.078 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching orders for User: "f54527eb-f806-40db-bf76-c7b0e5fa6d39", Page: 1, PageSize: 15
2025-05-21 15:35:19.078 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching orders for User: "f54527eb-f806-40db-bf76-c7b0e5fa6d39", Page: 1, PageSize: 15
2025-05-21 15:35:19.085 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@__userId_0='f54527eb-f806-40db-bf76-c7b0e5fa6d39' (Nullable = true), @__p_1='0', @__p_2='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [o1].[Id], [o1].[CreatedAtUtc], [o1].[DeliveryMethod], [o1].[InvoiceNumber], [o1].[OrderDate], [o1].[OrderShippingAddressId], [o1].[OrderType], [o1].[PaymentMethod], [o1].[PaymentStatus], [o1].[Status], [o1].[TotalAmount], [o1].[TransactionId], [o1].[UpdatedAtUtc], [o1].[UserId], [o0].[Id], [o0].[BookId], [o0].[OrderId], [o0].[Quantity], [o0].[UnitPrice]
FROM (
    SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[UserId] = @__userId_0
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [o1]
LEFT JOIN [OrderDetails] AS [o0] ON [o1].[Id] = [o0].[OrderId]
ORDER BY [o1].[OrderDate] DESC, [o1].[Id]
2025-05-21 15:35:19.086 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__userId_0='f54527eb-f806-40db-bf76-c7b0e5fa6d39' (Nullable = true), @__p_1='0', @__p_2='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [o1].[Id], [o1].[CreatedAtUtc], [o1].[DeliveryMethod], [o1].[InvoiceNumber], [o1].[OrderDate], [o1].[OrderShippingAddressId], [o1].[OrderType], [o1].[PaymentMethod], [o1].[PaymentStatus], [o1].[Status], [o1].[TotalAmount], [o1].[TransactionId], [o1].[UpdatedAtUtc], [o1].[UserId], [o0].[Id], [o0].[BookId], [o0].[OrderId], [o0].[Quantity], [o0].[UnitPrice]
FROM (
    SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[UserId] = @__userId_0
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [o1]
LEFT JOIN [OrderDetails] AS [o0] ON [o1].[Id] = [o0].[OrderId]
ORDER BY [o1].[OrderDate] DESC, [o1].[Id]
2025-05-21 15:35:24.533 +07:00 [INF] (Bookstore.Application.Services.ReportService) Fetching admin dashboard summary.
2025-05-21 15:35:24.541 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__todayStart_0='2025-05-21T00:00:00.0000000Z', @__tomorrowStart_1='2025-05-22T00:00:00.0000000Z'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[OrderDate] >= @__todayStart_0 AND [o].[OrderDate] < @__tomorrowStart_1 AND [o].[Status] <> CAST(4 AS tinyint)
2025-05-21 15:35:24.556 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__todayStart_0='2025-05-21T00:00:00.0000000Z', @__tomorrowStart_1='2025-05-22T00:00:00.0000000Z'], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalAmount]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[OrderDate] >= @__todayStart_0 AND [o].[OrderDate] < @__tomorrowStart_1 AND [o].[Status] = CAST(3 AS tinyint)
2025-05-21 15:35:24.567 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__todayStart_0='2025-05-21T00:00:00.0000000Z', @__tomorrowStart_1='2025-05-22T00:00:00.0000000Z'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[CreatedAtUtc] >= @__todayStart_0 AND [u].[CreatedAtUtc] < @__tomorrowStart_1
2025-05-21 15:35:24.577 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__lowStockThreshold_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Books] AS [b]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[IsDeleted] = CAST(0 AS bit) AND [b].[StockQuantity] > 0 AND [b].[StockQuantity] <= @__lowStockThreshold_0
2025-05-21 15:35:24.581 +07:00 [INF] (Bookstore.Application.Services.ReportService) Admin dashboard summary fetched successfully.
2025-05-21 15:35:27.516 +07:00 [INF] (Bookstore.Application.Services.AuthorService) Fetching all authors. Page: 1, PageSize: 15
2025-05-21 15:35:27.526 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Authors] AS [a]
ORDER BY [a].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-21 15:35:28.374 +07:00 [INF] (Bookstore.Application.Services.ReportService) Fetching admin dashboard summary.
2025-05-21 15:35:28.376 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__todayStart_0='2025-05-21T00:00:00.0000000Z', @__tomorrowStart_1='2025-05-22T00:00:00.0000000Z'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[OrderDate] >= @__todayStart_0 AND [o].[OrderDate] < @__tomorrowStart_1 AND [o].[Status] <> CAST(4 AS tinyint)
2025-05-21 15:35:28.381 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__todayStart_0='2025-05-21T00:00:00.0000000Z', @__tomorrowStart_1='2025-05-22T00:00:00.0000000Z'], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalAmount]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[OrderDate] >= @__todayStart_0 AND [o].[OrderDate] < @__tomorrowStart_1 AND [o].[Status] = CAST(3 AS tinyint)
2025-05-21 15:35:28.385 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__todayStart_0='2025-05-21T00:00:00.0000000Z', @__tomorrowStart_1='2025-05-22T00:00:00.0000000Z'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[CreatedAtUtc] >= @__todayStart_0 AND [u].[CreatedAtUtc] < @__tomorrowStart_1
2025-05-21 15:35:28.390 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__lowStockThreshold_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Books] AS [b]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[IsDeleted] = CAST(0 AS bit) AND [b].[StockQuantity] > 0 AND [b].[StockQuantity] <= @__lowStockThreshold_0
2025-05-21 15:35:28.395 +07:00 [INF] (Bookstore.Application.Services.ReportService) Admin dashboard summary fetched successfully.
2025-05-21 15:35:30.769 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching all orders for Admin. Page: 1, PageSize: 15, StatusFilter: None
2025-05-21 15:35:30.769 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching all orders for Admin. Page: 1, PageSize: 15, StatusFilter: None
2025-05-21 15:35:30.802 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (6ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [o0].[Id], [o0].[CreatedAtUtc], [o0].[DeliveryMethod], [o0].[InvoiceNumber], [o0].[OrderDate], [o0].[OrderShippingAddressId], [o0].[OrderType], [o0].[PaymentMethod], [o0].[PaymentStatus], [o0].[Status], [o0].[TotalAmount], [o0].[TransactionId], [o0].[UpdatedAtUtc], [o0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName], [o1].[Id], [o1].[BookId], [o1].[OrderId], [o1].[Quantity], [o1].[UnitPrice]
FROM (
    SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
    FROM [Orders] AS [o]
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [o0]
LEFT JOIN [Users] AS [u] ON [o0].[UserId] = [u].[Id]
LEFT JOIN [OrderDetails] AS [o1] ON [o0].[Id] = [o1].[OrderId]
ORDER BY [o0].[OrderDate] DESC, [o0].[Id], [u].[Id]
2025-05-21 15:35:30.802 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (6ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [o0].[Id], [o0].[CreatedAtUtc], [o0].[DeliveryMethod], [o0].[InvoiceNumber], [o0].[OrderDate], [o0].[OrderShippingAddressId], [o0].[OrderType], [o0].[PaymentMethod], [o0].[PaymentStatus], [o0].[Status], [o0].[TotalAmount], [o0].[TransactionId], [o0].[UpdatedAtUtc], [o0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName], [o1].[Id], [o1].[BookId], [o1].[OrderId], [o1].[Quantity], [o1].[UnitPrice]
FROM (
    SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
    FROM [Orders] AS [o]
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [o0]
LEFT JOIN [Users] AS [u] ON [o0].[UserId] = [u].[Id]
LEFT JOIN [OrderDetails] AS [o1] ON [o0].[Id] = [o1].[OrderId]
ORDER BY [o0].[OrderDate] DESC, [o0].[Id], [u].[Id]
2025-05-21 15:35:33.810 +07:00 [INF] (Bookstore.Application.Services.StockReceiptService) Fetching all stock receipts. Page: 1, PageSize: 15
2025-05-21 15:35:33.828 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [s1].[Id], [s1].[CreatedAtUtc], [s1].[Notes], [s1].[ReceiptDate], [s1].[SupplierId], [s1].[UpdatedAtUtc], [s0].[Id], [s0].[Address], [s0].[ContactPerson], [s0].[CreatedAtUtc], [s0].[Email], [s0].[Name], [s0].[Phone], [s0].[UpdatedAtUtc]
FROM (
    SELECT [s].[Id], [s].[CreatedAtUtc], [s].[Notes], [s].[ReceiptDate], [s].[SupplierId], [s].[UpdatedAtUtc]
    FROM [StockReceipts] AS [s]
    ORDER BY [s].[ReceiptDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [s1]
LEFT JOIN [Suppliers] AS [s0] ON [s1].[SupplierId] = [s0].[Id]
ORDER BY [s1].[ReceiptDate] DESC
2025-05-21 15:35:38.409 +07:00 [INF] (Bookstore.Application.Services.StockReceiptService) Fetching stock receipt with Id "94891e56-51e4-41dc-8f3a-1ff668a9a937"
2025-05-21 15:35:38.443 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (10ms) [Parameters=[@__id_0='94891e56-51e4-41dc-8f3a-1ff668a9a937'], CommandType='"Text"', CommandTimeout='30']
SELECT [s2].[Id], [s2].[CreatedAtUtc], [s2].[Notes], [s2].[ReceiptDate], [s2].[SupplierId], [s2].[UpdatedAtUtc], [s2].[Id0], [s2].[Address], [s2].[ContactPerson], [s2].[CreatedAtUtc0], [s2].[Email], [s2].[Name], [s2].[Phone], [s2].[UpdatedAtUtc0], [s3].[Id], [s3].[BookId], [s3].[PurchasePrice], [s3].[QuantityReceived], [s3].[StockReceiptId], [s3].[Id0], [s3].[AuthorId], [s3].[CategoryId], [s3].[CoverImageUrl], [s3].[CreatedAtUtc], [s3].[Description], [s3].[ISBN], [s3].[IsDeleted], [s3].[Price], [s3].[PublicationYear], [s3].[Publisher], [s3].[StockQuantity], [s3].[Title], [s3].[UpdatedAtUtc]
FROM (
    SELECT TOP(1) [s].[Id], [s].[CreatedAtUtc], [s].[Notes], [s].[ReceiptDate], [s].[SupplierId], [s].[UpdatedAtUtc], [s0].[Id] AS [Id0], [s0].[Address], [s0].[ContactPerson], [s0].[CreatedAtUtc] AS [CreatedAtUtc0], [s0].[Email], [s0].[Name], [s0].[Phone], [s0].[UpdatedAtUtc] AS [UpdatedAtUtc0]
    FROM [StockReceipts] AS [s]
    LEFT JOIN [Suppliers] AS [s0] ON [s].[SupplierId] = [s0].[Id]
    WHERE [s].[Id] = @__id_0
) AS [s2]
LEFT JOIN (
    SELECT [s1].[Id], [s1].[BookId], [s1].[PurchasePrice], [s1].[QuantityReceived], [s1].[StockReceiptId], [b0].[Id] AS [Id0], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc]
    FROM [StockReceiptDetails] AS [s1]
    INNER JOIN (
        SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
        FROM [Books] AS [b]
        WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ) AS [b0] ON [s1].[BookId] = [b0].[Id]
) AS [s3] ON [s2].[Id] = [s3].[StockReceiptId]
ORDER BY [s2].[Id], [s2].[Id0], [s3].[Id]
2025-05-21 15:35:48.597 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__p_0='0', @__p_1='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit)
ORDER BY [c].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-21 15:35:48.627 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (5ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b0].[CategoryId] = [c0].[Id]
ORDER BY [b0].[CreatedAtUtc] DESC
2025-05-21 15:35:48.627 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (5ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b0].[CategoryId] = [c0].[Id]
ORDER BY [b0].[CreatedAtUtc] DESC
2025-05-21 15:35:48.730 +07:00 [INF] (Bookstore.Application.Services.AuthorService) Fetching all authors. Page: 1, PageSize: 10
2025-05-21 15:35:48.733 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__p_0='0', @__p_1='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Authors] AS [a]
ORDER BY [a].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-21 15:35:50.750 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit)
ORDER BY [c].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-21 15:35:58.404 +07:00 [INF] (Bookstore.Application.Services.SupplierService) Fetching all suppliers.
2025-05-21 15:35:58.415 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Address], [s].[ContactPerson], [s].[CreatedAtUtc], [s].[Email], [s].[Name], [s].[Phone], [s].[UpdatedAtUtc]
FROM [Suppliers] AS [s]
ORDER BY [s].[Name]
2025-05-21 15:36:00.000 +07:00 [INF] (Bookstore.Application.Services.ReportService) Fetching admin dashboard summary.
2025-05-21 15:36:00.004 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__todayStart_0='2025-05-21T00:00:00.0000000Z', @__tomorrowStart_1='2025-05-22T00:00:00.0000000Z'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[OrderDate] >= @__todayStart_0 AND [o].[OrderDate] < @__tomorrowStart_1 AND [o].[Status] <> CAST(4 AS tinyint)
2025-05-21 15:36:00.010 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__todayStart_0='2025-05-21T00:00:00.0000000Z', @__tomorrowStart_1='2025-05-22T00:00:00.0000000Z'], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalAmount]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[OrderDate] >= @__todayStart_0 AND [o].[OrderDate] < @__tomorrowStart_1 AND [o].[Status] = CAST(3 AS tinyint)
2025-05-21 15:36:00.017 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__todayStart_0='2025-05-21T00:00:00.0000000Z', @__tomorrowStart_1='2025-05-22T00:00:00.0000000Z'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[CreatedAtUtc] >= @__todayStart_0 AND [u].[CreatedAtUtc] < @__tomorrowStart_1
2025-05-21 15:36:00.023 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__lowStockThreshold_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Books] AS [b]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[IsDeleted] = CAST(0 AS bit) AND [b].[StockQuantity] > 0 AND [b].[StockQuantity] <= @__lowStockThreshold_0
2025-05-21 15:36:00.027 +07:00 [INF] (Bookstore.Application.Services.ReportService) Admin dashboard summary fetched successfully.
2025-05-21 15:36:05.302 +07:00 [INF] (Bookstore.Application.Services.ReportService) Generating revenue report from "2025-05-15T00:00:00.0000000" to "2025-05-21T00:00:00.0000000"
2025-05-21 15:36:05.303 +07:00 [INF] (Bookstore.Application.Services.ReportService) Generating bestsellers report from "2025-05-15T00:00:00.0000000" to "2025-05-21T00:00:00.0000000", top 7
2025-05-21 15:36:05.304 +07:00 [INF] (Bookstore.Application.Services.ReportService) Generating low stock report with threshold 5
2025-05-21 15:36:05.306 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__inclusiveStartDate_0='2025-05-15T00:00:00.0000000', @__inclusiveEndDate_1='2025-05-22T00:00:00.0000000'], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
FROM [Orders] AS [o]
WHERE [o].[Status] = CAST(3 AS tinyint) AND [o].[OrderDate] >= @__inclusiveStartDate_0 AND [o].[OrderDate] < @__inclusiveEndDate_1
2025-05-21 15:36:05.313 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (6ms) [Parameters=[@__p_2='7', @__inclusiveStartDate_0='2025-05-15T00:00:00.0000000', @__inclusiveEndDate_1='2025-05-22T00:00:00.0000000'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[BookId], [b2].[Title] AS [BookTitle], [s].[TotalQuantitySold]
FROM (
    SELECT TOP(@__p_2) [o].[BookId], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold]
    FROM [OrderDetails] AS [o]
    INNER JOIN [Orders] AS [o0] ON [o].[OrderId] = [o0].[Id]
    INNER JOIN (
        SELECT [b].[Id], [b].[IsDeleted]
        FROM [Books] AS [b]
        WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ) AS [b0] ON [o].[BookId] = [b0].[Id]
    WHERE [o0].[Status] = CAST(3 AS tinyint) AND [o0].[OrderDate] >= @__inclusiveStartDate_0 AND [o0].[OrderDate] < @__inclusiveEndDate_1 AND [b0].[IsDeleted] = CAST(0 AS bit)
    GROUP BY [o].[BookId]
    ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC
) AS [s]
INNER JOIN (
    SELECT [b1].[Id], [b1].[Title]
    FROM [Books] AS [b1]
    WHERE [b1].[IsDeleted] = CAST(0 AS bit)
) AS [b2] ON [s].[BookId] = [b2].[Id]
ORDER BY [s].[TotalQuantitySold] DESC
2025-05-21 15:36:05.314 +07:00 [INF] (Bookstore.Application.Services.ReportService) Revenue report generated successfully.
2025-05-21 15:36:05.322 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (5ms) [Parameters=[@__lowStockThreshold_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[StockQuantity] > 0 AND [b].[StockQuantity] <= @__lowStockThreshold_0
ORDER BY [b].[StockQuantity]
2025-05-21 15:36:05.323 +07:00 [INF] (Bookstore.Application.Services.ReportService) Bestsellers report generated successfully.
2025-05-21 15:36:09.449 +07:00 [INF] (Bookstore.Application.Services.ReportService) Generating revenue report from "2025-05-01T00:00:00.0000000" to "2025-05-21T00:00:00.0000000"
2025-05-21 15:36:09.452 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__inclusiveStartDate_0='2025-05-01T00:00:00.0000000', @__inclusiveEndDate_1='2025-05-22T00:00:00.0000000'], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
FROM [Orders] AS [o]
WHERE [o].[Status] = CAST(3 AS tinyint) AND [o].[OrderDate] >= @__inclusiveStartDate_0 AND [o].[OrderDate] < @__inclusiveEndDate_1
2025-05-21 15:36:09.454 +07:00 [INF] (Bookstore.Application.Services.ReportService) Generating bestsellers report from "2025-05-01T00:00:00.0000000" to "2025-05-21T00:00:00.0000000", top 7
2025-05-21 15:36:09.457 +07:00 [INF] (Bookstore.Application.Services.ReportService) Revenue report generated successfully.
2025-05-21 15:36:09.459 +07:00 [INF] (Bookstore.Application.Services.ReportService) Generating low stock report with threshold 5
2025-05-21 15:36:09.460 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_2='7', @__inclusiveStartDate_0='2025-05-01T00:00:00.0000000', @__inclusiveEndDate_1='2025-05-22T00:00:00.0000000'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[BookId], [b2].[Title] AS [BookTitle], [s].[TotalQuantitySold]
FROM (
    SELECT TOP(@__p_2) [o].[BookId], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold]
    FROM [OrderDetails] AS [o]
    INNER JOIN [Orders] AS [o0] ON [o].[OrderId] = [o0].[Id]
    INNER JOIN (
        SELECT [b].[Id], [b].[IsDeleted]
        FROM [Books] AS [b]
        WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ) AS [b0] ON [o].[BookId] = [b0].[Id]
    WHERE [o0].[Status] = CAST(3 AS tinyint) AND [o0].[OrderDate] >= @__inclusiveStartDate_0 AND [o0].[OrderDate] < @__inclusiveEndDate_1 AND [b0].[IsDeleted] = CAST(0 AS bit)
    GROUP BY [o].[BookId]
    ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC
) AS [s]
INNER JOIN (
    SELECT [b1].[Id], [b1].[Title]
    FROM [Books] AS [b1]
    WHERE [b1].[IsDeleted] = CAST(0 AS bit)
) AS [b2] ON [s].[BookId] = [b2].[Id]
ORDER BY [s].[TotalQuantitySold] DESC
2025-05-21 15:36:09.464 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__lowStockThreshold_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[StockQuantity] > 0 AND [b].[StockQuantity] <= @__lowStockThreshold_0
ORDER BY [b].[StockQuantity]
2025-05-21 15:36:09.468 +07:00 [INF] (Bookstore.Application.Services.ReportService) Bestsellers report generated successfully.
2025-05-21 15:36:23.506 +07:00 [INF] (Bookstore.Application.Services.ReportService) Generating low stock report with threshold 50
2025-05-21 15:36:23.512 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@__lowStockThreshold_0='50'], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[StockQuantity] > 0 AND [b].[StockQuantity] <= @__lowStockThreshold_0
ORDER BY [b].[StockQuantity]
2025-05-21 15:36:24.935 +07:00 [INF] (Bookstore.Application.Services.ReportService) Generating low stock report with threshold 50
2025-05-21 15:36:24.937 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__lowStockThreshold_0='50'], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[StockQuantity] > 0 AND [b].[StockQuantity] <= @__lowStockThreshold_0
ORDER BY [b].[StockQuantity]
2025-05-21 15:36:28.260 +07:00 [INF] (Bookstore.Application.Services.ReportService) Generating low stock report with threshold 100
2025-05-21 15:36:28.263 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__lowStockThreshold_0='100'], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[StockQuantity] > 0 AND [b].[StockQuantity] <= @__lowStockThreshold_0
ORDER BY [b].[StockQuantity]
2025-05-21 15:41:12.039 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetching home dashboard data.
2025-05-21 15:41:12.045 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit)
ORDER BY [b].[CreatedAtUtc] DESC
2025-05-21 15:41:12.052 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetched 10 newest books.
2025-05-21 15:41:12.061 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (7ms) [Parameters=[@__p_2='5', @__inclusiveStartDate_0='2025-04-21T00:00:00.0000000Z', @__inclusiveEndDate_1='2025-05-22T00:00:00.0000000Z'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[BookId], [b2].[Title] AS [BookTitle], [s].[TotalQuantitySold]
FROM (
    SELECT TOP(@__p_2) [o].[BookId], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold]
    FROM [OrderDetails] AS [o]
    INNER JOIN [Orders] AS [o0] ON [o].[OrderId] = [o0].[Id]
    INNER JOIN (
        SELECT [b].[Id], [b].[IsDeleted]
        FROM [Books] AS [b]
        WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ) AS [b0] ON [o].[BookId] = [b0].[Id]
    WHERE [o0].[Status] = CAST(3 AS tinyint) AND [o0].[OrderDate] >= @__inclusiveStartDate_0 AND [o0].[OrderDate] < @__inclusiveEndDate_1 AND [b0].[IsDeleted] = CAST(0 AS bit)
    GROUP BY [o].[BookId]
    ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC
) AS [s]
INNER JOIN (
    SELECT [b1].[Id], [b1].[Title]
    FROM [Books] AS [b1]
    WHERE [b1].[IsDeleted] = CAST(0 AS bit)
) AS [b2] ON [s].[BookId] = [b2].[Id]
ORDER BY [s].[TotalQuantitySold] DESC
2025-05-21 15:41:12.074 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (7ms) [Parameters=[@__bestsellerBookIds_0='["ba80e2b5-b426-44eb-acfa-06315f9fcb6b","c191919e-e763-4e03-9e2b-24d944f4d401","39f2e54f-3480-424d-9611-a9b9097314a9","6c50f852-d8c7-4ef9-a26a-c9d292ef9108","6d858026-d70a-4441-8837-01f8d972cb26"]' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Id] IN (
    SELECT [b0].[value]
    FROM OPENJSON(@__bestsellerBookIds_0) WITH ([value] uniqueidentifier '$') AS [b0]
) AND [b].[IsDeleted] = CAST(0 AS bit)
2025-05-21 15:41:12.079 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetched 5 bestselling books.
2025-05-21 15:41:12.085 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@__currentDate_0='2025-05-21T08:41:12.0809532Z', @__currentDate_1='2025-05-21T08:41:12.0809532Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Code], [p].[CreatedAtUtc], [p].[CurrentUsage], [p].[Description], [p].[DiscountAmount], [p].[DiscountPercentage], [p].[EndDate], [p].[IsActive], [p].[MaxUsage], [p].[StartDate], [p].[UpdatedAtUtc]
FROM [Promotions] AS [p]
WHERE [p].[IsActive] = CAST(1 AS bit) AND [p].[StartDate] <= @__currentDate_0 AND ([p].[EndDate] IS NULL OR [p].[EndDate] >= @__currentDate_1) AND ([p].[MaxUsage] IS NULL OR [p].[CurrentUsage] < [p].[MaxUsage])
ORDER BY [p].[EndDate]
2025-05-21 15:41:12.092 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[ParentCategoryId] IS NULL AND [c].[IsDeleted] = CAST(0 AS bit)
ORDER BY [c].[Name]
2025-05-21 15:41:12.096 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Successfully fetched home dashboard data.
2025-05-21 15:41:43.218 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (6ms) [Parameters=[@__searchTerm_0_contains='%th%' (Size = 4000), @__p_1='0', @__p_2='20'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AuthorId], [s].[CategoryId], [s].[CoverImageUrl], [s].[CreatedAtUtc], [s].[Description], [s].[ISBN], [s].[IsDeleted], [s].[Price], [s].[PublicationYear], [s].[Publisher], [s].[StockQuantity], [s].[Title], [s].[UpdatedAtUtc], [s].[Id0], [s].[Biography], [s].[CreatedAtUtc0], [s].[Name], [s].[UpdatedAtUtc0], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id] AS [Id0], [a].[Biography], [a].[CreatedAtUtc] AS [CreatedAtUtc0], [a].[Name], [a].[UpdatedAtUtc] AS [UpdatedAtUtc0]
    FROM [Books] AS [b]
    LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
    WHERE [b].[IsDeleted] = CAST(0 AS bit) AND (LOWER([b].[Title]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR ([a].[Id] IS NOT NULL AND [a].[Name] IS NOT NULL AND LOWER([a].[Name]) LIKE @__searchTerm_0_contains ESCAPE N'\') OR ([b].[ISBN] IS NOT NULL AND LOWER([b].[ISBN]) LIKE @__searchTerm_0_contains ESCAPE N'\'))
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [s]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [s].[CategoryId] = [c0].[Id]
ORDER BY [s].[CreatedAtUtc] DESC
2025-05-21 15:41:47.944 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__p_0='0', @__p_1='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit)
ORDER BY [c].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-21 15:41:50.865 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetching home dashboard data.
2025-05-21 15:41:50.870 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit)
ORDER BY [b].[CreatedAtUtc] DESC
2025-05-21 15:41:50.873 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetched 10 newest books.
2025-05-21 15:41:50.881 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (7ms) [Parameters=[@__p_2='5', @__inclusiveStartDate_0='2025-04-21T00:00:00.0000000Z', @__inclusiveEndDate_1='2025-05-22T00:00:00.0000000Z'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[BookId], [b2].[Title] AS [BookTitle], [s].[TotalQuantitySold]
FROM (
    SELECT TOP(@__p_2) [o].[BookId], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold]
    FROM [OrderDetails] AS [o]
    INNER JOIN [Orders] AS [o0] ON [o].[OrderId] = [o0].[Id]
    INNER JOIN (
        SELECT [b].[Id], [b].[IsDeleted]
        FROM [Books] AS [b]
        WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ) AS [b0] ON [o].[BookId] = [b0].[Id]
    WHERE [o0].[Status] = CAST(3 AS tinyint) AND [o0].[OrderDate] >= @__inclusiveStartDate_0 AND [o0].[OrderDate] < @__inclusiveEndDate_1 AND [b0].[IsDeleted] = CAST(0 AS bit)
    GROUP BY [o].[BookId]
    ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC
) AS [s]
INNER JOIN (
    SELECT [b1].[Id], [b1].[Title]
    FROM [Books] AS [b1]
    WHERE [b1].[IsDeleted] = CAST(0 AS bit)
) AS [b2] ON [s].[BookId] = [b2].[Id]
ORDER BY [s].[TotalQuantitySold] DESC
2025-05-21 15:41:50.892 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@__bestsellerBookIds_0='["ba80e2b5-b426-44eb-acfa-06315f9fcb6b","c191919e-e763-4e03-9e2b-24d944f4d401","39f2e54f-3480-424d-9611-a9b9097314a9","6c50f852-d8c7-4ef9-a26a-c9d292ef9108","6d858026-d70a-4441-8837-01f8d972cb26"]' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Id] IN (
    SELECT [b0].[value]
    FROM OPENJSON(@__bestsellerBookIds_0) WITH ([value] uniqueidentifier '$') AS [b0]
) AND [b].[IsDeleted] = CAST(0 AS bit)
2025-05-21 15:41:50.897 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetched 5 bestselling books.
2025-05-21 15:41:50.901 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__currentDate_0='2025-05-21T08:41:50.8983939Z', @__currentDate_1='2025-05-21T08:41:50.8983939Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Code], [p].[CreatedAtUtc], [p].[CurrentUsage], [p].[Description], [p].[DiscountAmount], [p].[DiscountPercentage], [p].[EndDate], [p].[IsActive], [p].[MaxUsage], [p].[StartDate], [p].[UpdatedAtUtc]
FROM [Promotions] AS [p]
WHERE [p].[IsActive] = CAST(1 AS bit) AND [p].[StartDate] <= @__currentDate_0 AND ([p].[EndDate] IS NULL OR [p].[EndDate] >= @__currentDate_1) AND ([p].[MaxUsage] IS NULL OR [p].[CurrentUsage] < [p].[MaxUsage])
ORDER BY [p].[EndDate]
2025-05-21 15:41:50.907 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[ParentCategoryId] IS NULL AND [c].[IsDeleted] = CAST(0 AS bit)
ORDER BY [c].[Name]
2025-05-21 15:41:50.911 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Successfully fetched home dashboard data.
2025-05-21 15:42:00.217 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__id_0='cb229bc5-7b6c-4090-841c-86193c7716b4'], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b].[CategoryId] = [c0].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Id] = @__id_0
2025-05-21 15:42:02.241 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__id_0='5d8fc980-abf3-49f8-a735-92c402be0cbe'], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b].[CategoryId] = [c0].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Id] = @__id_0
2025-05-21 15:42:02.367 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (5ms) [Parameters=[@__bookId_0='5d8fc980-abf3-49f8-a735-92c402be0cbe', @__p_1='0', @__p_2='5'], CommandType='"Text"', CommandTimeout='30']
SELECT [r0].[Id], [r0].[BookId], [r0].[Comment], [r0].[CreatedAtUtc], [r0].[IsApproved], [r0].[Rating], [r0].[UpdatedAtUtc], [r0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName]
FROM (
    SELECT [r].[Id], [r].[BookId], [r].[Comment], [r].[CreatedAtUtc], [r].[IsApproved], [r].[Rating], [r].[UpdatedAtUtc], [r].[UserId]
    FROM [Review] AS [r]
    WHERE [r].[BookId] = @__bookId_0 AND [r].[IsApproved] = CAST(1 AS bit)
    ORDER BY [r].[CreatedAtUtc] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [r0]
INNER JOIN [Users] AS [u] ON [r0].[UserId] = [u].[Id]
ORDER BY [r0].[CreatedAtUtc] DESC
2025-05-21 15:42:02.402 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@__userId_0='f54527eb-f806-40db-bf76-c7b0e5fa6d39'], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[BookId], [w].[CreatedAtUtc], [w].[UserId], [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [WishlistItems] AS [w]
INNER JOIN (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
) AS [b0] ON [w].[BookId] = [b0].[Id]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
WHERE [w].[UserId] = @__userId_0 AND [b0].[IsDeleted] = CAST(0 AS bit)
ORDER BY [w].[CreatedAtUtc] DESC
2025-05-21 15:45:38.571 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetching home dashboard data.
2025-05-21 15:45:38.575 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit)
ORDER BY [b].[CreatedAtUtc] DESC
2025-05-21 15:45:38.579 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetched 10 newest books.
2025-05-21 15:45:38.586 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (5ms) [Parameters=[@__p_2='5', @__inclusiveStartDate_0='2025-04-21T00:00:00.0000000Z', @__inclusiveEndDate_1='2025-05-22T00:00:00.0000000Z'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[BookId], [b2].[Title] AS [BookTitle], [s].[TotalQuantitySold]
FROM (
    SELECT TOP(@__p_2) [o].[BookId], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold]
    FROM [OrderDetails] AS [o]
    INNER JOIN [Orders] AS [o0] ON [o].[OrderId] = [o0].[Id]
    INNER JOIN (
        SELECT [b].[Id], [b].[IsDeleted]
        FROM [Books] AS [b]
        WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ) AS [b0] ON [o].[BookId] = [b0].[Id]
    WHERE [o0].[Status] = CAST(3 AS tinyint) AND [o0].[OrderDate] >= @__inclusiveStartDate_0 AND [o0].[OrderDate] < @__inclusiveEndDate_1 AND [b0].[IsDeleted] = CAST(0 AS bit)
    GROUP BY [o].[BookId]
    ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC
) AS [s]
INNER JOIN (
    SELECT [b1].[Id], [b1].[Title]
    FROM [Books] AS [b1]
    WHERE [b1].[IsDeleted] = CAST(0 AS bit)
) AS [b2] ON [s].[BookId] = [b2].[Id]
ORDER BY [s].[TotalQuantitySold] DESC
2025-05-21 15:45:38.597 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@__bestsellerBookIds_0='["ba80e2b5-b426-44eb-acfa-06315f9fcb6b","c191919e-e763-4e03-9e2b-24d944f4d401","39f2e54f-3480-424d-9611-a9b9097314a9","6c50f852-d8c7-4ef9-a26a-c9d292ef9108","6d858026-d70a-4441-8837-01f8d972cb26"]' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Id] IN (
    SELECT [b0].[value]
    FROM OPENJSON(@__bestsellerBookIds_0) WITH ([value] uniqueidentifier '$') AS [b0]
) AND [b].[IsDeleted] = CAST(0 AS bit)
2025-05-21 15:45:38.603 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetched 5 bestselling books.
2025-05-21 15:45:38.608 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__currentDate_0='2025-05-21T08:45:38.6058066Z', @__currentDate_1='2025-05-21T08:45:38.6058066Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Code], [p].[CreatedAtUtc], [p].[CurrentUsage], [p].[Description], [p].[DiscountAmount], [p].[DiscountPercentage], [p].[EndDate], [p].[IsActive], [p].[MaxUsage], [p].[StartDate], [p].[UpdatedAtUtc]
FROM [Promotions] AS [p]
WHERE [p].[IsActive] = CAST(1 AS bit) AND [p].[StartDate] <= @__currentDate_0 AND ([p].[EndDate] IS NULL OR [p].[EndDate] >= @__currentDate_1) AND ([p].[MaxUsage] IS NULL OR [p].[CurrentUsage] < [p].[MaxUsage])
ORDER BY [p].[EndDate]
2025-05-21 15:45:38.614 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[ParentCategoryId] IS NULL AND [c].[IsDeleted] = CAST(0 AS bit)
ORDER BY [c].[Name]
2025-05-21 15:45:38.617 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Successfully fetched home dashboard data.
2025-05-21 15:45:46.862 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__p_0='0', @__p_1='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit)
ORDER BY [c].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-21 15:45:47.715 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__p_0='707f89a4-da65-4b5e-a890-485a3b929301' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__p_0
2025-05-21 15:45:47.730 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@__catId_0='707f89a4-da65-4b5e-a890-485a3b929301', @__p_1='0', @__p_2='20'], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[CategoryId] = @__catId_0
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [b0]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b0].[CategoryId] = [c0].[Id]
ORDER BY [b0].[CreatedAtUtc] DESC
2025-05-21 15:45:48.694 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__id_0='6d858026-d70a-4441-8837-01f8d972cb26'], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b].[CategoryId] = [c0].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Id] = @__id_0
2025-05-21 15:45:48.885 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (5ms) [Parameters=[@__bookId_0='6d858026-d70a-4441-8837-01f8d972cb26', @__p_1='0', @__p_2='5'], CommandType='"Text"', CommandTimeout='30']
SELECT [r0].[Id], [r0].[BookId], [r0].[Comment], [r0].[CreatedAtUtc], [r0].[IsApproved], [r0].[Rating], [r0].[UpdatedAtUtc], [r0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName]
FROM (
    SELECT [r].[Id], [r].[BookId], [r].[Comment], [r].[CreatedAtUtc], [r].[IsApproved], [r].[Rating], [r].[UpdatedAtUtc], [r].[UserId]
    FROM [Review] AS [r]
    WHERE [r].[BookId] = @__bookId_0 AND [r].[IsApproved] = CAST(1 AS bit)
    ORDER BY [r].[CreatedAtUtc] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [r0]
INNER JOIN [Users] AS [u] ON [r0].[UserId] = [u].[Id]
ORDER BY [r0].[CreatedAtUtc] DESC
2025-05-21 15:45:48.924 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@__userId_0='f54527eb-f806-40db-bf76-c7b0e5fa6d39'], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[BookId], [w].[CreatedAtUtc], [w].[UserId], [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [WishlistItems] AS [w]
INNER JOIN (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
) AS [b0] ON [w].[BookId] = [b0].[Id]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
WHERE [w].[UserId] = @__userId_0 AND [b0].[IsDeleted] = CAST(0 AS bit)
ORDER BY [w].[CreatedAtUtc] DESC
2025-05-21 15:45:59.679 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__id_0='0b4ef926-9d6a-481e-bfa0-eb2187080fcb'], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b].[CategoryId] = [c0].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Id] = @__id_0
2025-05-21 15:45:59.824 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__bookId_0='0b4ef926-9d6a-481e-bfa0-eb2187080fcb', @__p_1='0', @__p_2='5'], CommandType='"Text"', CommandTimeout='30']
SELECT [r0].[Id], [r0].[BookId], [r0].[Comment], [r0].[CreatedAtUtc], [r0].[IsApproved], [r0].[Rating], [r0].[UpdatedAtUtc], [r0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName]
FROM (
    SELECT [r].[Id], [r].[BookId], [r].[Comment], [r].[CreatedAtUtc], [r].[IsApproved], [r].[Rating], [r].[UpdatedAtUtc], [r].[UserId]
    FROM [Review] AS [r]
    WHERE [r].[BookId] = @__bookId_0 AND [r].[IsApproved] = CAST(1 AS bit)
    ORDER BY [r].[CreatedAtUtc] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [r0]
INNER JOIN [Users] AS [u] ON [r0].[UserId] = [u].[Id]
ORDER BY [r0].[CreatedAtUtc] DESC
2025-05-21 15:45:59.851 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__userId_0='f54527eb-f806-40db-bf76-c7b0e5fa6d39'], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[BookId], [w].[CreatedAtUtc], [w].[UserId], [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [WishlistItems] AS [w]
INNER JOIN (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
) AS [b0] ON [w].[BookId] = [b0].[Id]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
WHERE [w].[UserId] = @__userId_0 AND [b0].[IsDeleted] = CAST(0 AS bit)
ORDER BY [w].[CreatedAtUtc] DESC
2025-05-21 15:46:48.026 +07:00 [INF] (Bookstore.Application.Services.UserService) Fetching all users for admin. RoleFilter: All, StatusFilter: All, Page: 1, PageSize: 20
2025-05-21 15:46:48.034 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (6ms) [Parameters=[@__p_0='0', @__p_1='20'], CommandType='"Text"', CommandTimeout='30']
SELECT [u1].[Id], [u1].[CreatedAtUtc], [u1].[Email], [u1].[FirstName], [u1].[IsActive], [u1].[LastName], [u1].[PasswordHash], [u1].[PhoneNumber], [u1].[UpdatedAtUtc], [u1].[UserName], [s].[UserId], [s].[RoleId], [s].[Id], [s].[CreatedAtUtc], [s].[Name], [s].[UpdatedAtUtc]
FROM (
    SELECT [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName]
    FROM [Users] AS [u]
    ORDER BY [u].[UserName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [u1]
LEFT JOIN (
    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[CreatedAtUtc], [r].[Name], [r].[UpdatedAtUtc]
    FROM [UserRoles] AS [u0]
    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
) AS [s] ON [u1].[Id] = [s].[UserId]
ORDER BY [u1].[UserName], [u1].[Id], [s].[UserId], [s].[RoleId]
2025-05-21 15:46:49.425 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Code], [p].[CreatedAtUtc], [p].[CurrentUsage], [p].[Description], [p].[DiscountAmount], [p].[DiscountPercentage], [p].[EndDate], [p].[IsActive], [p].[MaxUsage], [p].[StartDate], [p].[UpdatedAtUtc]
FROM [Promotions] AS [p]
ORDER BY [p].[CreatedAtUtc] DESC
2025-05-21 15:46:52.068 +07:00 [INF] (Bookstore.Application.Services.UserService) Fetching all users for admin. RoleFilter: Staff, StatusFilter: All, Page: 1, PageSize: 20
2025-05-21 15:46:52.071 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='20'], CommandType='"Text"', CommandTimeout='30']
SELECT [u1].[Id], [u1].[CreatedAtUtc], [u1].[Email], [u1].[FirstName], [u1].[IsActive], [u1].[LastName], [u1].[PasswordHash], [u1].[PhoneNumber], [u1].[UpdatedAtUtc], [u1].[UserName], [s].[UserId], [s].[RoleId], [s].[Id], [s].[CreatedAtUtc], [s].[Name], [s].[UpdatedAtUtc]
FROM (
    SELECT [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName]
    FROM [Users] AS [u]
    ORDER BY [u].[UserName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [u1]
LEFT JOIN (
    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[CreatedAtUtc], [r].[Name], [r].[UpdatedAtUtc]
    FROM [UserRoles] AS [u0]
    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
) AS [s] ON [u1].[Id] = [s].[UserId]
ORDER BY [u1].[UserName], [u1].[Id], [s].[UserId], [s].[RoleId]
2025-05-21 15:46:54.389 +07:00 [INF] (Bookstore.Application.Services.UserService) Fetching all users for admin. RoleFilter: Staff, StatusFilter: True, Page: 1, PageSize: 20
2025-05-21 15:46:54.411 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (6ms) [Parameters=[@__statusFilter_Value_0='True', @__p_1='0', @__p_2='20'], CommandType='"Text"', CommandTimeout='30']
SELECT [u1].[Id], [u1].[CreatedAtUtc], [u1].[Email], [u1].[FirstName], [u1].[IsActive], [u1].[LastName], [u1].[PasswordHash], [u1].[PhoneNumber], [u1].[UpdatedAtUtc], [u1].[UserName], [s].[UserId], [s].[RoleId], [s].[Id], [s].[CreatedAtUtc], [s].[Name], [s].[UpdatedAtUtc]
FROM (
    SELECT [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName]
    FROM [Users] AS [u]
    WHERE [u].[IsActive] = @__statusFilter_Value_0
    ORDER BY [u].[UserName]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [u1]
LEFT JOIN (
    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[CreatedAtUtc], [r].[Name], [r].[UpdatedAtUtc]
    FROM [UserRoles] AS [u0]
    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
) AS [s] ON [u1].[Id] = [s].[UserId]
ORDER BY [u1].[UserName], [u1].[Id], [s].[UserId], [s].[RoleId]
2025-05-21 15:46:54.964 +07:00 [INF] (Bookstore.Application.Services.UserService) Fetching all users for admin. RoleFilter: All, StatusFilter: All, Page: 1, PageSize: 20
2025-05-21 15:46:54.978 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='20'], CommandType='"Text"', CommandTimeout='30']
SELECT [u1].[Id], [u1].[CreatedAtUtc], [u1].[Email], [u1].[FirstName], [u1].[IsActive], [u1].[LastName], [u1].[PasswordHash], [u1].[PhoneNumber], [u1].[UpdatedAtUtc], [u1].[UserName], [s].[UserId], [s].[RoleId], [s].[Id], [s].[CreatedAtUtc], [s].[Name], [s].[UpdatedAtUtc]
FROM (
    SELECT [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName]
    FROM [Users] AS [u]
    ORDER BY [u].[UserName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [u1]
LEFT JOIN (
    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[CreatedAtUtc], [r].[Name], [r].[UpdatedAtUtc]
    FROM [UserRoles] AS [u0]
    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
) AS [s] ON [u1].[Id] = [s].[UserId]
ORDER BY [u1].[UserName], [u1].[Id], [s].[UserId], [s].[RoleId]
2025-05-21 15:46:55.482 +07:00 [INF] (Bookstore.Application.Services.UserService) Fetching all users for admin. RoleFilter: All, StatusFilter: All, Page: 1, PageSize: 20
2025-05-21 15:46:55.485 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='20'], CommandType='"Text"', CommandTimeout='30']
SELECT [u1].[Id], [u1].[CreatedAtUtc], [u1].[Email], [u1].[FirstName], [u1].[IsActive], [u1].[LastName], [u1].[PasswordHash], [u1].[PhoneNumber], [u1].[UpdatedAtUtc], [u1].[UserName], [s].[UserId], [s].[RoleId], [s].[Id], [s].[CreatedAtUtc], [s].[Name], [s].[UpdatedAtUtc]
FROM (
    SELECT [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName]
    FROM [Users] AS [u]
    ORDER BY [u].[UserName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [u1]
LEFT JOIN (
    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[CreatedAtUtc], [r].[Name], [r].[UpdatedAtUtc]
    FROM [UserRoles] AS [u0]
    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
) AS [s] ON [u1].[Id] = [s].[UserId]
ORDER BY [u1].[UserName], [u1].[Id], [s].[UserId], [s].[RoleId]
2025-05-21 15:46:55.709 +07:00 [INF] (Bookstore.Application.Services.ReportService) Generating revenue report from "2025-05-15T00:00:00.0000000" to "2025-05-21T00:00:00.0000000"
2025-05-21 15:46:55.714 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__inclusiveStartDate_0='2025-05-15T00:00:00.0000000', @__inclusiveEndDate_1='2025-05-22T00:00:00.0000000'], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
FROM [Orders] AS [o]
WHERE [o].[Status] = CAST(3 AS tinyint) AND [o].[OrderDate] >= @__inclusiveStartDate_0 AND [o].[OrderDate] < @__inclusiveEndDate_1
2025-05-21 15:46:55.721 +07:00 [INF] (Bookstore.Application.Services.ReportService) Generating bestsellers report from "2025-05-15T00:00:00.0000000" to "2025-05-21T00:00:00.0000000", top 7
2025-05-21 15:46:55.722 +07:00 [INF] (Bookstore.Application.Services.ReportService) Generating low stock report with threshold 5
2025-05-21 15:46:55.724 +07:00 [INF] (Bookstore.Application.Services.ReportService) Revenue report generated successfully.
2025-05-21 15:46:55.731 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (6ms) [Parameters=[@__p_2='7', @__inclusiveStartDate_0='2025-05-15T00:00:00.0000000', @__inclusiveEndDate_1='2025-05-22T00:00:00.0000000'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[BookId], [b2].[Title] AS [BookTitle], [s].[TotalQuantitySold]
FROM (
    SELECT TOP(@__p_2) [o].[BookId], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold]
    FROM [OrderDetails] AS [o]
    INNER JOIN [Orders] AS [o0] ON [o].[OrderId] = [o0].[Id]
    INNER JOIN (
        SELECT [b].[Id], [b].[IsDeleted]
        FROM [Books] AS [b]
        WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ) AS [b0] ON [o].[BookId] = [b0].[Id]
    WHERE [o0].[Status] = CAST(3 AS tinyint) AND [o0].[OrderDate] >= @__inclusiveStartDate_0 AND [o0].[OrderDate] < @__inclusiveEndDate_1 AND [b0].[IsDeleted] = CAST(0 AS bit)
    GROUP BY [o].[BookId]
    ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC
) AS [s]
INNER JOIN (
    SELECT [b1].[Id], [b1].[Title]
    FROM [Books] AS [b1]
    WHERE [b1].[IsDeleted] = CAST(0 AS bit)
) AS [b2] ON [s].[BookId] = [b2].[Id]
ORDER BY [s].[TotalQuantitySold] DESC
2025-05-21 15:46:55.739 +07:00 [INF] (Bookstore.Application.Services.ReportService) Bestsellers report generated successfully.
2025-05-21 15:46:55.740 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@__lowStockThreshold_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[StockQuantity] > 0 AND [b].[StockQuantity] <= @__lowStockThreshold_0
ORDER BY [b].[StockQuantity]
2025-05-21 15:47:01.496 +07:00 [INF] (Bookstore.Application.Services.ReportService) Fetching admin dashboard summary.
2025-05-21 15:47:01.500 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__todayStart_0='2025-05-21T00:00:00.0000000Z', @__tomorrowStart_1='2025-05-22T00:00:00.0000000Z'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[OrderDate] >= @__todayStart_0 AND [o].[OrderDate] < @__tomorrowStart_1 AND [o].[Status] <> CAST(4 AS tinyint)
2025-05-21 15:47:01.506 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__todayStart_0='2025-05-21T00:00:00.0000000Z', @__tomorrowStart_1='2025-05-22T00:00:00.0000000Z'], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalAmount]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[OrderDate] >= @__todayStart_0 AND [o].[OrderDate] < @__tomorrowStart_1 AND [o].[Status] = CAST(3 AS tinyint)
2025-05-21 15:47:01.511 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__todayStart_0='2025-05-21T00:00:00.0000000Z', @__tomorrowStart_1='2025-05-22T00:00:00.0000000Z'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[CreatedAtUtc] >= @__todayStart_0 AND [u].[CreatedAtUtc] < @__tomorrowStart_1
2025-05-21 15:47:01.516 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__lowStockThreshold_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Books] AS [b]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[IsDeleted] = CAST(0 AS bit) AND [b].[StockQuantity] > 0 AND [b].[StockQuantity] <= @__lowStockThreshold_0
2025-05-21 15:47:01.519 +07:00 [INF] (Bookstore.Application.Services.ReportService) Admin dashboard summary fetched successfully.
2025-05-21 15:47:06.750 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching all orders for Admin. Page: 1, PageSize: 15, StatusFilter: None
2025-05-21 15:47:06.750 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching all orders for Admin. Page: 1, PageSize: 15, StatusFilter: None
2025-05-21 15:47:06.756 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [o0].[Id], [o0].[CreatedAtUtc], [o0].[DeliveryMethod], [o0].[InvoiceNumber], [o0].[OrderDate], [o0].[OrderShippingAddressId], [o0].[OrderType], [o0].[PaymentMethod], [o0].[PaymentStatus], [o0].[Status], [o0].[TotalAmount], [o0].[TransactionId], [o0].[UpdatedAtUtc], [o0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName], [o1].[Id], [o1].[BookId], [o1].[OrderId], [o1].[Quantity], [o1].[UnitPrice]
FROM (
    SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
    FROM [Orders] AS [o]
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [o0]
LEFT JOIN [Users] AS [u] ON [o0].[UserId] = [u].[Id]
LEFT JOIN [OrderDetails] AS [o1] ON [o0].[Id] = [o1].[OrderId]
ORDER BY [o0].[OrderDate] DESC, [o0].[Id], [u].[Id]
2025-05-21 15:47:06.757 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [o0].[Id], [o0].[CreatedAtUtc], [o0].[DeliveryMethod], [o0].[InvoiceNumber], [o0].[OrderDate], [o0].[OrderShippingAddressId], [o0].[OrderType], [o0].[PaymentMethod], [o0].[PaymentStatus], [o0].[Status], [o0].[TotalAmount], [o0].[TransactionId], [o0].[UpdatedAtUtc], [o0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName], [o1].[Id], [o1].[BookId], [o1].[OrderId], [o1].[Quantity], [o1].[UnitPrice]
FROM (
    SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
    FROM [Orders] AS [o]
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [o0]
LEFT JOIN [Users] AS [u] ON [o0].[UserId] = [u].[Id]
LEFT JOIN [OrderDetails] AS [o1] ON [o0].[Id] = [o1].[OrderId]
ORDER BY [o0].[OrderDate] DESC, [o0].[Id], [u].[Id]
2025-05-21 15:47:08.455 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching all orders for Admin. Page: 1, PageSize: 15, StatusFilter: Pending
2025-05-21 15:47:08.460 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching all orders for Admin. Page: 1, PageSize: 15, StatusFilter: Pending
2025-05-21 15:47:08.483 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (11ms) [Parameters=[@__status_0='0' (Size = 1), @__p_1='0', @__p_2='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [o0].[Id], [o0].[CreatedAtUtc], [o0].[DeliveryMethod], [o0].[InvoiceNumber], [o0].[OrderDate], [o0].[OrderShippingAddressId], [o0].[OrderType], [o0].[PaymentMethod], [o0].[PaymentStatus], [o0].[Status], [o0].[TotalAmount], [o0].[TransactionId], [o0].[UpdatedAtUtc], [o0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName], [o1].[Id], [o1].[BookId], [o1].[OrderId], [o1].[Quantity], [o1].[UnitPrice]
FROM (
    SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[Status] = @__status_0
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [o0]
LEFT JOIN [Users] AS [u] ON [o0].[UserId] = [u].[Id]
LEFT JOIN [OrderDetails] AS [o1] ON [o0].[Id] = [o1].[OrderId]
ORDER BY [o0].[OrderDate] DESC, [o0].[Id], [u].[Id]
2025-05-21 15:47:08.483 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (11ms) [Parameters=[@__status_0='0' (Size = 1), @__p_1='0', @__p_2='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [o0].[Id], [o0].[CreatedAtUtc], [o0].[DeliveryMethod], [o0].[InvoiceNumber], [o0].[OrderDate], [o0].[OrderShippingAddressId], [o0].[OrderType], [o0].[PaymentMethod], [o0].[PaymentStatus], [o0].[Status], [o0].[TotalAmount], [o0].[TransactionId], [o0].[UpdatedAtUtc], [o0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName], [o1].[Id], [o1].[BookId], [o1].[OrderId], [o1].[Quantity], [o1].[UnitPrice]
FROM (
    SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[Status] = @__status_0
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [o0]
LEFT JOIN [Users] AS [u] ON [o0].[UserId] = [u].[Id]
LEFT JOIN [OrderDetails] AS [o1] ON [o0].[Id] = [o1].[OrderId]
ORDER BY [o0].[OrderDate] DESC, [o0].[Id], [u].[Id]
2025-05-21 15:47:10.480 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching all orders for Admin. Page: 1, PageSize: 15, StatusFilter: Confirmed
2025-05-21 15:47:10.484 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching all orders for Admin. Page: 1, PageSize: 15, StatusFilter: Confirmed
2025-05-21 15:47:10.484 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__status_0='1' (Size = 1), @__p_1='0', @__p_2='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [o0].[Id], [o0].[CreatedAtUtc], [o0].[DeliveryMethod], [o0].[InvoiceNumber], [o0].[OrderDate], [o0].[OrderShippingAddressId], [o0].[OrderType], [o0].[PaymentMethod], [o0].[PaymentStatus], [o0].[Status], [o0].[TotalAmount], [o0].[TransactionId], [o0].[UpdatedAtUtc], [o0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName], [o1].[Id], [o1].[BookId], [o1].[OrderId], [o1].[Quantity], [o1].[UnitPrice]
FROM (
    SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[Status] = @__status_0
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [o0]
LEFT JOIN [Users] AS [u] ON [o0].[UserId] = [u].[Id]
LEFT JOIN [OrderDetails] AS [o1] ON [o0].[Id] = [o1].[OrderId]
ORDER BY [o0].[OrderDate] DESC, [o0].[Id], [u].[Id]
2025-05-21 15:47:10.487 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__status_0='1' (Size = 1), @__p_1='0', @__p_2='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [o0].[Id], [o0].[CreatedAtUtc], [o0].[DeliveryMethod], [o0].[InvoiceNumber], [o0].[OrderDate], [o0].[OrderShippingAddressId], [o0].[OrderType], [o0].[PaymentMethod], [o0].[PaymentStatus], [o0].[Status], [o0].[TotalAmount], [o0].[TransactionId], [o0].[UpdatedAtUtc], [o0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName], [o1].[Id], [o1].[BookId], [o1].[OrderId], [o1].[Quantity], [o1].[UnitPrice]
FROM (
    SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[Status] = @__status_0
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [o0]
LEFT JOIN [Users] AS [u] ON [o0].[UserId] = [u].[Id]
LEFT JOIN [OrderDetails] AS [o1] ON [o0].[Id] = [o1].[OrderId]
ORDER BY [o0].[OrderDate] DESC, [o0].[Id], [u].[Id]
2025-05-21 15:47:12.084 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching all orders for Admin. Page: 1, PageSize: 15, StatusFilter: Shipping
2025-05-21 15:47:12.087 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__status_0='2' (Size = 1), @__p_1='0', @__p_2='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [o0].[Id], [o0].[CreatedAtUtc], [o0].[DeliveryMethod], [o0].[InvoiceNumber], [o0].[OrderDate], [o0].[OrderShippingAddressId], [o0].[OrderType], [o0].[PaymentMethod], [o0].[PaymentStatus], [o0].[Status], [o0].[TotalAmount], [o0].[TransactionId], [o0].[UpdatedAtUtc], [o0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName], [o1].[Id], [o1].[BookId], [o1].[OrderId], [o1].[Quantity], [o1].[UnitPrice]
FROM (
    SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[Status] = @__status_0
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [o0]
LEFT JOIN [Users] AS [u] ON [o0].[UserId] = [u].[Id]
LEFT JOIN [OrderDetails] AS [o1] ON [o0].[Id] = [o1].[OrderId]
ORDER BY [o0].[OrderDate] DESC, [o0].[Id], [u].[Id]
2025-05-21 15:47:12.088 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching all orders for Admin. Page: 1, PageSize: 15, StatusFilter: Shipping
2025-05-21 15:47:12.095 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__status_0='2' (Size = 1), @__p_1='0', @__p_2='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [o0].[Id], [o0].[CreatedAtUtc], [o0].[DeliveryMethod], [o0].[InvoiceNumber], [o0].[OrderDate], [o0].[OrderShippingAddressId], [o0].[OrderType], [o0].[PaymentMethod], [o0].[PaymentStatus], [o0].[Status], [o0].[TotalAmount], [o0].[TransactionId], [o0].[UpdatedAtUtc], [o0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName], [o1].[Id], [o1].[BookId], [o1].[OrderId], [o1].[Quantity], [o1].[UnitPrice]
FROM (
    SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[Status] = @__status_0
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [o0]
LEFT JOIN [Users] AS [u] ON [o0].[UserId] = [u].[Id]
LEFT JOIN [OrderDetails] AS [o1] ON [o0].[Id] = [o1].[OrderId]
ORDER BY [o0].[OrderDate] DESC, [o0].[Id], [u].[Id]
2025-05-21 15:47:13.149 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching all orders for Admin. Page: 1, PageSize: 15, StatusFilter: Completed
2025-05-21 15:47:13.154 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching all orders for Admin. Page: 1, PageSize: 15, StatusFilter: Completed
2025-05-21 15:47:13.160 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (8ms) [Parameters=[@__status_0='3' (Size = 1), @__p_1='0', @__p_2='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [o0].[Id], [o0].[CreatedAtUtc], [o0].[DeliveryMethod], [o0].[InvoiceNumber], [o0].[OrderDate], [o0].[OrderShippingAddressId], [o0].[OrderType], [o0].[PaymentMethod], [o0].[PaymentStatus], [o0].[Status], [o0].[TotalAmount], [o0].[TransactionId], [o0].[UpdatedAtUtc], [o0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName], [o1].[Id], [o1].[BookId], [o1].[OrderId], [o1].[Quantity], [o1].[UnitPrice]
FROM (
    SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[Status] = @__status_0
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [o0]
LEFT JOIN [Users] AS [u] ON [o0].[UserId] = [u].[Id]
LEFT JOIN [OrderDetails] AS [o1] ON [o0].[Id] = [o1].[OrderId]
ORDER BY [o0].[OrderDate] DESC, [o0].[Id], [u].[Id]
2025-05-21 15:47:13.164 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (8ms) [Parameters=[@__status_0='3' (Size = 1), @__p_1='0', @__p_2='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [o0].[Id], [o0].[CreatedAtUtc], [o0].[DeliveryMethod], [o0].[InvoiceNumber], [o0].[OrderDate], [o0].[OrderShippingAddressId], [o0].[OrderType], [o0].[PaymentMethod], [o0].[PaymentStatus], [o0].[Status], [o0].[TotalAmount], [o0].[TransactionId], [o0].[UpdatedAtUtc], [o0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName], [o1].[Id], [o1].[BookId], [o1].[OrderId], [o1].[Quantity], [o1].[UnitPrice]
FROM (
    SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[Status] = @__status_0
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [o0]
LEFT JOIN [Users] AS [u] ON [o0].[UserId] = [u].[Id]
LEFT JOIN [OrderDetails] AS [o1] ON [o0].[Id] = [o1].[OrderId]
ORDER BY [o0].[OrderDate] DESC, [o0].[Id], [u].[Id]
2025-05-21 15:47:14.798 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching all orders for Admin. Page: 1, PageSize: 15, StatusFilter: Cancelled
2025-05-21 15:47:14.803 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching all orders for Admin. Page: 1, PageSize: 15, StatusFilter: Cancelled
2025-05-21 15:47:14.808 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (7ms) [Parameters=[@__status_0='4' (Size = 1), @__p_1='0', @__p_2='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [o0].[Id], [o0].[CreatedAtUtc], [o0].[DeliveryMethod], [o0].[InvoiceNumber], [o0].[OrderDate], [o0].[OrderShippingAddressId], [o0].[OrderType], [o0].[PaymentMethod], [o0].[PaymentStatus], [o0].[Status], [o0].[TotalAmount], [o0].[TransactionId], [o0].[UpdatedAtUtc], [o0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName], [o1].[Id], [o1].[BookId], [o1].[OrderId], [o1].[Quantity], [o1].[UnitPrice]
FROM (
    SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[Status] = @__status_0
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [o0]
LEFT JOIN [Users] AS [u] ON [o0].[UserId] = [u].[Id]
LEFT JOIN [OrderDetails] AS [o1] ON [o0].[Id] = [o1].[OrderId]
ORDER BY [o0].[OrderDate] DESC, [o0].[Id], [u].[Id]
2025-05-21 15:47:14.811 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (6ms) [Parameters=[@__status_0='4' (Size = 1), @__p_1='0', @__p_2='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [o0].[Id], [o0].[CreatedAtUtc], [o0].[DeliveryMethod], [o0].[InvoiceNumber], [o0].[OrderDate], [o0].[OrderShippingAddressId], [o0].[OrderType], [o0].[PaymentMethod], [o0].[PaymentStatus], [o0].[Status], [o0].[TotalAmount], [o0].[TransactionId], [o0].[UpdatedAtUtc], [o0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName], [o1].[Id], [o1].[BookId], [o1].[OrderId], [o1].[Quantity], [o1].[UnitPrice]
FROM (
    SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[Status] = @__status_0
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [o0]
LEFT JOIN [Users] AS [u] ON [o0].[UserId] = [u].[Id]
LEFT JOIN [OrderDetails] AS [o1] ON [o0].[Id] = [o1].[OrderId]
ORDER BY [o0].[OrderDate] DESC, [o0].[Id], [u].[Id]
2025-05-21 15:47:16.986 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching all orders for Admin. Page: 1, PageSize: 15, StatusFilter: None
2025-05-21 15:47:16.989 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching all orders for Admin. Page: 1, PageSize: 15, StatusFilter: None
2025-05-21 15:47:16.995 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (6ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [o0].[Id], [o0].[CreatedAtUtc], [o0].[DeliveryMethod], [o0].[InvoiceNumber], [o0].[OrderDate], [o0].[OrderShippingAddressId], [o0].[OrderType], [o0].[PaymentMethod], [o0].[PaymentStatus], [o0].[Status], [o0].[TotalAmount], [o0].[TransactionId], [o0].[UpdatedAtUtc], [o0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName], [o1].[Id], [o1].[BookId], [o1].[OrderId], [o1].[Quantity], [o1].[UnitPrice]
FROM (
    SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
    FROM [Orders] AS [o]
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [o0]
LEFT JOIN [Users] AS [u] ON [o0].[UserId] = [u].[Id]
LEFT JOIN [OrderDetails] AS [o1] ON [o0].[Id] = [o1].[OrderId]
ORDER BY [o0].[OrderDate] DESC, [o0].[Id], [u].[Id]
2025-05-21 15:47:16.997 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (5ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [o0].[Id], [o0].[CreatedAtUtc], [o0].[DeliveryMethod], [o0].[InvoiceNumber], [o0].[OrderDate], [o0].[OrderShippingAddressId], [o0].[OrderType], [o0].[PaymentMethod], [o0].[PaymentStatus], [o0].[Status], [o0].[TotalAmount], [o0].[TransactionId], [o0].[UpdatedAtUtc], [o0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName], [o1].[Id], [o1].[BookId], [o1].[OrderId], [o1].[Quantity], [o1].[UnitPrice]
FROM (
    SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
    FROM [Orders] AS [o]
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [o0]
LEFT JOIN [Users] AS [u] ON [o0].[UserId] = [u].[Id]
LEFT JOIN [OrderDetails] AS [o1] ON [o0].[Id] = [o1].[OrderId]
ORDER BY [o0].[OrderDate] DESC, [o0].[Id], [u].[Id]
2025-05-21 15:47:20.734 +07:00 [INF] (Bookstore.Application.Services.StockReceiptService) Fetching all stock receipts. Page: 1, PageSize: 15
2025-05-21 15:47:20.740 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [s1].[Id], [s1].[CreatedAtUtc], [s1].[Notes], [s1].[ReceiptDate], [s1].[SupplierId], [s1].[UpdatedAtUtc], [s0].[Id], [s0].[Address], [s0].[ContactPerson], [s0].[CreatedAtUtc], [s0].[Email], [s0].[Name], [s0].[Phone], [s0].[UpdatedAtUtc]
FROM (
    SELECT [s].[Id], [s].[CreatedAtUtc], [s].[Notes], [s].[ReceiptDate], [s].[SupplierId], [s].[UpdatedAtUtc]
    FROM [StockReceipts] AS [s]
    ORDER BY [s].[ReceiptDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [s1]
LEFT JOIN [Suppliers] AS [s0] ON [s1].[SupplierId] = [s0].[Id]
ORDER BY [s1].[ReceiptDate] DESC
2025-05-21 15:47:22.143 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__p_0='0', @__p_1='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit)
ORDER BY [c].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-21 15:47:22.166 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b0].[CategoryId] = [c0].[Id]
ORDER BY [b0].[CreatedAtUtc] DESC
2025-05-21 15:47:22.167 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b0].[CategoryId] = [c0].[Id]
ORDER BY [b0].[CreatedAtUtc] DESC
2025-05-21 15:47:22.320 +07:00 [INF] (Bookstore.Application.Services.AuthorService) Fetching all authors. Page: 1, PageSize: 10
2025-05-21 15:47:22.324 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Authors] AS [a]
ORDER BY [a].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-21 15:47:24.409 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@__catId_0='f9d76c8e-d5a0-4d86-9e80-87156653d239', @__p_1='0', @__p_2='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[CategoryId] = @__catId_0
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [b0]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b0].[CategoryId] = [c0].[Id]
ORDER BY [b0].[CreatedAtUtc] DESC
2025-05-21 15:47:24.409 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__catId_0='f9d76c8e-d5a0-4d86-9e80-87156653d239', @__p_1='0', @__p_2='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[CategoryId] = @__catId_0
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [b0]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b0].[CategoryId] = [c0].[Id]
ORDER BY [b0].[CreatedAtUtc] DESC
2025-05-21 15:47:26.670 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__catId_0='da2a34a1-f94b-4610-818a-8b1d0564f01b', @__p_1='0', @__p_2='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[CategoryId] = @__catId_0
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [b0]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b0].[CategoryId] = [c0].[Id]
ORDER BY [b0].[CreatedAtUtc] DESC
2025-05-21 15:47:26.673 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__catId_0='da2a34a1-f94b-4610-818a-8b1d0564f01b', @__p_1='0', @__p_2='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[CategoryId] = @__catId_0
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [b0]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b0].[CategoryId] = [c0].[Id]
ORDER BY [b0].[CreatedAtUtc] DESC
2025-05-21 15:47:28.128 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__catId_0='36a5332f-c2c3-479a-9f5d-2201468ee3eb', @__p_1='0', @__p_2='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[CategoryId] = @__catId_0
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [b0]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b0].[CategoryId] = [c0].[Id]
ORDER BY [b0].[CreatedAtUtc] DESC
2025-05-21 15:47:28.131 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__catId_0='36a5332f-c2c3-479a-9f5d-2201468ee3eb', @__p_1='0', @__p_2='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[CategoryId] = @__catId_0
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [b0]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b0].[CategoryId] = [c0].[Id]
ORDER BY [b0].[CreatedAtUtc] DESC
2025-05-21 15:47:29.480 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__catId_0='a91a6327-bf73-411c-a18a-4b92b3085d9e', @__p_1='0', @__p_2='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[CategoryId] = @__catId_0
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [b0]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b0].[CategoryId] = [c0].[Id]
ORDER BY [b0].[CreatedAtUtc] DESC
2025-05-21 15:47:29.483 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__catId_0='a91a6327-bf73-411c-a18a-4b92b3085d9e', @__p_1='0', @__p_2='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[CategoryId] = @__catId_0
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [b0]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b0].[CategoryId] = [c0].[Id]
ORDER BY [b0].[CreatedAtUtc] DESC
2025-05-21 15:47:30.813 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__catId_0='a91a6327-bf73-411c-a18a-4b92b3085d9e', @__p_1='0', @__p_2='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[CategoryId] = @__catId_0
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [b0]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b0].[CategoryId] = [c0].[Id]
ORDER BY [b0].[CreatedAtUtc] DESC
2025-05-21 15:47:30.816 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__catId_0='a91a6327-bf73-411c-a18a-4b92b3085d9e', @__p_1='0', @__p_2='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[CategoryId] = @__catId_0
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [b0]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b0].[CategoryId] = [c0].[Id]
ORDER BY [b0].[CreatedAtUtc] DESC
2025-05-21 15:47:32.093 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__catId_0='a91a6327-bf73-411c-a18a-4b92b3085d9e', @__p_1='0', @__p_2='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[CategoryId] = @__catId_0
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [b0]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b0].[CategoryId] = [c0].[Id]
ORDER BY [b0].[CreatedAtUtc] DESC
2025-05-21 15:47:32.097 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__catId_0='a91a6327-bf73-411c-a18a-4b92b3085d9e', @__p_1='0', @__p_2='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[CategoryId] = @__catId_0
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [b0]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b0].[CategoryId] = [c0].[Id]
ORDER BY [b0].[CreatedAtUtc] DESC
2025-05-21 15:47:33.177 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__catId_0='a91a6327-bf73-411c-a18a-4b92b3085d9e', @__p_1='0', @__p_2='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[CategoryId] = @__catId_0
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [b0]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b0].[CategoryId] = [c0].[Id]
ORDER BY [b0].[CreatedAtUtc] DESC
2025-05-21 15:47:33.180 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__catId_0='a91a6327-bf73-411c-a18a-4b92b3085d9e', @__p_1='0', @__p_2='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[CategoryId] = @__catId_0
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [b0]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b0].[CategoryId] = [c0].[Id]
ORDER BY [b0].[CreatedAtUtc] DESC
2025-05-21 15:47:33.674 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b0].[CategoryId] = [c0].[Id]
ORDER BY [b0].[CreatedAtUtc] DESC
2025-05-21 15:47:33.677 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b0].[CategoryId] = [c0].[Id]
ORDER BY [b0].[CreatedAtUtc] DESC
2025-05-21 15:47:35.548 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b0].[CategoryId] = [c0].[Id]
ORDER BY [b0].[CreatedAtUtc] DESC
2025-05-21 15:47:35.551 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b0].[CategoryId] = [c0].[Id]
ORDER BY [b0].[CreatedAtUtc] DESC
2025-05-21 15:47:37.118 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b0].[CategoryId] = [c0].[Id]
ORDER BY [b0].[CreatedAtUtc] DESC
2025-05-21 15:47:37.122 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b0].[CategoryId] = [c0].[Id]
ORDER BY [b0].[CreatedAtUtc] DESC
2025-05-21 15:47:38.612 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (5ms) [Parameters=[@__catId_0='707f89a4-da65-4b5e-a890-485a3b929301', @__p_1='0', @__p_2='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[CategoryId] = @__catId_0
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [b0]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b0].[CategoryId] = [c0].[Id]
ORDER BY [b0].[CreatedAtUtc] DESC
2025-05-21 15:47:38.614 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@__catId_0='707f89a4-da65-4b5e-a890-485a3b929301', @__p_1='0', @__p_2='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[CategoryId] = @__catId_0
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [b0]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b0].[CategoryId] = [c0].[Id]
ORDER BY [b0].[CreatedAtUtc] DESC
2025-05-21 15:47:40.149 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (5ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b0].[CategoryId] = [c0].[Id]
ORDER BY [b0].[CreatedAtUtc] DESC
2025-05-21 15:47:40.152 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b0].[CategoryId] = [c0].[Id]
ORDER BY [b0].[CreatedAtUtc] DESC
2025-05-21 15:47:40.713 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit)
ORDER BY [c].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-21 15:47:44.874 +07:00 [INF] (Bookstore.Application.Services.AuthorService) Fetching all authors. Page: 1, PageSize: 15
2025-05-21 15:47:44.878 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Authors] AS [a]
ORDER BY [a].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-21 15:47:47.082 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__p_0='0', @__p_1='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit)
ORDER BY [c].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-21 15:47:47.117 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='707f89a4-da65-4b5e-a890-485a3b929301' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__p_0
2025-05-21 15:48:15.757 +07:00 [INF] (Bookstore.Application.Services.AuthorService) Attempting to update author "0a612613-9707-4df7-a3c0-1f34f5f1755f"
2025-05-21 15:48:15.772 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (8ms) [Parameters=[@__p_0='0a612613-9707-4df7-a3c0-1f34f5f1755f' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Authors] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-21 15:48:15.790 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__ToLower_0='nguyen' (Size = 4000), @__id_1='0a612613-9707-4df7-a3c0-1f34f5f1755f'], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Authors] AS [a]
WHERE LOWER([a].[Name]) = @__ToLower_0 AND [a].[Id] <> @__id_1
2025-05-21 15:48:15.799 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@p4='0a612613-9707-4df7-a3c0-1f34f5f1755f', @p0='hehe' (Size = 4000), @p1='2025-05-02T14:16:45.4605441', @p2='Nguyen' (Nullable = false) (Size = 4000), @p3='2025-05-21T08:48:15.7976949Z'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Authors] SET [Biography] = @p0, [CreatedAtUtc] = @p1, [Name] = @p2, [UpdatedAtUtc] = @p3
OUTPUT 1
WHERE [Id] = @p4;
2025-05-21 15:48:15.804 +07:00 [INF] (Bookstore.Application.Services.AuthorService) Author "0a612613-9707-4df7-a3c0-1f34f5f1755f" updated successfully.
2025-05-21 15:48:29.318 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b0].[CategoryId] = [c0].[Id]
ORDER BY [b0].[CreatedAtUtc] DESC
2025-05-21 15:48:30.169 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b0].[CategoryId] = [c0].[Id]
ORDER BY [b0].[CreatedAtUtc] DESC
2025-05-21 15:48:31.309 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b0].[CategoryId] = [c0].[Id]
ORDER BY [b0].[CreatedAtUtc] DESC
2025-05-21 15:48:32.114 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b0].[CategoryId] = [c0].[Id]
ORDER BY [b0].[CreatedAtUtc] DESC
2025-05-21 15:48:32.920 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b0].[CategoryId] = [c0].[Id]
ORDER BY [b0].[CreatedAtUtc] DESC
2025-05-21 15:48:33.869 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit)
ORDER BY [c].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-21 15:48:33.872 +07:00 [INF] (Bookstore.Application.Services.AuthorService) Fetching all authors. Page: 1, PageSize: 10
2025-05-21 15:48:33.876 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Authors] AS [a]
ORDER BY [a].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-21 15:48:33.917 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__id_0='6d858026-d70a-4441-8837-01f8d972cb26'], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b].[CategoryId] = [c0].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Id] = @__id_0
2025-05-21 15:48:51.098 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__p_0='6d858026-d70a-4441-8837-01f8d972cb26' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
FROM [Books] AS [b]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Id] = @__p_0
2025-05-21 15:48:51.105 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='aa5416a0-f515-42ae-84a9-bf6b555a3f88' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__p_0
2025-05-21 15:48:51.111 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='e5f6a1b2-c3d4-4e5f-8a6b-5c4d5e6f7a8b' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Authors] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-21 15:48:51.137 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (8ms) [Parameters=[@p13='6d858026-d70a-4441-8837-01f8d972cb26', @p0='e5f6a1b2-c3d4-4e5f-8a6b-5c4d5e6f7a8b' (Nullable = true), @p1='aa5416a0-f515-42ae-84a9-bf6b555a3f88', @p2='https://storage.googleapis.com/bookmanagement-images/images/covers/fab18c61-e17d-488c-b9eb-e7a90d0709b4_M.jpg' (Size = 4000), @p3='2025-05-10T15:37:37.1449683', @p4='hanh trinh giam can' (Size = 4000), @p5='0362500213' (Size = 4000), @p6='False', @p7='123' (Precision = 18) (Scale = 2), @p8='2024' (Nullable = true), @p9='Khoa Hoc' (Size = 4000), @p10='3', @p11='Dang Thinh' (Nullable = false) (Size = 4000), @p12='2025-05-21T08:48:51.1295085Z'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Books] SET [AuthorId] = @p0, [CategoryId] = @p1, [CoverImageUrl] = @p2, [CreatedAtUtc] = @p3, [Description] = @p4, [ISBN] = @p5, [IsDeleted] = @p6, [Price] = @p7, [PublicationYear] = @p8, [Publisher] = @p9, [StockQuantity] = @p10, [Title] = @p11, [UpdatedAtUtc] = @p12
OUTPUT 1
WHERE [Id] = @p13;
2025-05-21 15:48:53.091 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b0].[CategoryId] = [c0].[Id]
ORDER BY [b0].[CreatedAtUtc] DESC
2025-05-21 15:48:54.343 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b0].[CategoryId] = [c0].[Id]
ORDER BY [b0].[CreatedAtUtc] DESC
2025-05-21 15:48:55.225 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b0].[CategoryId] = [c0].[Id]
ORDER BY [b0].[CreatedAtUtc] DESC
2025-05-21 15:48:57.324 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@__catId_0='c5d67bd0-b985-429b-8761-abaa265ad192', @__p_1='0', @__p_2='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[CategoryId] = @__catId_0
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [b0]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b0].[CategoryId] = [c0].[Id]
ORDER BY [b0].[CreatedAtUtc] DESC
2025-05-21 15:48:57.354 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__catId_0='c5d67bd0-b985-429b-8761-abaa265ad192', @__p_1='0', @__p_2='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[CategoryId] = @__catId_0
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [b0]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b0].[CategoryId] = [c0].[Id]
ORDER BY [b0].[CreatedAtUtc] DESC
2025-05-21 15:48:58.765 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b0].[CategoryId] = [c0].[Id]
ORDER BY [b0].[CreatedAtUtc] DESC
2025-05-21 15:48:58.768 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b0].[CategoryId] = [c0].[Id]
ORDER BY [b0].[CreatedAtUtc] DESC
2025-05-21 15:49:02.054 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching all orders for Admin. Page: 1, PageSize: 15, StatusFilter: None
2025-05-21 15:49:02.054 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching all orders for Admin. Page: 1, PageSize: 15, StatusFilter: None
2025-05-21 15:49:02.060 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [o0].[Id], [o0].[CreatedAtUtc], [o0].[DeliveryMethod], [o0].[InvoiceNumber], [o0].[OrderDate], [o0].[OrderShippingAddressId], [o0].[OrderType], [o0].[PaymentMethod], [o0].[PaymentStatus], [o0].[Status], [o0].[TotalAmount], [o0].[TransactionId], [o0].[UpdatedAtUtc], [o0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName], [o1].[Id], [o1].[BookId], [o1].[OrderId], [o1].[Quantity], [o1].[UnitPrice]
FROM (
    SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
    FROM [Orders] AS [o]
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [o0]
LEFT JOIN [Users] AS [u] ON [o0].[UserId] = [u].[Id]
LEFT JOIN [OrderDetails] AS [o1] ON [o0].[Id] = [o1].[OrderId]
ORDER BY [o0].[OrderDate] DESC, [o0].[Id], [u].[Id]
2025-05-21 15:49:02.063 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [o0].[Id], [o0].[CreatedAtUtc], [o0].[DeliveryMethod], [o0].[InvoiceNumber], [o0].[OrderDate], [o0].[OrderShippingAddressId], [o0].[OrderType], [o0].[PaymentMethod], [o0].[PaymentStatus], [o0].[Status], [o0].[TotalAmount], [o0].[TransactionId], [o0].[UpdatedAtUtc], [o0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName], [o1].[Id], [o1].[BookId], [o1].[OrderId], [o1].[Quantity], [o1].[UnitPrice]
FROM (
    SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
    FROM [Orders] AS [o]
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [o0]
LEFT JOIN [Users] AS [u] ON [o0].[UserId] = [u].[Id]
LEFT JOIN [OrderDetails] AS [o1] ON [o0].[Id] = [o1].[OrderId]
ORDER BY [o0].[OrderDate] DESC, [o0].[Id], [u].[Id]
2025-05-21 15:49:15.538 +07:00 [INF] (Bookstore.Application.Services.SupplierService) Fetching all suppliers.
2025-05-21 15:49:15.542 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Address], [s].[ContactPerson], [s].[CreatedAtUtc], [s].[Email], [s].[Name], [s].[Phone], [s].[UpdatedAtUtc]
FROM [Suppliers] AS [s]
ORDER BY [s].[Name]
2025-05-21 15:49:17.689 +07:00 [INF] (Bookstore.Application.Services.SupplierService) Fetching supplier with Id "fb3fb1e3-9378-4b89-8d98-d8423dce77b3"
2025-05-21 15:49:17.699 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__p_0='fb3fb1e3-9378-4b89-8d98-d8423dce77b3' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Address], [s].[ContactPerson], [s].[CreatedAtUtc], [s].[Email], [s].[Name], [s].[Phone], [s].[UpdatedAtUtc]
FROM [Suppliers] AS [s]
WHERE [s].[Id] = @__p_0
2025-05-21 15:49:19.649 +07:00 [INF] (Bookstore.Application.Services.SupplierService) Fetching all suppliers.
2025-05-21 15:49:19.651 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Address], [s].[ContactPerson], [s].[CreatedAtUtc], [s].[Email], [s].[Name], [s].[Phone], [s].[UpdatedAtUtc]
FROM [Suppliers] AS [s]
ORDER BY [s].[Name]
2025-05-21 15:49:22.478 +07:00 [INF] (Bookstore.Application.Services.SupplierService) Fetching all suppliers.
2025-05-21 15:49:22.480 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Address], [s].[ContactPerson], [s].[CreatedAtUtc], [s].[Email], [s].[Name], [s].[Phone], [s].[UpdatedAtUtc]
FROM [Suppliers] AS [s]
ORDER BY [s].[Name]
2025-05-21 15:49:37.992 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (5ms) [Parameters=[@__searchTerm_0_contains='%st%' (Size = 4000), @__p_1='0', @__p_2='20'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AuthorId], [s].[CategoryId], [s].[CoverImageUrl], [s].[CreatedAtUtc], [s].[Description], [s].[ISBN], [s].[IsDeleted], [s].[Price], [s].[PublicationYear], [s].[Publisher], [s].[StockQuantity], [s].[Title], [s].[UpdatedAtUtc], [s].[Id0], [s].[Biography], [s].[CreatedAtUtc0], [s].[Name], [s].[UpdatedAtUtc0], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id] AS [Id0], [a].[Biography], [a].[CreatedAtUtc] AS [CreatedAtUtc0], [a].[Name], [a].[UpdatedAtUtc] AS [UpdatedAtUtc0]
    FROM [Books] AS [b]
    LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
    WHERE [b].[IsDeleted] = CAST(0 AS bit) AND (LOWER([b].[Title]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR ([a].[Id] IS NOT NULL AND [a].[Name] IS NOT NULL AND LOWER([a].[Name]) LIKE @__searchTerm_0_contains ESCAPE N'\') OR ([b].[ISBN] IS NOT NULL AND LOWER([b].[ISBN]) LIKE @__searchTerm_0_contains ESCAPE N'\'))
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [s]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [s].[CategoryId] = [c0].[Id]
ORDER BY [s].[CreatedAtUtc] DESC
2025-05-21 15:49:49.398 +07:00 [INF] (Bookstore.Application.Services.InventoryService) User "f54527eb-f806-40db-bf76-c7b0e5fa6d39" attempting to adjust stock for Book "5d8fc980-abf3-49f8-a735-92c402be0cbe". Change: -5, Reason: "Adjustment"
2025-05-21 15:49:49.410 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='5d8fc980-abf3-49f8-a735-92c402be0cbe' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
FROM [Books] AS [b]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Id] = @__p_0
2025-05-21 15:49:49.415 +07:00 [WRN] (Microsoft.EntityFrameworkCore.Database.Transaction) Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2025-05-21 15:49:49.421 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@p2='5d8fc980-abf3-49f8-a735-92c402be0cbe', @p0='50', @p1='2025-05-21T08:49:49.4154135Z', @p3='d0f2f337-05ce-4cdb-9fbc-54373e9a6b4d', @p4='5d8fc980-abf3-49f8-a735-92c402be0cbe', @p5='-5', @p6=NULL (DbType = Guid), @p7='5' (Size = 1), @p8=NULL (DbType = Guid), @p9='2025-05-21T08:49:49.4145861Z', @p10='f54527eb-f806-40db-bf76-c7b0e5fa6d39' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Books] SET [StockQuantity] = @p0, [UpdatedAtUtc] = @p1
OUTPUT 1
WHERE [Id] = @p2;
INSERT INTO [InventoryLogs] ([Id], [BookId], [ChangeQuantity], [OrderId], [Reason], [StockReceiptId], [TimestampUtc], [UserId])
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
2025-05-21 15:49:49.427 +07:00 [INF] (Bookstore.Application.Services.InventoryService) Stock for Book "5d8fc980-abf3-49f8-a735-92c402be0cbe" successfully adjusted by User "f54527eb-f806-40db-bf76-c7b0e5fa6d39". New quantity: 50
2025-05-21 15:49:54.455 +07:00 [INF] (Bookstore.Application.Services.SupplierService) Fetching all suppliers.
2025-05-21 15:49:54.459 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Address], [s].[ContactPerson], [s].[CreatedAtUtc], [s].[Email], [s].[Name], [s].[Phone], [s].[UpdatedAtUtc]
FROM [Suppliers] AS [s]
ORDER BY [s].[Name]
2025-05-21 15:50:01.473 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching all orders for Admin. Page: 1, PageSize: 15, StatusFilter: None
2025-05-21 15:50:01.477 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching all orders for Admin. Page: 1, PageSize: 15, StatusFilter: None
2025-05-21 15:50:01.481 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (5ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [o0].[Id], [o0].[CreatedAtUtc], [o0].[DeliveryMethod], [o0].[InvoiceNumber], [o0].[OrderDate], [o0].[OrderShippingAddressId], [o0].[OrderType], [o0].[PaymentMethod], [o0].[PaymentStatus], [o0].[Status], [o0].[TotalAmount], [o0].[TransactionId], [o0].[UpdatedAtUtc], [o0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName], [o1].[Id], [o1].[BookId], [o1].[OrderId], [o1].[Quantity], [o1].[UnitPrice]
FROM (
    SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
    FROM [Orders] AS [o]
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [o0]
LEFT JOIN [Users] AS [u] ON [o0].[UserId] = [u].[Id]
LEFT JOIN [OrderDetails] AS [o1] ON [o0].[Id] = [o1].[OrderId]
ORDER BY [o0].[OrderDate] DESC, [o0].[Id], [u].[Id]
2025-05-21 15:50:01.482 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [o0].[Id], [o0].[CreatedAtUtc], [o0].[DeliveryMethod], [o0].[InvoiceNumber], [o0].[OrderDate], [o0].[OrderShippingAddressId], [o0].[OrderType], [o0].[PaymentMethod], [o0].[PaymentStatus], [o0].[Status], [o0].[TotalAmount], [o0].[TransactionId], [o0].[UpdatedAtUtc], [o0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName], [o1].[Id], [o1].[BookId], [o1].[OrderId], [o1].[Quantity], [o1].[UnitPrice]
FROM (
    SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
    FROM [Orders] AS [o]
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [o0]
LEFT JOIN [Users] AS [u] ON [o0].[UserId] = [u].[Id]
LEFT JOIN [OrderDetails] AS [o1] ON [o0].[Id] = [o1].[OrderId]
ORDER BY [o0].[OrderDate] DESC, [o0].[Id], [u].[Id]
2025-05-21 15:50:03.757 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching all orders for Admin. Page: 1, PageSize: 15, StatusFilter: Pending
2025-05-21 15:50:03.761 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching all orders for Admin. Page: 1, PageSize: 15, StatusFilter: Pending
2025-05-21 15:50:03.764 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@__status_0='0' (Size = 1), @__p_1='0', @__p_2='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [o0].[Id], [o0].[CreatedAtUtc], [o0].[DeliveryMethod], [o0].[InvoiceNumber], [o0].[OrderDate], [o0].[OrderShippingAddressId], [o0].[OrderType], [o0].[PaymentMethod], [o0].[PaymentStatus], [o0].[Status], [o0].[TotalAmount], [o0].[TransactionId], [o0].[UpdatedAtUtc], [o0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName], [o1].[Id], [o1].[BookId], [o1].[OrderId], [o1].[Quantity], [o1].[UnitPrice]
FROM (
    SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[Status] = @__status_0
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [o0]
LEFT JOIN [Users] AS [u] ON [o0].[UserId] = [u].[Id]
LEFT JOIN [OrderDetails] AS [o1] ON [o0].[Id] = [o1].[OrderId]
ORDER BY [o0].[OrderDate] DESC, [o0].[Id], [u].[Id]
2025-05-21 15:50:03.767 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@__status_0='0' (Size = 1), @__p_1='0', @__p_2='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [o0].[Id], [o0].[CreatedAtUtc], [o0].[DeliveryMethod], [o0].[InvoiceNumber], [o0].[OrderDate], [o0].[OrderShippingAddressId], [o0].[OrderType], [o0].[PaymentMethod], [o0].[PaymentStatus], [o0].[Status], [o0].[TotalAmount], [o0].[TransactionId], [o0].[UpdatedAtUtc], [o0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName], [o1].[Id], [o1].[BookId], [o1].[OrderId], [o1].[Quantity], [o1].[UnitPrice]
FROM (
    SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[Status] = @__status_0
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [o0]
LEFT JOIN [Users] AS [u] ON [o0].[UserId] = [u].[Id]
LEFT JOIN [OrderDetails] AS [o1] ON [o0].[Id] = [o1].[OrderId]
ORDER BY [o0].[OrderDate] DESC, [o0].[Id], [u].[Id]
2025-05-21 15:50:05.089 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching all orders for Admin. Page: 1, PageSize: 15, StatusFilter: Confirmed
2025-05-21 15:50:05.093 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__status_0='1' (Size = 1), @__p_1='0', @__p_2='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [o0].[Id], [o0].[CreatedAtUtc], [o0].[DeliveryMethod], [o0].[InvoiceNumber], [o0].[OrderDate], [o0].[OrderShippingAddressId], [o0].[OrderType], [o0].[PaymentMethod], [o0].[PaymentStatus], [o0].[Status], [o0].[TotalAmount], [o0].[TransactionId], [o0].[UpdatedAtUtc], [o0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName], [o1].[Id], [o1].[BookId], [o1].[OrderId], [o1].[Quantity], [o1].[UnitPrice]
FROM (
    SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[Status] = @__status_0
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [o0]
LEFT JOIN [Users] AS [u] ON [o0].[UserId] = [u].[Id]
LEFT JOIN [OrderDetails] AS [o1] ON [o0].[Id] = [o1].[OrderId]
ORDER BY [o0].[OrderDate] DESC, [o0].[Id], [u].[Id]
2025-05-21 15:50:05.094 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching all orders for Admin. Page: 1, PageSize: 15, StatusFilter: Confirmed
2025-05-21 15:50:05.102 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__status_0='1' (Size = 1), @__p_1='0', @__p_2='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [o0].[Id], [o0].[CreatedAtUtc], [o0].[DeliveryMethod], [o0].[InvoiceNumber], [o0].[OrderDate], [o0].[OrderShippingAddressId], [o0].[OrderType], [o0].[PaymentMethod], [o0].[PaymentStatus], [o0].[Status], [o0].[TotalAmount], [o0].[TransactionId], [o0].[UpdatedAtUtc], [o0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName], [o1].[Id], [o1].[BookId], [o1].[OrderId], [o1].[Quantity], [o1].[UnitPrice]
FROM (
    SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[Status] = @__status_0
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [o0]
LEFT JOIN [Users] AS [u] ON [o0].[UserId] = [u].[Id]
LEFT JOIN [OrderDetails] AS [o1] ON [o0].[Id] = [o1].[OrderId]
ORDER BY [o0].[OrderDate] DESC, [o0].[Id], [u].[Id]
2025-05-21 15:50:06.416 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching all orders for Admin. Page: 1, PageSize: 15, StatusFilter: Shipping
2025-05-21 15:50:06.420 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__status_0='2' (Size = 1), @__p_1='0', @__p_2='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [o0].[Id], [o0].[CreatedAtUtc], [o0].[DeliveryMethod], [o0].[InvoiceNumber], [o0].[OrderDate], [o0].[OrderShippingAddressId], [o0].[OrderType], [o0].[PaymentMethod], [o0].[PaymentStatus], [o0].[Status], [o0].[TotalAmount], [o0].[TransactionId], [o0].[UpdatedAtUtc], [o0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName], [o1].[Id], [o1].[BookId], [o1].[OrderId], [o1].[Quantity], [o1].[UnitPrice]
FROM (
    SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[Status] = @__status_0
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [o0]
LEFT JOIN [Users] AS [u] ON [o0].[UserId] = [u].[Id]
LEFT JOIN [OrderDetails] AS [o1] ON [o0].[Id] = [o1].[OrderId]
ORDER BY [o0].[OrderDate] DESC, [o0].[Id], [u].[Id]
2025-05-21 15:50:06.420 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching all orders for Admin. Page: 1, PageSize: 15, StatusFilter: Shipping
2025-05-21 15:50:06.427 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__status_0='2' (Size = 1), @__p_1='0', @__p_2='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [o0].[Id], [o0].[CreatedAtUtc], [o0].[DeliveryMethod], [o0].[InvoiceNumber], [o0].[OrderDate], [o0].[OrderShippingAddressId], [o0].[OrderType], [o0].[PaymentMethod], [o0].[PaymentStatus], [o0].[Status], [o0].[TotalAmount], [o0].[TransactionId], [o0].[UpdatedAtUtc], [o0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName], [o1].[Id], [o1].[BookId], [o1].[OrderId], [o1].[Quantity], [o1].[UnitPrice]
FROM (
    SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[Status] = @__status_0
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [o0]
LEFT JOIN [Users] AS [u] ON [o0].[UserId] = [u].[Id]
LEFT JOIN [OrderDetails] AS [o1] ON [o0].[Id] = [o1].[OrderId]
ORDER BY [o0].[OrderDate] DESC, [o0].[Id], [u].[Id]
2025-05-21 15:50:07.413 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching all orders for Admin. Page: 1, PageSize: 15, StatusFilter: Completed
2025-05-21 15:50:07.417 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__status_0='3' (Size = 1), @__p_1='0', @__p_2='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [o0].[Id], [o0].[CreatedAtUtc], [o0].[DeliveryMethod], [o0].[InvoiceNumber], [o0].[OrderDate], [o0].[OrderShippingAddressId], [o0].[OrderType], [o0].[PaymentMethod], [o0].[PaymentStatus], [o0].[Status], [o0].[TotalAmount], [o0].[TransactionId], [o0].[UpdatedAtUtc], [o0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName], [o1].[Id], [o1].[BookId], [o1].[OrderId], [o1].[Quantity], [o1].[UnitPrice]
FROM (
    SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[Status] = @__status_0
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [o0]
LEFT JOIN [Users] AS [u] ON [o0].[UserId] = [u].[Id]
LEFT JOIN [OrderDetails] AS [o1] ON [o0].[Id] = [o1].[OrderId]
ORDER BY [o0].[OrderDate] DESC, [o0].[Id], [u].[Id]
2025-05-21 15:50:07.417 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching all orders for Admin. Page: 1, PageSize: 15, StatusFilter: Completed
2025-05-21 15:50:07.427 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__status_0='3' (Size = 1), @__p_1='0', @__p_2='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [o0].[Id], [o0].[CreatedAtUtc], [o0].[DeliveryMethod], [o0].[InvoiceNumber], [o0].[OrderDate], [o0].[OrderShippingAddressId], [o0].[OrderType], [o0].[PaymentMethod], [o0].[PaymentStatus], [o0].[Status], [o0].[TotalAmount], [o0].[TransactionId], [o0].[UpdatedAtUtc], [o0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName], [o1].[Id], [o1].[BookId], [o1].[OrderId], [o1].[Quantity], [o1].[UnitPrice]
FROM (
    SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[Status] = @__status_0
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [o0]
LEFT JOIN [Users] AS [u] ON [o0].[UserId] = [u].[Id]
LEFT JOIN [OrderDetails] AS [o1] ON [o0].[Id] = [o1].[OrderId]
ORDER BY [o0].[OrderDate] DESC, [o0].[Id], [u].[Id]
2025-05-21 15:50:08.830 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching all orders for Admin. Page: 1, PageSize: 15, StatusFilter: None
2025-05-21 15:50:08.834 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [o0].[Id], [o0].[CreatedAtUtc], [o0].[DeliveryMethod], [o0].[InvoiceNumber], [o0].[OrderDate], [o0].[OrderShippingAddressId], [o0].[OrderType], [o0].[PaymentMethod], [o0].[PaymentStatus], [o0].[Status], [o0].[TotalAmount], [o0].[TransactionId], [o0].[UpdatedAtUtc], [o0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName], [o1].[Id], [o1].[BookId], [o1].[OrderId], [o1].[Quantity], [o1].[UnitPrice]
FROM (
    SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
    FROM [Orders] AS [o]
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [o0]
LEFT JOIN [Users] AS [u] ON [o0].[UserId] = [u].[Id]
LEFT JOIN [OrderDetails] AS [o1] ON [o0].[Id] = [o1].[OrderId]
ORDER BY [o0].[OrderDate] DESC, [o0].[Id], [u].[Id]
2025-05-21 15:50:08.834 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching all orders for Admin. Page: 1, PageSize: 15, StatusFilter: None
2025-05-21 15:50:08.842 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [o0].[Id], [o0].[CreatedAtUtc], [o0].[DeliveryMethod], [o0].[InvoiceNumber], [o0].[OrderDate], [o0].[OrderShippingAddressId], [o0].[OrderType], [o0].[PaymentMethod], [o0].[PaymentStatus], [o0].[Status], [o0].[TotalAmount], [o0].[TransactionId], [o0].[UpdatedAtUtc], [o0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName], [o1].[Id], [o1].[BookId], [o1].[OrderId], [o1].[Quantity], [o1].[UnitPrice]
FROM (
    SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
    FROM [Orders] AS [o]
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [o0]
LEFT JOIN [Users] AS [u] ON [o0].[UserId] = [u].[Id]
LEFT JOIN [OrderDetails] AS [o1] ON [o0].[Id] = [o1].[OrderId]
ORDER BY [o0].[OrderDate] DESC, [o0].[Id], [u].[Id]
2025-05-21 15:50:10.208 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching all orders for Admin. Page: 1, PageSize: 15, StatusFilter: None
2025-05-21 15:50:10.211 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [o0].[Id], [o0].[CreatedAtUtc], [o0].[DeliveryMethod], [o0].[InvoiceNumber], [o0].[OrderDate], [o0].[OrderShippingAddressId], [o0].[OrderType], [o0].[PaymentMethod], [o0].[PaymentStatus], [o0].[Status], [o0].[TotalAmount], [o0].[TransactionId], [o0].[UpdatedAtUtc], [o0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName], [o1].[Id], [o1].[BookId], [o1].[OrderId], [o1].[Quantity], [o1].[UnitPrice]
FROM (
    SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
    FROM [Orders] AS [o]
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [o0]
LEFT JOIN [Users] AS [u] ON [o0].[UserId] = [u].[Id]
LEFT JOIN [OrderDetails] AS [o1] ON [o0].[Id] = [o1].[OrderId]
ORDER BY [o0].[OrderDate] DESC, [o0].[Id], [u].[Id]
2025-05-21 15:50:11.046 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching all orders for Admin. Page: 1, PageSize: 15, StatusFilter: None
2025-05-21 15:50:11.049 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [o0].[Id], [o0].[CreatedAtUtc], [o0].[DeliveryMethod], [o0].[InvoiceNumber], [o0].[OrderDate], [o0].[OrderShippingAddressId], [o0].[OrderType], [o0].[PaymentMethod], [o0].[PaymentStatus], [o0].[Status], [o0].[TotalAmount], [o0].[TransactionId], [o0].[UpdatedAtUtc], [o0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName], [o1].[Id], [o1].[BookId], [o1].[OrderId], [o1].[Quantity], [o1].[UnitPrice]
FROM (
    SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
    FROM [Orders] AS [o]
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [o0]
LEFT JOIN [Users] AS [u] ON [o0].[UserId] = [u].[Id]
LEFT JOIN [OrderDetails] AS [o1] ON [o0].[Id] = [o1].[OrderId]
ORDER BY [o0].[OrderDate] DESC, [o0].[Id], [u].[Id]
2025-05-21 15:50:14.767 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching order details "8185832d-6cdc-4807-a5ca-f043601ad781" for Admin
2025-05-21 15:50:14.778 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (9ms) [Parameters=[@__orderId_0='8185832d-6cdc-4807-a5ca-f043601ad781'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CreatedAtUtc], [s].[DeliveryMethod], [s].[InvoiceNumber], [s].[OrderDate], [s].[OrderShippingAddressId], [s].[OrderType], [s].[PaymentMethod], [s].[PaymentStatus], [s].[Status], [s].[TotalAmount], [s].[TransactionId], [s].[UpdatedAtUtc], [s].[UserId], [s].[Id0], [s].[CreatedAtUtc0], [s].[Email], [s].[FirstName], [s].[IsActive], [s].[LastName], [s].[PasswordHash], [s].[PhoneNumber], [s].[UpdatedAtUtc0], [s].[UserName], [s].[Id1], [s].[City], [s].[District], [s].[PhoneNumber0], [s].[RecipientName], [s].[Street], [s].[Village], [s0].[Id], [s0].[BookId], [s0].[OrderId], [s0].[Quantity], [s0].[UnitPrice], [s0].[Id0], [s0].[AuthorId], [s0].[CategoryId], [s0].[CoverImageUrl], [s0].[CreatedAtUtc], [s0].[Description], [s0].[ISBN], [s0].[IsDeleted], [s0].[Price], [s0].[PublicationYear], [s0].[Publisher], [s0].[StockQuantity], [s0].[Title], [s0].[UpdatedAtUtc], [s0].[Id1], [s0].[Biography], [s0].[CreatedAtUtc0], [s0].[Name], [s0].[UpdatedAtUtc0]
FROM (
    SELECT TOP(1) [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId], [u].[Id] AS [Id0], [u].[CreatedAtUtc] AS [CreatedAtUtc0], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc] AS [UpdatedAtUtc0], [u].[UserName], [o0].[Id] AS [Id1], [o0].[City], [o0].[District], [o0].[PhoneNumber] AS [PhoneNumber0], [o0].[RecipientName], [o0].[Street], [o0].[Village]
    FROM [Orders] AS [o]
    LEFT JOIN [Users] AS [u] ON [o].[UserId] = [u].[Id]
    LEFT JOIN [OrderShippingAddresses] AS [o0] ON [o].[OrderShippingAddressId] = [o0].[Id]
    WHERE [o].[Id] = @__orderId_0
) AS [s]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[BookId], [o1].[OrderId], [o1].[Quantity], [o1].[UnitPrice], [b0].[Id] AS [Id0], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id] AS [Id1], [a].[Biography], [a].[CreatedAtUtc] AS [CreatedAtUtc0], [a].[Name], [a].[UpdatedAtUtc] AS [UpdatedAtUtc0]
    FROM [OrderDetails] AS [o1]
    INNER JOIN (
        SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
        FROM [Books] AS [b]
        WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ) AS [b0] ON [o1].[BookId] = [b0].[Id]
    LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
) AS [s0] ON [s].[Id] = [s0].[OrderId]
ORDER BY [s].[Id], [s].[Id0], [s].[Id1], [s0].[Id], [s0].[Id0]
2025-05-21 15:50:18.587 +07:00 [INF] (Bookstore.Application.Services.OrderService) Admin "f54527eb-f806-40db-bf76-c7b0e5fa6d39" attempting to update status for Order "8185832d-6cdc-4807-a5ca-f043601ad781" to "Pending"
2025-05-21 15:50:18.608 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (5ms) [Parameters=[@__orderId_0='8185832d-6cdc-4807-a5ca-f043601ad781'], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId], [s].[Id], [s].[BookId], [s].[OrderId], [s].[Quantity], [s].[UnitPrice], [s].[Id0], [s].[AuthorId], [s].[CategoryId], [s].[CoverImageUrl], [s].[CreatedAtUtc], [s].[Description], [s].[ISBN], [s].[IsDeleted], [s].[Price], [s].[PublicationYear], [s].[Publisher], [s].[StockQuantity], [s].[Title], [s].[UpdatedAtUtc]
FROM [Orders] AS [o]
LEFT JOIN (
    SELECT [o0].[Id], [o0].[BookId], [o0].[OrderId], [o0].[Quantity], [o0].[UnitPrice], [b0].[Id] AS [Id0], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc]
    FROM [OrderDetails] AS [o0]
    INNER JOIN (
        SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
        FROM [Books] AS [b]
        WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ) AS [b0] ON [o0].[BookId] = [b0].[Id]
) AS [s] ON [o].[Id] = [s].[OrderId]
WHERE [o].[Id] = @__orderId_0
ORDER BY [o].[Id], [s].[Id]
2025-05-21 15:50:18.628 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (9ms) [Parameters=[@p2='8185832d-6cdc-4807-a5ca-f043601ad781', @p0='0' (Size = 1), @p1='2025-05-21T08:50:18.6193885Z'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Orders] SET [Status] = @p0, [UpdatedAtUtc] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-05-21 15:50:18.633 +07:00 [INF] (Bookstore.Application.Services.OrderService) Successfully updated status for Order "8185832d-6cdc-4807-a5ca-f043601ad781" to "Pending" by Admin "f54527eb-f806-40db-bf76-c7b0e5fa6d39"
2025-05-21 15:50:20.201 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching all orders for Admin. Page: 1, PageSize: 15, StatusFilter: None
2025-05-21 15:50:20.204 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching all orders for Admin. Page: 1, PageSize: 15, StatusFilter: None
2025-05-21 15:50:20.205 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [o0].[Id], [o0].[CreatedAtUtc], [o0].[DeliveryMethod], [o0].[InvoiceNumber], [o0].[OrderDate], [o0].[OrderShippingAddressId], [o0].[OrderType], [o0].[PaymentMethod], [o0].[PaymentStatus], [o0].[Status], [o0].[TotalAmount], [o0].[TransactionId], [o0].[UpdatedAtUtc], [o0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName], [o1].[Id], [o1].[BookId], [o1].[OrderId], [o1].[Quantity], [o1].[UnitPrice]
FROM (
    SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
    FROM [Orders] AS [o]
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [o0]
LEFT JOIN [Users] AS [u] ON [o0].[UserId] = [u].[Id]
LEFT JOIN [OrderDetails] AS [o1] ON [o0].[Id] = [o1].[OrderId]
ORDER BY [o0].[OrderDate] DESC, [o0].[Id], [u].[Id]
2025-05-21 15:50:20.207 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [o0].[Id], [o0].[CreatedAtUtc], [o0].[DeliveryMethod], [o0].[InvoiceNumber], [o0].[OrderDate], [o0].[OrderShippingAddressId], [o0].[OrderType], [o0].[PaymentMethod], [o0].[PaymentStatus], [o0].[Status], [o0].[TotalAmount], [o0].[TransactionId], [o0].[UpdatedAtUtc], [o0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName], [o1].[Id], [o1].[BookId], [o1].[OrderId], [o1].[Quantity], [o1].[UnitPrice]
FROM (
    SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
    FROM [Orders] AS [o]
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [o0]
LEFT JOIN [Users] AS [u] ON [o0].[UserId] = [u].[Id]
LEFT JOIN [OrderDetails] AS [o1] ON [o0].[Id] = [o1].[OrderId]
ORDER BY [o0].[OrderDate] DESC, [o0].[Id], [u].[Id]
2025-05-21 15:50:21.221 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching all orders for Admin. Page: 1, PageSize: 15, StatusFilter: None
2025-05-21 15:50:21.225 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [o0].[Id], [o0].[CreatedAtUtc], [o0].[DeliveryMethod], [o0].[InvoiceNumber], [o0].[OrderDate], [o0].[OrderShippingAddressId], [o0].[OrderType], [o0].[PaymentMethod], [o0].[PaymentStatus], [o0].[Status], [o0].[TotalAmount], [o0].[TransactionId], [o0].[UpdatedAtUtc], [o0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName], [o1].[Id], [o1].[BookId], [o1].[OrderId], [o1].[Quantity], [o1].[UnitPrice]
FROM (
    SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
    FROM [Orders] AS [o]
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [o0]
LEFT JOIN [Users] AS [u] ON [o0].[UserId] = [u].[Id]
LEFT JOIN [OrderDetails] AS [o1] ON [o0].[Id] = [o1].[OrderId]
ORDER BY [o0].[OrderDate] DESC, [o0].[Id], [u].[Id]
2025-05-21 15:50:22.679 +07:00 [INF] (Bookstore.Application.Services.ReportService) Fetching admin dashboard summary.
2025-05-21 15:50:22.683 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__todayStart_0='2025-05-21T00:00:00.0000000Z', @__tomorrowStart_1='2025-05-22T00:00:00.0000000Z'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[OrderDate] >= @__todayStart_0 AND [o].[OrderDate] < @__tomorrowStart_1 AND [o].[Status] <> CAST(4 AS tinyint)
2025-05-21 15:50:22.689 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__todayStart_0='2025-05-21T00:00:00.0000000Z', @__tomorrowStart_1='2025-05-22T00:00:00.0000000Z'], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalAmount]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[OrderDate] >= @__todayStart_0 AND [o].[OrderDate] < @__tomorrowStart_1 AND [o].[Status] = CAST(3 AS tinyint)
2025-05-21 15:50:22.694 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__todayStart_0='2025-05-21T00:00:00.0000000Z', @__tomorrowStart_1='2025-05-22T00:00:00.0000000Z'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[CreatedAtUtc] >= @__todayStart_0 AND [u].[CreatedAtUtc] < @__tomorrowStart_1
2025-05-21 15:50:22.700 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__lowStockThreshold_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Books] AS [b]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[IsDeleted] = CAST(0 AS bit) AND [b].[StockQuantity] > 0 AND [b].[StockQuantity] <= @__lowStockThreshold_0
2025-05-21 15:50:22.703 +07:00 [INF] (Bookstore.Application.Services.ReportService) Admin dashboard summary fetched successfully.
2025-05-21 15:50:24.031 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching all orders for Admin. Page: 1, PageSize: 15, StatusFilter: None
2025-05-21 15:50:24.035 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [o0].[Id], [o0].[CreatedAtUtc], [o0].[DeliveryMethod], [o0].[InvoiceNumber], [o0].[OrderDate], [o0].[OrderShippingAddressId], [o0].[OrderType], [o0].[PaymentMethod], [o0].[PaymentStatus], [o0].[Status], [o0].[TotalAmount], [o0].[TransactionId], [o0].[UpdatedAtUtc], [o0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName], [o1].[Id], [o1].[BookId], [o1].[OrderId], [o1].[Quantity], [o1].[UnitPrice]
FROM (
    SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
    FROM [Orders] AS [o]
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [o0]
LEFT JOIN [Users] AS [u] ON [o0].[UserId] = [u].[Id]
LEFT JOIN [OrderDetails] AS [o1] ON [o0].[Id] = [o1].[OrderId]
ORDER BY [o0].[OrderDate] DESC, [o0].[Id], [u].[Id]
2025-05-21 15:50:24.035 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching all orders for Admin. Page: 1, PageSize: 15, StatusFilter: None
2025-05-21 15:50:24.042 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [o0].[Id], [o0].[CreatedAtUtc], [o0].[DeliveryMethod], [o0].[InvoiceNumber], [o0].[OrderDate], [o0].[OrderShippingAddressId], [o0].[OrderType], [o0].[PaymentMethod], [o0].[PaymentStatus], [o0].[Status], [o0].[TotalAmount], [o0].[TransactionId], [o0].[UpdatedAtUtc], [o0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName], [o1].[Id], [o1].[BookId], [o1].[OrderId], [o1].[Quantity], [o1].[UnitPrice]
FROM (
    SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
    FROM [Orders] AS [o]
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [o0]
LEFT JOIN [Users] AS [u] ON [o0].[UserId] = [u].[Id]
LEFT JOIN [OrderDetails] AS [o1] ON [o0].[Id] = [o1].[OrderId]
ORDER BY [o0].[OrderDate] DESC, [o0].[Id], [u].[Id]
2025-05-21 15:52:37.196 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching order details "8185832d-6cdc-4807-a5ca-f043601ad781" for Admin
2025-05-21 15:52:37.208 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (10ms) [Parameters=[@__orderId_0='8185832d-6cdc-4807-a5ca-f043601ad781'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CreatedAtUtc], [s].[DeliveryMethod], [s].[InvoiceNumber], [s].[OrderDate], [s].[OrderShippingAddressId], [s].[OrderType], [s].[PaymentMethod], [s].[PaymentStatus], [s].[Status], [s].[TotalAmount], [s].[TransactionId], [s].[UpdatedAtUtc], [s].[UserId], [s].[Id0], [s].[CreatedAtUtc0], [s].[Email], [s].[FirstName], [s].[IsActive], [s].[LastName], [s].[PasswordHash], [s].[PhoneNumber], [s].[UpdatedAtUtc0], [s].[UserName], [s].[Id1], [s].[City], [s].[District], [s].[PhoneNumber0], [s].[RecipientName], [s].[Street], [s].[Village], [s0].[Id], [s0].[BookId], [s0].[OrderId], [s0].[Quantity], [s0].[UnitPrice], [s0].[Id0], [s0].[AuthorId], [s0].[CategoryId], [s0].[CoverImageUrl], [s0].[CreatedAtUtc], [s0].[Description], [s0].[ISBN], [s0].[IsDeleted], [s0].[Price], [s0].[PublicationYear], [s0].[Publisher], [s0].[StockQuantity], [s0].[Title], [s0].[UpdatedAtUtc], [s0].[Id1], [s0].[Biography], [s0].[CreatedAtUtc0], [s0].[Name], [s0].[UpdatedAtUtc0]
FROM (
    SELECT TOP(1) [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId], [u].[Id] AS [Id0], [u].[CreatedAtUtc] AS [CreatedAtUtc0], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc] AS [UpdatedAtUtc0], [u].[UserName], [o0].[Id] AS [Id1], [o0].[City], [o0].[District], [o0].[PhoneNumber] AS [PhoneNumber0], [o0].[RecipientName], [o0].[Street], [o0].[Village]
    FROM [Orders] AS [o]
    LEFT JOIN [Users] AS [u] ON [o].[UserId] = [u].[Id]
    LEFT JOIN [OrderShippingAddresses] AS [o0] ON [o].[OrderShippingAddressId] = [o0].[Id]
    WHERE [o].[Id] = @__orderId_0
) AS [s]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[BookId], [o1].[OrderId], [o1].[Quantity], [o1].[UnitPrice], [b0].[Id] AS [Id0], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id] AS [Id1], [a].[Biography], [a].[CreatedAtUtc] AS [CreatedAtUtc0], [a].[Name], [a].[UpdatedAtUtc] AS [UpdatedAtUtc0]
    FROM [OrderDetails] AS [o1]
    INNER JOIN (
        SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
        FROM [Books] AS [b]
        WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ) AS [b0] ON [o1].[BookId] = [b0].[Id]
    LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
) AS [s0] ON [s].[Id] = [s0].[OrderId]
ORDER BY [s].[Id], [s].[Id0], [s].[Id1], [s0].[Id], [s0].[Id0]
2025-05-21 15:53:21.269 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching all orders for Admin. Page: 1, PageSize: 15, StatusFilter: None
2025-05-21 15:53:21.275 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching all orders for Admin. Page: 1, PageSize: 15, StatusFilter: None
2025-05-21 15:53:21.280 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [o0].[Id], [o0].[CreatedAtUtc], [o0].[DeliveryMethod], [o0].[InvoiceNumber], [o0].[OrderDate], [o0].[OrderShippingAddressId], [o0].[OrderType], [o0].[PaymentMethod], [o0].[PaymentStatus], [o0].[Status], [o0].[TotalAmount], [o0].[TransactionId], [o0].[UpdatedAtUtc], [o0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName], [o1].[Id], [o1].[BookId], [o1].[OrderId], [o1].[Quantity], [o1].[UnitPrice]
FROM (
    SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
    FROM [Orders] AS [o]
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [o0]
LEFT JOIN [Users] AS [u] ON [o0].[UserId] = [u].[Id]
LEFT JOIN [OrderDetails] AS [o1] ON [o0].[Id] = [o1].[OrderId]
ORDER BY [o0].[OrderDate] DESC, [o0].[Id], [u].[Id]
2025-05-21 15:53:21.280 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [o0].[Id], [o0].[CreatedAtUtc], [o0].[DeliveryMethod], [o0].[InvoiceNumber], [o0].[OrderDate], [o0].[OrderShippingAddressId], [o0].[OrderType], [o0].[PaymentMethod], [o0].[PaymentStatus], [o0].[Status], [o0].[TotalAmount], [o0].[TransactionId], [o0].[UpdatedAtUtc], [o0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName], [o1].[Id], [o1].[BookId], [o1].[OrderId], [o1].[Quantity], [o1].[UnitPrice]
FROM (
    SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
    FROM [Orders] AS [o]
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [o0]
LEFT JOIN [Users] AS [u] ON [o0].[UserId] = [u].[Id]
LEFT JOIN [OrderDetails] AS [o1] ON [o0].[Id] = [o1].[OrderId]
ORDER BY [o0].[OrderDate] DESC, [o0].[Id], [u].[Id]
2025-05-21 15:53:33.437 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching all orders for Admin. Page: 1, PageSize: 15, StatusFilter: None
2025-05-21 15:53:33.440 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [o0].[Id], [o0].[CreatedAtUtc], [o0].[DeliveryMethod], [o0].[InvoiceNumber], [o0].[OrderDate], [o0].[OrderShippingAddressId], [o0].[OrderType], [o0].[PaymentMethod], [o0].[PaymentStatus], [o0].[Status], [o0].[TotalAmount], [o0].[TransactionId], [o0].[UpdatedAtUtc], [o0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName], [o1].[Id], [o1].[BookId], [o1].[OrderId], [o1].[Quantity], [o1].[UnitPrice]
FROM (
    SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
    FROM [Orders] AS [o]
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [o0]
LEFT JOIN [Users] AS [u] ON [o0].[UserId] = [u].[Id]
LEFT JOIN [OrderDetails] AS [o1] ON [o0].[Id] = [o1].[OrderId]
ORDER BY [o0].[OrderDate] DESC, [o0].[Id], [u].[Id]
2025-05-21 15:53:33.442 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching all orders for Admin. Page: 1, PageSize: 15, StatusFilter: None
2025-05-21 15:53:33.446 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [o0].[Id], [o0].[CreatedAtUtc], [o0].[DeliveryMethod], [o0].[InvoiceNumber], [o0].[OrderDate], [o0].[OrderShippingAddressId], [o0].[OrderType], [o0].[PaymentMethod], [o0].[PaymentStatus], [o0].[Status], [o0].[TotalAmount], [o0].[TransactionId], [o0].[UpdatedAtUtc], [o0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName], [o1].[Id], [o1].[BookId], [o1].[OrderId], [o1].[Quantity], [o1].[UnitPrice]
FROM (
    SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
    FROM [Orders] AS [o]
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [o0]
LEFT JOIN [Users] AS [u] ON [o0].[UserId] = [u].[Id]
LEFT JOIN [OrderDetails] AS [o1] ON [o0].[Id] = [o1].[OrderId]
ORDER BY [o0].[OrderDate] DESC, [o0].[Id], [u].[Id]
2025-05-21 15:53:36.317 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching all orders for Admin. Page: 1, PageSize: 15, StatusFilter: None
2025-05-21 15:53:36.321 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [o0].[Id], [o0].[CreatedAtUtc], [o0].[DeliveryMethod], [o0].[InvoiceNumber], [o0].[OrderDate], [o0].[OrderShippingAddressId], [o0].[OrderType], [o0].[PaymentMethod], [o0].[PaymentStatus], [o0].[Status], [o0].[TotalAmount], [o0].[TransactionId], [o0].[UpdatedAtUtc], [o0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName], [o1].[Id], [o1].[BookId], [o1].[OrderId], [o1].[Quantity], [o1].[UnitPrice]
FROM (
    SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
    FROM [Orders] AS [o]
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [o0]
LEFT JOIN [Users] AS [u] ON [o0].[UserId] = [u].[Id]
LEFT JOIN [OrderDetails] AS [o1] ON [o0].[Id] = [o1].[OrderId]
ORDER BY [o0].[OrderDate] DESC, [o0].[Id], [u].[Id]
2025-05-21 15:54:31.776 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetching home dashboard data.
2025-05-21 15:54:31.781 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit)
ORDER BY [b].[CreatedAtUtc] DESC
2025-05-21 15:54:31.785 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetched 10 newest books.
2025-05-21 15:54:31.792 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (5ms) [Parameters=[@__p_2='5', @__inclusiveStartDate_0='2025-04-21T00:00:00.0000000Z', @__inclusiveEndDate_1='2025-05-22T00:00:00.0000000Z'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[BookId], [b2].[Title] AS [BookTitle], [s].[TotalQuantitySold]
FROM (
    SELECT TOP(@__p_2) [o].[BookId], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold]
    FROM [OrderDetails] AS [o]
    INNER JOIN [Orders] AS [o0] ON [o].[OrderId] = [o0].[Id]
    INNER JOIN (
        SELECT [b].[Id], [b].[IsDeleted]
        FROM [Books] AS [b]
        WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ) AS [b0] ON [o].[BookId] = [b0].[Id]
    WHERE [o0].[Status] = CAST(3 AS tinyint) AND [o0].[OrderDate] >= @__inclusiveStartDate_0 AND [o0].[OrderDate] < @__inclusiveEndDate_1 AND [b0].[IsDeleted] = CAST(0 AS bit)
    GROUP BY [o].[BookId]
    ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC
) AS [s]
INNER JOIN (
    SELECT [b1].[Id], [b1].[Title]
    FROM [Books] AS [b1]
    WHERE [b1].[IsDeleted] = CAST(0 AS bit)
) AS [b2] ON [s].[BookId] = [b2].[Id]
ORDER BY [s].[TotalQuantitySold] DESC
2025-05-21 15:54:31.799 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@__bestsellerBookIds_0='["ba80e2b5-b426-44eb-acfa-06315f9fcb6b","c191919e-e763-4e03-9e2b-24d944f4d401","39f2e54f-3480-424d-9611-a9b9097314a9","6c50f852-d8c7-4ef9-a26a-c9d292ef9108","6d858026-d70a-4441-8837-01f8d972cb26"]' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Id] IN (
    SELECT [b0].[value]
    FROM OPENJSON(@__bestsellerBookIds_0) WITH ([value] uniqueidentifier '$') AS [b0]
) AND [b].[IsDeleted] = CAST(0 AS bit)
2025-05-21 15:54:31.807 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetched 5 bestselling books.
2025-05-21 15:54:31.811 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__currentDate_0='2025-05-21T08:54:31.8089733Z', @__currentDate_1='2025-05-21T08:54:31.8089733Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Code], [p].[CreatedAtUtc], [p].[CurrentUsage], [p].[Description], [p].[DiscountAmount], [p].[DiscountPercentage], [p].[EndDate], [p].[IsActive], [p].[MaxUsage], [p].[StartDate], [p].[UpdatedAtUtc]
FROM [Promotions] AS [p]
WHERE [p].[IsActive] = CAST(1 AS bit) AND [p].[StartDate] <= @__currentDate_0 AND ([p].[EndDate] IS NULL OR [p].[EndDate] >= @__currentDate_1) AND ([p].[MaxUsage] IS NULL OR [p].[CurrentUsage] < [p].[MaxUsage])
ORDER BY [p].[EndDate]
2025-05-21 15:54:31.818 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[ParentCategoryId] IS NULL AND [c].[IsDeleted] = CAST(0 AS bit)
ORDER BY [c].[Name]
2025-05-21 15:54:31.820 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Successfully fetched home dashboard data.
2025-05-21 15:54:35.901 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__p_0='0', @__p_1='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit)
ORDER BY [c].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-21 15:54:36.695 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='707f89a4-da65-4b5e-a890-485a3b929301' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__p_0
2025-05-21 15:54:36.717 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (7ms) [Parameters=[@__catId_0='707f89a4-da65-4b5e-a890-485a3b929301', @__p_1='0', @__p_2='20'], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[CategoryId] = @__catId_0
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [b0]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b0].[CategoryId] = [c0].[Id]
ORDER BY [b0].[CreatedAtUtc] DESC
2025-05-21 15:54:37.936 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__id_0='0b4ef926-9d6a-481e-bfa0-eb2187080fcb'], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b].[CategoryId] = [c0].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Id] = @__id_0
2025-05-21 15:54:38.054 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@__bookId_0='0b4ef926-9d6a-481e-bfa0-eb2187080fcb', @__p_1='0', @__p_2='5'], CommandType='"Text"', CommandTimeout='30']
SELECT [r0].[Id], [r0].[BookId], [r0].[Comment], [r0].[CreatedAtUtc], [r0].[IsApproved], [r0].[Rating], [r0].[UpdatedAtUtc], [r0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName]
FROM (
    SELECT [r].[Id], [r].[BookId], [r].[Comment], [r].[CreatedAtUtc], [r].[IsApproved], [r].[Rating], [r].[UpdatedAtUtc], [r].[UserId]
    FROM [Review] AS [r]
    WHERE [r].[BookId] = @__bookId_0 AND [r].[IsApproved] = CAST(1 AS bit)
    ORDER BY [r].[CreatedAtUtc] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [r0]
INNER JOIN [Users] AS [u] ON [r0].[UserId] = [u].[Id]
ORDER BY [r0].[CreatedAtUtc] DESC
2025-05-21 15:54:38.169 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@__userId_0='f54527eb-f806-40db-bf76-c7b0e5fa6d39'], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[BookId], [w].[CreatedAtUtc], [w].[UserId], [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [WishlistItems] AS [w]
INNER JOIN (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
) AS [b0] ON [w].[BookId] = [b0].[Id]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
WHERE [w].[UserId] = @__userId_0 AND [b0].[IsDeleted] = CAST(0 AS bit)
ORDER BY [w].[CreatedAtUtc] DESC
2025-05-21 15:54:44.904 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__id_0='0b4ef926-9d6a-481e-bfa0-eb2187080fcb'], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b].[CategoryId] = [c0].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Id] = @__id_0
2025-05-21 15:54:44.977 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__bookId_0='0b4ef926-9d6a-481e-bfa0-eb2187080fcb', @__p_1='0', @__p_2='5'], CommandType='"Text"', CommandTimeout='30']
SELECT [r0].[Id], [r0].[BookId], [r0].[Comment], [r0].[CreatedAtUtc], [r0].[IsApproved], [r0].[Rating], [r0].[UpdatedAtUtc], [r0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName]
FROM (
    SELECT [r].[Id], [r].[BookId], [r].[Comment], [r].[CreatedAtUtc], [r].[IsApproved], [r].[Rating], [r].[UpdatedAtUtc], [r].[UserId]
    FROM [Review] AS [r]
    WHERE [r].[BookId] = @__bookId_0 AND [r].[IsApproved] = CAST(1 AS bit)
    ORDER BY [r].[CreatedAtUtc] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [r0]
INNER JOIN [Users] AS [u] ON [r0].[UserId] = [u].[Id]
ORDER BY [r0].[CreatedAtUtc] DESC
2025-05-21 15:54:44.997 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__userId_0='f54527eb-f806-40db-bf76-c7b0e5fa6d39'], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[BookId], [w].[CreatedAtUtc], [w].[UserId], [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [WishlistItems] AS [w]
INNER JOIN (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
) AS [b0] ON [w].[BookId] = [b0].[Id]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
WHERE [w].[UserId] = @__userId_0 AND [b0].[IsDeleted] = CAST(0 AS bit)
ORDER BY [w].[CreatedAtUtc] DESC
2025-05-21 15:55:09.520 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='c5d67bd0-b985-429b-8761-abaa265ad192' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__p_0
2025-05-21 15:55:09.549 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__catId_0='c5d67bd0-b985-429b-8761-abaa265ad192', @__p_1='0', @__p_2='20'], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[CategoryId] = @__catId_0
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [b0]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b0].[CategoryId] = [c0].[Id]
ORDER BY [b0].[CreatedAtUtc] DESC
2025-05-21 15:55:12.028 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__p_0='707f89a4-da65-4b5e-a890-485a3b929301' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__p_0
2025-05-21 15:55:12.033 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__catId_0='707f89a4-da65-4b5e-a890-485a3b929301', @__p_1='0', @__p_2='20'], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[CategoryId] = @__catId_0
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [b0]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b0].[CategoryId] = [c0].[Id]
ORDER BY [b0].[CreatedAtUtc] DESC
2025-05-21 15:55:14.212 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__id_0='0b4ef926-9d6a-481e-bfa0-eb2187080fcb'], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b].[CategoryId] = [c0].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Id] = @__id_0
2025-05-21 15:55:14.366 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__bookId_0='0b4ef926-9d6a-481e-bfa0-eb2187080fcb', @__p_1='0', @__p_2='5'], CommandType='"Text"', CommandTimeout='30']
SELECT [r0].[Id], [r0].[BookId], [r0].[Comment], [r0].[CreatedAtUtc], [r0].[IsApproved], [r0].[Rating], [r0].[UpdatedAtUtc], [r0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName]
FROM (
    SELECT [r].[Id], [r].[BookId], [r].[Comment], [r].[CreatedAtUtc], [r].[IsApproved], [r].[Rating], [r].[UpdatedAtUtc], [r].[UserId]
    FROM [Review] AS [r]
    WHERE [r].[BookId] = @__bookId_0 AND [r].[IsApproved] = CAST(1 AS bit)
    ORDER BY [r].[CreatedAtUtc] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [r0]
INNER JOIN [Users] AS [u] ON [r0].[UserId] = [u].[Id]
ORDER BY [r0].[CreatedAtUtc] DESC
2025-05-21 15:55:14.391 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__userId_0='f54527eb-f806-40db-bf76-c7b0e5fa6d39'], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[BookId], [w].[CreatedAtUtc], [w].[UserId], [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [WishlistItems] AS [w]
INNER JOIN (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
) AS [b0] ON [w].[BookId] = [b0].[Id]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
WHERE [w].[UserId] = @__userId_0 AND [b0].[IsDeleted] = CAST(0 AS bit)
ORDER BY [w].[CreatedAtUtc] DESC
2025-05-21 15:55:20.251 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__p_0='0b4ef926-9d6a-481e-bfa0-eb2187080fcb' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
FROM [Books] AS [b]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Id] = @__p_0
2025-05-21 15:55:20.256 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='f54527eb-f806-40db-bf76-c7b0e5fa6d39' (Nullable = true), @__p_1='0b4ef926-9d6a-481e-bfa0-eb2187080fcb' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[UserId], [c].[BookId], [c].[CreatedAtUtc], [c].[Quantity], [c].[UpdatedAtUtc]
FROM [CartItems] AS [c]
WHERE [c].[UserId] = @__p_0 AND [c].[BookId] = @__p_1
2025-05-21 15:55:20.262 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@p0='0b4ef926-9d6a-481e-bfa0-eb2187080fcb', @p1='f54527eb-f806-40db-bf76-c7b0e5fa6d39', @p2='2025-05-21T08:55:20.2598960Z', @p3='1', @p4='2025-05-21T08:55:20.2598960Z'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [CartItems] ([BookId], [UserId], [CreatedAtUtc], [Quantity], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-05-21 15:58:14.316 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetching home dashboard data.
2025-05-21 15:58:14.322 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit)
ORDER BY [b].[CreatedAtUtc] DESC
2025-05-21 15:58:14.325 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetched 10 newest books.
2025-05-21 15:58:14.339 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (6ms) [Parameters=[@__p_2='5', @__inclusiveStartDate_0='2025-04-21T00:00:00.0000000Z', @__inclusiveEndDate_1='2025-05-22T00:00:00.0000000Z'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[BookId], [b2].[Title] AS [BookTitle], [s].[TotalQuantitySold]
FROM (
    SELECT TOP(@__p_2) [o].[BookId], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold]
    FROM [OrderDetails] AS [o]
    INNER JOIN [Orders] AS [o0] ON [o].[OrderId] = [o0].[Id]
    INNER JOIN (
        SELECT [b].[Id], [b].[IsDeleted]
        FROM [Books] AS [b]
        WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ) AS [b0] ON [o].[BookId] = [b0].[Id]
    WHERE [o0].[Status] = CAST(3 AS tinyint) AND [o0].[OrderDate] >= @__inclusiveStartDate_0 AND [o0].[OrderDate] < @__inclusiveEndDate_1 AND [b0].[IsDeleted] = CAST(0 AS bit)
    GROUP BY [o].[BookId]
    ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC
) AS [s]
INNER JOIN (
    SELECT [b1].[Id], [b1].[Title]
    FROM [Books] AS [b1]
    WHERE [b1].[IsDeleted] = CAST(0 AS bit)
) AS [b2] ON [s].[BookId] = [b2].[Id]
ORDER BY [s].[TotalQuantitySold] DESC
2025-05-21 15:58:14.346 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@__bestsellerBookIds_0='["ba80e2b5-b426-44eb-acfa-06315f9fcb6b","c191919e-e763-4e03-9e2b-24d944f4d401","39f2e54f-3480-424d-9611-a9b9097314a9","6c50f852-d8c7-4ef9-a26a-c9d292ef9108","6d858026-d70a-4441-8837-01f8d972cb26"]' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Id] IN (
    SELECT [b0].[value]
    FROM OPENJSON(@__bestsellerBookIds_0) WITH ([value] uniqueidentifier '$') AS [b0]
) AND [b].[IsDeleted] = CAST(0 AS bit)
2025-05-21 15:58:14.350 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetched 5 bestselling books.
2025-05-21 15:58:14.355 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@__currentDate_0='2025-05-21T08:58:14.3514013Z', @__currentDate_1='2025-05-21T08:58:14.3514013Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Code], [p].[CreatedAtUtc], [p].[CurrentUsage], [p].[Description], [p].[DiscountAmount], [p].[DiscountPercentage], [p].[EndDate], [p].[IsActive], [p].[MaxUsage], [p].[StartDate], [p].[UpdatedAtUtc]
FROM [Promotions] AS [p]
WHERE [p].[IsActive] = CAST(1 AS bit) AND [p].[StartDate] <= @__currentDate_0 AND ([p].[EndDate] IS NULL OR [p].[EndDate] >= @__currentDate_1) AND ([p].[MaxUsage] IS NULL OR [p].[CurrentUsage] < [p].[MaxUsage])
ORDER BY [p].[EndDate]
2025-05-21 15:58:14.364 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[ParentCategoryId] IS NULL AND [c].[IsDeleted] = CAST(0 AS bit)
ORDER BY [c].[Name]
2025-05-21 15:58:14.367 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Successfully fetched home dashboard data.
2025-05-21 15:58:17.447 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__p_0='0', @__p_1='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit)
ORDER BY [c].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-21 15:58:18.101 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='707f89a4-da65-4b5e-a890-485a3b929301' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__p_0
2025-05-21 15:58:18.118 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@__catId_0='707f89a4-da65-4b5e-a890-485a3b929301', @__p_1='0', @__p_2='20'], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[CategoryId] = @__catId_0
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [b0]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b0].[CategoryId] = [c0].[Id]
ORDER BY [b0].[CreatedAtUtc] DESC
2025-05-21 15:58:18.890 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__id_0='0b4ef926-9d6a-481e-bfa0-eb2187080fcb'], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b].[CategoryId] = [c0].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Id] = @__id_0
2025-05-21 15:58:19.083 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@__bookId_0='0b4ef926-9d6a-481e-bfa0-eb2187080fcb', @__p_1='0', @__p_2='5'], CommandType='"Text"', CommandTimeout='30']
SELECT [r0].[Id], [r0].[BookId], [r0].[Comment], [r0].[CreatedAtUtc], [r0].[IsApproved], [r0].[Rating], [r0].[UpdatedAtUtc], [r0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName]
FROM (
    SELECT [r].[Id], [r].[BookId], [r].[Comment], [r].[CreatedAtUtc], [r].[IsApproved], [r].[Rating], [r].[UpdatedAtUtc], [r].[UserId]
    FROM [Review] AS [r]
    WHERE [r].[BookId] = @__bookId_0 AND [r].[IsApproved] = CAST(1 AS bit)
    ORDER BY [r].[CreatedAtUtc] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [r0]
INNER JOIN [Users] AS [u] ON [r0].[UserId] = [u].[Id]
ORDER BY [r0].[CreatedAtUtc] DESC
2025-05-21 15:58:19.116 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@__userId_0='f54527eb-f806-40db-bf76-c7b0e5fa6d39'], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[BookId], [w].[CreatedAtUtc], [w].[UserId], [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [WishlistItems] AS [w]
INNER JOIN (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
) AS [b0] ON [w].[BookId] = [b0].[Id]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
WHERE [w].[UserId] = @__userId_0 AND [b0].[IsDeleted] = CAST(0 AS bit)
ORDER BY [w].[CreatedAtUtc] DESC
2025-05-21 16:06:48.741 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetching home dashboard data.
2025-05-21 16:06:48.802 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit)
ORDER BY [b].[CreatedAtUtc] DESC
2025-05-21 16:06:48.806 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetched 10 newest books.
2025-05-21 16:06:48.816 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (8ms) [Parameters=[@__p_2='5', @__inclusiveStartDate_0='2025-04-21T00:00:00.0000000Z', @__inclusiveEndDate_1='2025-05-22T00:00:00.0000000Z'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[BookId], [b2].[Title] AS [BookTitle], [s].[TotalQuantitySold]
FROM (
    SELECT TOP(@__p_2) [o].[BookId], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold]
    FROM [OrderDetails] AS [o]
    INNER JOIN [Orders] AS [o0] ON [o].[OrderId] = [o0].[Id]
    INNER JOIN (
        SELECT [b].[Id], [b].[IsDeleted]
        FROM [Books] AS [b]
        WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ) AS [b0] ON [o].[BookId] = [b0].[Id]
    WHERE [o0].[Status] = CAST(3 AS tinyint) AND [o0].[OrderDate] >= @__inclusiveStartDate_0 AND [o0].[OrderDate] < @__inclusiveEndDate_1 AND [b0].[IsDeleted] = CAST(0 AS bit)
    GROUP BY [o].[BookId]
    ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC
) AS [s]
INNER JOIN (
    SELECT [b1].[Id], [b1].[Title]
    FROM [Books] AS [b1]
    WHERE [b1].[IsDeleted] = CAST(0 AS bit)
) AS [b2] ON [s].[BookId] = [b2].[Id]
ORDER BY [s].[TotalQuantitySold] DESC
2025-05-21 16:06:48.824 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@__bestsellerBookIds_0='["ba80e2b5-b426-44eb-acfa-06315f9fcb6b","c191919e-e763-4e03-9e2b-24d944f4d401","39f2e54f-3480-424d-9611-a9b9097314a9","6c50f852-d8c7-4ef9-a26a-c9d292ef9108","6d858026-d70a-4441-8837-01f8d972cb26"]' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Id] IN (
    SELECT [b0].[value]
    FROM OPENJSON(@__bestsellerBookIds_0) WITH ([value] uniqueidentifier '$') AS [b0]
) AND [b].[IsDeleted] = CAST(0 AS bit)
2025-05-21 16:06:48.829 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetched 5 bestselling books.
2025-05-21 16:06:48.834 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@__currentDate_0='2025-05-21T09:06:48.8301945Z', @__currentDate_1='2025-05-21T09:06:48.8301945Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Code], [p].[CreatedAtUtc], [p].[CurrentUsage], [p].[Description], [p].[DiscountAmount], [p].[DiscountPercentage], [p].[EndDate], [p].[IsActive], [p].[MaxUsage], [p].[StartDate], [p].[UpdatedAtUtc]
FROM [Promotions] AS [p]
WHERE [p].[IsActive] = CAST(1 AS bit) AND [p].[StartDate] <= @__currentDate_0 AND ([p].[EndDate] IS NULL OR [p].[EndDate] >= @__currentDate_1) AND ([p].[MaxUsage] IS NULL OR [p].[CurrentUsage] < [p].[MaxUsage])
ORDER BY [p].[EndDate]
2025-05-21 16:06:48.840 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[ParentCategoryId] IS NULL AND [c].[IsDeleted] = CAST(0 AS bit)
ORDER BY [c].[Name]
2025-05-21 16:06:48.843 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Successfully fetched home dashboard data.
2025-05-21 16:06:54.232 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__p_0='0', @__p_1='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit)
ORDER BY [c].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-21 16:06:55.094 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='707f89a4-da65-4b5e-a890-485a3b929301' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__p_0
2025-05-21 16:06:55.113 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@__catId_0='707f89a4-da65-4b5e-a890-485a3b929301', @__p_1='0', @__p_2='20'], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[CategoryId] = @__catId_0
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [b0]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b0].[CategoryId] = [c0].[Id]
ORDER BY [b0].[CreatedAtUtc] DESC
2025-05-21 16:06:55.932 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@__id_0='0b4ef926-9d6a-481e-bfa0-eb2187080fcb'], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b].[CategoryId] = [c0].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Id] = @__id_0
2025-05-21 16:06:56.072 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (5ms) [Parameters=[@__bookId_0='0b4ef926-9d6a-481e-bfa0-eb2187080fcb', @__p_1='0', @__p_2='5'], CommandType='"Text"', CommandTimeout='30']
SELECT [r0].[Id], [r0].[BookId], [r0].[Comment], [r0].[CreatedAtUtc], [r0].[IsApproved], [r0].[Rating], [r0].[UpdatedAtUtc], [r0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName]
FROM (
    SELECT [r].[Id], [r].[BookId], [r].[Comment], [r].[CreatedAtUtc], [r].[IsApproved], [r].[Rating], [r].[UpdatedAtUtc], [r].[UserId]
    FROM [Review] AS [r]
    WHERE [r].[BookId] = @__bookId_0 AND [r].[IsApproved] = CAST(1 AS bit)
    ORDER BY [r].[CreatedAtUtc] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [r0]
INNER JOIN [Users] AS [u] ON [r0].[UserId] = [u].[Id]
ORDER BY [r0].[CreatedAtUtc] DESC
2025-05-21 16:06:56.108 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@__userId_0='f54527eb-f806-40db-bf76-c7b0e5fa6d39'], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[BookId], [w].[CreatedAtUtc], [w].[UserId], [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [WishlistItems] AS [w]
INNER JOIN (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
) AS [b0] ON [w].[BookId] = [b0].[Id]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
WHERE [w].[UserId] = @__userId_0 AND [b0].[IsDeleted] = CAST(0 AS bit)
ORDER BY [w].[CreatedAtUtc] DESC
2025-05-21 16:15:22.996 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetching home dashboard data.
2025-05-21 16:15:23.058 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit)
ORDER BY [b].[CreatedAtUtc] DESC
2025-05-21 16:15:23.062 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetched 10 newest books.
2025-05-21 16:15:23.073 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (9ms) [Parameters=[@__p_2='5', @__inclusiveStartDate_0='2025-04-21T00:00:00.0000000Z', @__inclusiveEndDate_1='2025-05-22T00:00:00.0000000Z'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[BookId], [b2].[Title] AS [BookTitle], [s].[TotalQuantitySold]
FROM (
    SELECT TOP(@__p_2) [o].[BookId], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold]
    FROM [OrderDetails] AS [o]
    INNER JOIN [Orders] AS [o0] ON [o].[OrderId] = [o0].[Id]
    INNER JOIN (
        SELECT [b].[Id], [b].[IsDeleted]
        FROM [Books] AS [b]
        WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ) AS [b0] ON [o].[BookId] = [b0].[Id]
    WHERE [o0].[Status] = CAST(3 AS tinyint) AND [o0].[OrderDate] >= @__inclusiveStartDate_0 AND [o0].[OrderDate] < @__inclusiveEndDate_1 AND [b0].[IsDeleted] = CAST(0 AS bit)
    GROUP BY [o].[BookId]
    ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC
) AS [s]
INNER JOIN (
    SELECT [b1].[Id], [b1].[Title]
    FROM [Books] AS [b1]
    WHERE [b1].[IsDeleted] = CAST(0 AS bit)
) AS [b2] ON [s].[BookId] = [b2].[Id]
ORDER BY [s].[TotalQuantitySold] DESC
2025-05-21 16:15:23.082 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (5ms) [Parameters=[@__bestsellerBookIds_0='["ba80e2b5-b426-44eb-acfa-06315f9fcb6b","c191919e-e763-4e03-9e2b-24d944f4d401","39f2e54f-3480-424d-9611-a9b9097314a9","6c50f852-d8c7-4ef9-a26a-c9d292ef9108","6d858026-d70a-4441-8837-01f8d972cb26"]' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Id] IN (
    SELECT [b0].[value]
    FROM OPENJSON(@__bestsellerBookIds_0) WITH ([value] uniqueidentifier '$') AS [b0]
) AND [b].[IsDeleted] = CAST(0 AS bit)
2025-05-21 16:15:23.085 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetched 5 bestselling books.
2025-05-21 16:15:23.091 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@__currentDate_0='2025-05-21T09:15:23.0870835Z', @__currentDate_1='2025-05-21T09:15:23.0870835Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Code], [p].[CreatedAtUtc], [p].[CurrentUsage], [p].[Description], [p].[DiscountAmount], [p].[DiscountPercentage], [p].[EndDate], [p].[IsActive], [p].[MaxUsage], [p].[StartDate], [p].[UpdatedAtUtc]
FROM [Promotions] AS [p]
WHERE [p].[IsActive] = CAST(1 AS bit) AND [p].[StartDate] <= @__currentDate_0 AND ([p].[EndDate] IS NULL OR [p].[EndDate] >= @__currentDate_1) AND ([p].[MaxUsage] IS NULL OR [p].[CurrentUsage] < [p].[MaxUsage])
ORDER BY [p].[EndDate]
2025-05-21 16:15:23.096 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[ParentCategoryId] IS NULL AND [c].[IsDeleted] = CAST(0 AS bit)
ORDER BY [c].[Name]
2025-05-21 16:15:23.099 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Successfully fetched home dashboard data.
2025-05-21 16:15:28.391 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__p_0='0', @__p_1='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit)
ORDER BY [c].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-21 16:15:29.202 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='707f89a4-da65-4b5e-a890-485a3b929301' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__p_0
2025-05-21 16:15:29.220 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@__catId_0='707f89a4-da65-4b5e-a890-485a3b929301', @__p_1='0', @__p_2='20'], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[CategoryId] = @__catId_0
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [b0]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b0].[CategoryId] = [c0].[Id]
ORDER BY [b0].[CreatedAtUtc] DESC
2025-05-21 16:15:30.006 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__id_0='0b4ef926-9d6a-481e-bfa0-eb2187080fcb'], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b].[CategoryId] = [c0].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Id] = @__id_0
2025-05-21 16:15:30.219 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (5ms) [Parameters=[@__bookId_0='0b4ef926-9d6a-481e-bfa0-eb2187080fcb', @__p_1='0', @__p_2='5'], CommandType='"Text"', CommandTimeout='30']
SELECT [r0].[Id], [r0].[BookId], [r0].[Comment], [r0].[CreatedAtUtc], [r0].[IsApproved], [r0].[Rating], [r0].[UpdatedAtUtc], [r0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName]
FROM (
    SELECT [r].[Id], [r].[BookId], [r].[Comment], [r].[CreatedAtUtc], [r].[IsApproved], [r].[Rating], [r].[UpdatedAtUtc], [r].[UserId]
    FROM [Review] AS [r]
    WHERE [r].[BookId] = @__bookId_0 AND [r].[IsApproved] = CAST(1 AS bit)
    ORDER BY [r].[CreatedAtUtc] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [r0]
INNER JOIN [Users] AS [u] ON [r0].[UserId] = [u].[Id]
ORDER BY [r0].[CreatedAtUtc] DESC
2025-05-21 16:15:30.256 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (5ms) [Parameters=[@__userId_0='f54527eb-f806-40db-bf76-c7b0e5fa6d39'], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[BookId], [w].[CreatedAtUtc], [w].[UserId], [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [WishlistItems] AS [w]
INNER JOIN (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
) AS [b0] ON [w].[BookId] = [b0].[Id]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
WHERE [w].[UserId] = @__userId_0 AND [b0].[IsDeleted] = CAST(0 AS bit)
ORDER BY [w].[CreatedAtUtc] DESC
2025-05-21 16:16:09.685 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (9ms) [Parameters=[@__id_0='0b4ef926-9d6a-481e-bfa0-eb2187080fcb'], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b].[CategoryId] = [c0].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Id] = @__id_0
2025-05-21 16:16:09.897 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@__bookId_0='0b4ef926-9d6a-481e-bfa0-eb2187080fcb', @__p_1='0', @__p_2='5'], CommandType='"Text"', CommandTimeout='30']
SELECT [r0].[Id], [r0].[BookId], [r0].[Comment], [r0].[CreatedAtUtc], [r0].[IsApproved], [r0].[Rating], [r0].[UpdatedAtUtc], [r0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName]
FROM (
    SELECT [r].[Id], [r].[BookId], [r].[Comment], [r].[CreatedAtUtc], [r].[IsApproved], [r].[Rating], [r].[UpdatedAtUtc], [r].[UserId]
    FROM [Review] AS [r]
    WHERE [r].[BookId] = @__bookId_0 AND [r].[IsApproved] = CAST(1 AS bit)
    ORDER BY [r].[CreatedAtUtc] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [r0]
INNER JOIN [Users] AS [u] ON [r0].[UserId] = [u].[Id]
ORDER BY [r0].[CreatedAtUtc] DESC
2025-05-21 16:16:09.924 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@__userId_0='f54527eb-f806-40db-bf76-c7b0e5fa6d39'], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[BookId], [w].[CreatedAtUtc], [w].[UserId], [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [WishlistItems] AS [w]
INNER JOIN (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
) AS [b0] ON [w].[BookId] = [b0].[Id]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
WHERE [w].[UserId] = @__userId_0 AND [b0].[IsDeleted] = CAST(0 AS bit)
ORDER BY [w].[CreatedAtUtc] DESC
2025-05-21 16:16:53.125 +07:00 [INF] (Bookstore.Application.Services.UserService) Fetching all users for admin. RoleFilter: All, StatusFilter: All, Page: 1, PageSize: 20
2025-05-21 16:16:53.135 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (7ms) [Parameters=[@__p_0='0', @__p_1='20'], CommandType='"Text"', CommandTimeout='30']
SELECT [u1].[Id], [u1].[CreatedAtUtc], [u1].[Email], [u1].[FirstName], [u1].[IsActive], [u1].[LastName], [u1].[PasswordHash], [u1].[PhoneNumber], [u1].[UpdatedAtUtc], [u1].[UserName], [s].[UserId], [s].[RoleId], [s].[Id], [s].[CreatedAtUtc], [s].[Name], [s].[UpdatedAtUtc]
FROM (
    SELECT [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName]
    FROM [Users] AS [u]
    ORDER BY [u].[UserName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [u1]
LEFT JOIN (
    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[CreatedAtUtc], [r].[Name], [r].[UpdatedAtUtc]
    FROM [UserRoles] AS [u0]
    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
) AS [s] ON [u1].[Id] = [s].[UserId]
ORDER BY [u1].[UserName], [u1].[Id], [s].[UserId], [s].[RoleId]
2025-05-21 16:16:54.824 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Code], [p].[CreatedAtUtc], [p].[CurrentUsage], [p].[Description], [p].[DiscountAmount], [p].[DiscountPercentage], [p].[EndDate], [p].[IsActive], [p].[MaxUsage], [p].[StartDate], [p].[UpdatedAtUtc]
FROM [Promotions] AS [p]
ORDER BY [p].[CreatedAtUtc] DESC
2025-05-21 16:16:57.926 +07:00 [INF] (Bookstore.Application.Services.UserService) Fetching all users for admin. RoleFilter: Admin, StatusFilter: All, Page: 1, PageSize: 20
2025-05-21 16:16:57.930 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='20'], CommandType='"Text"', CommandTimeout='30']
SELECT [u1].[Id], [u1].[CreatedAtUtc], [u1].[Email], [u1].[FirstName], [u1].[IsActive], [u1].[LastName], [u1].[PasswordHash], [u1].[PhoneNumber], [u1].[UpdatedAtUtc], [u1].[UserName], [s].[UserId], [s].[RoleId], [s].[Id], [s].[CreatedAtUtc], [s].[Name], [s].[UpdatedAtUtc]
FROM (
    SELECT [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName]
    FROM [Users] AS [u]
    ORDER BY [u].[UserName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [u1]
LEFT JOIN (
    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[CreatedAtUtc], [r].[Name], [r].[UpdatedAtUtc]
    FROM [UserRoles] AS [u0]
    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
) AS [s] ON [u1].[Id] = [s].[UserId]
ORDER BY [u1].[UserName], [u1].[Id], [s].[UserId], [s].[RoleId]
2025-05-21 16:16:59.436 +07:00 [INF] (Bookstore.Application.Services.UserService) Fetching all users for admin. RoleFilter: Admin, StatusFilter: True, Page: 1, PageSize: 20
2025-05-21 16:16:59.444 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (5ms) [Parameters=[@__statusFilter_Value_0='True', @__p_1='0', @__p_2='20'], CommandType='"Text"', CommandTimeout='30']
SELECT [u1].[Id], [u1].[CreatedAtUtc], [u1].[Email], [u1].[FirstName], [u1].[IsActive], [u1].[LastName], [u1].[PasswordHash], [u1].[PhoneNumber], [u1].[UpdatedAtUtc], [u1].[UserName], [s].[UserId], [s].[RoleId], [s].[Id], [s].[CreatedAtUtc], [s].[Name], [s].[UpdatedAtUtc]
FROM (
    SELECT [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName]
    FROM [Users] AS [u]
    WHERE [u].[IsActive] = @__statusFilter_Value_0
    ORDER BY [u].[UserName]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [u1]
LEFT JOIN (
    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[CreatedAtUtc], [r].[Name], [r].[UpdatedAtUtc]
    FROM [UserRoles] AS [u0]
    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
) AS [s] ON [u1].[Id] = [s].[UserId]
ORDER BY [u1].[UserName], [u1].[Id], [s].[UserId], [s].[RoleId]
2025-05-21 16:17:00.166 +07:00 [INF] (Bookstore.Application.Services.UserService) Fetching all users for admin. RoleFilter: All, StatusFilter: All, Page: 1, PageSize: 20
2025-05-21 16:17:00.170 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='20'], CommandType='"Text"', CommandTimeout='30']
SELECT [u1].[Id], [u1].[CreatedAtUtc], [u1].[Email], [u1].[FirstName], [u1].[IsActive], [u1].[LastName], [u1].[PasswordHash], [u1].[PhoneNumber], [u1].[UpdatedAtUtc], [u1].[UserName], [s].[UserId], [s].[RoleId], [s].[Id], [s].[CreatedAtUtc], [s].[Name], [s].[UpdatedAtUtc]
FROM (
    SELECT [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName]
    FROM [Users] AS [u]
    ORDER BY [u].[UserName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [u1]
LEFT JOIN (
    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[CreatedAtUtc], [r].[Name], [r].[UpdatedAtUtc]
    FROM [UserRoles] AS [u0]
    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
) AS [s] ON [u1].[Id] = [s].[UserId]
ORDER BY [u1].[UserName], [u1].[Id], [s].[UserId], [s].[RoleId]
2025-05-21 16:17:00.679 +07:00 [INF] (Bookstore.Application.Services.UserService) Fetching all users for admin. RoleFilter: All, StatusFilter: All, Page: 1, PageSize: 20
2025-05-21 16:17:00.683 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='20'], CommandType='"Text"', CommandTimeout='30']
SELECT [u1].[Id], [u1].[CreatedAtUtc], [u1].[Email], [u1].[FirstName], [u1].[IsActive], [u1].[LastName], [u1].[PasswordHash], [u1].[PhoneNumber], [u1].[UpdatedAtUtc], [u1].[UserName], [s].[UserId], [s].[RoleId], [s].[Id], [s].[CreatedAtUtc], [s].[Name], [s].[UpdatedAtUtc]
FROM (
    SELECT [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName]
    FROM [Users] AS [u]
    ORDER BY [u].[UserName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [u1]
LEFT JOIN (
    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[CreatedAtUtc], [r].[Name], [r].[UpdatedAtUtc]
    FROM [UserRoles] AS [u0]
    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
) AS [s] ON [u1].[Id] = [s].[UserId]
ORDER BY [u1].[UserName], [u1].[Id], [s].[UserId], [s].[RoleId]
2025-05-21 16:17:02.391 +07:00 [INF] (Bookstore.Application.Services.ReportService) Generating revenue report from "2025-05-15T00:00:00.0000000" to "2025-05-21T00:00:00.0000000"
2025-05-21 16:17:02.395 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__inclusiveStartDate_0='2025-05-15T00:00:00.0000000', @__inclusiveEndDate_1='2025-05-22T00:00:00.0000000'], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
FROM [Orders] AS [o]
WHERE [o].[Status] = CAST(3 AS tinyint) AND [o].[OrderDate] >= @__inclusiveStartDate_0 AND [o].[OrderDate] < @__inclusiveEndDate_1
2025-05-21 16:17:02.398 +07:00 [INF] (Bookstore.Application.Services.ReportService) Generating bestsellers report from "2025-05-15T00:00:00.0000000" to "2025-05-21T00:00:00.0000000", top 7
2025-05-21 16:17:02.399 +07:00 [INF] (Bookstore.Application.Services.ReportService) Revenue report generated successfully.
2025-05-21 16:17:02.405 +07:00 [INF] (Bookstore.Application.Services.ReportService) Generating low stock report with threshold 5
2025-05-21 16:17:02.409 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (8ms) [Parameters=[@__p_2='7', @__inclusiveStartDate_0='2025-05-15T00:00:00.0000000', @__inclusiveEndDate_1='2025-05-22T00:00:00.0000000'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[BookId], [b2].[Title] AS [BookTitle], [s].[TotalQuantitySold]
FROM (
    SELECT TOP(@__p_2) [o].[BookId], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold]
    FROM [OrderDetails] AS [o]
    INNER JOIN [Orders] AS [o0] ON [o].[OrderId] = [o0].[Id]
    INNER JOIN (
        SELECT [b].[Id], [b].[IsDeleted]
        FROM [Books] AS [b]
        WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ) AS [b0] ON [o].[BookId] = [b0].[Id]
    WHERE [o0].[Status] = CAST(3 AS tinyint) AND [o0].[OrderDate] >= @__inclusiveStartDate_0 AND [o0].[OrderDate] < @__inclusiveEndDate_1 AND [b0].[IsDeleted] = CAST(0 AS bit)
    GROUP BY [o].[BookId]
    ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC
) AS [s]
INNER JOIN (
    SELECT [b1].[Id], [b1].[Title]
    FROM [Books] AS [b1]
    WHERE [b1].[IsDeleted] = CAST(0 AS bit)
) AS [b2] ON [s].[BookId] = [b2].[Id]
ORDER BY [s].[TotalQuantitySold] DESC
2025-05-21 16:17:02.414 +07:00 [INF] (Bookstore.Application.Services.ReportService) Bestsellers report generated successfully.
2025-05-21 16:17:02.418 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (5ms) [Parameters=[@__lowStockThreshold_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[StockQuantity] > 0 AND [b].[StockQuantity] <= @__lowStockThreshold_0
ORDER BY [b].[StockQuantity]
2025-05-21 16:17:15.764 +07:00 [INF] (Bookstore.Application.Services.ReportService) Fetching admin dashboard summary.
2025-05-21 16:17:15.768 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__todayStart_0='2025-05-21T00:00:00.0000000Z', @__tomorrowStart_1='2025-05-22T00:00:00.0000000Z'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[OrderDate] >= @__todayStart_0 AND [o].[OrderDate] < @__tomorrowStart_1 AND [o].[Status] <> CAST(4 AS tinyint)
2025-05-21 16:17:15.772 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__todayStart_0='2025-05-21T00:00:00.0000000Z', @__tomorrowStart_1='2025-05-22T00:00:00.0000000Z'], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalAmount]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[OrderDate] >= @__todayStart_0 AND [o].[OrderDate] < @__tomorrowStart_1 AND [o].[Status] = CAST(3 AS tinyint)
2025-05-21 16:17:15.777 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__todayStart_0='2025-05-21T00:00:00.0000000Z', @__tomorrowStart_1='2025-05-22T00:00:00.0000000Z'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[CreatedAtUtc] >= @__todayStart_0 AND [u].[CreatedAtUtc] < @__tomorrowStart_1
2025-05-21 16:17:15.781 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__lowStockThreshold_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Books] AS [b]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[IsDeleted] = CAST(0 AS bit) AND [b].[StockQuantity] > 0 AND [b].[StockQuantity] <= @__lowStockThreshold_0
2025-05-21 16:17:15.783 +07:00 [INF] (Bookstore.Application.Services.ReportService) Admin dashboard summary fetched successfully.
2025-05-21 16:17:16.694 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching all orders for Admin. Page: 1, PageSize: 15, StatusFilter: None
2025-05-21 16:17:16.694 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching all orders for Admin. Page: 1, PageSize: 15, StatusFilter: None
2025-05-21 16:17:16.701 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [o0].[Id], [o0].[CreatedAtUtc], [o0].[DeliveryMethod], [o0].[InvoiceNumber], [o0].[OrderDate], [o0].[OrderShippingAddressId], [o0].[OrderType], [o0].[PaymentMethod], [o0].[PaymentStatus], [o0].[Status], [o0].[TotalAmount], [o0].[TransactionId], [o0].[UpdatedAtUtc], [o0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName], [o1].[Id], [o1].[BookId], [o1].[OrderId], [o1].[Quantity], [o1].[UnitPrice]
FROM (
    SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
    FROM [Orders] AS [o]
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [o0]
LEFT JOIN [Users] AS [u] ON [o0].[UserId] = [u].[Id]
LEFT JOIN [OrderDetails] AS [o1] ON [o0].[Id] = [o1].[OrderId]
ORDER BY [o0].[OrderDate] DESC, [o0].[Id], [u].[Id]
2025-05-21 16:17:16.702 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [o0].[Id], [o0].[CreatedAtUtc], [o0].[DeliveryMethod], [o0].[InvoiceNumber], [o0].[OrderDate], [o0].[OrderShippingAddressId], [o0].[OrderType], [o0].[PaymentMethod], [o0].[PaymentStatus], [o0].[Status], [o0].[TotalAmount], [o0].[TransactionId], [o0].[UpdatedAtUtc], [o0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName], [o1].[Id], [o1].[BookId], [o1].[OrderId], [o1].[Quantity], [o1].[UnitPrice]
FROM (
    SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
    FROM [Orders] AS [o]
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [o0]
LEFT JOIN [Users] AS [u] ON [o0].[UserId] = [u].[Id]
LEFT JOIN [OrderDetails] AS [o1] ON [o0].[Id] = [o1].[OrderId]
ORDER BY [o0].[OrderDate] DESC, [o0].[Id], [u].[Id]
2025-05-21 16:17:17.743 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching all orders for Admin. Page: 1, PageSize: 15, StatusFilter: None
2025-05-21 16:17:17.747 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [o0].[Id], [o0].[CreatedAtUtc], [o0].[DeliveryMethod], [o0].[InvoiceNumber], [o0].[OrderDate], [o0].[OrderShippingAddressId], [o0].[OrderType], [o0].[PaymentMethod], [o0].[PaymentStatus], [o0].[Status], [o0].[TotalAmount], [o0].[TransactionId], [o0].[UpdatedAtUtc], [o0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName], [o1].[Id], [o1].[BookId], [o1].[OrderId], [o1].[Quantity], [o1].[UnitPrice]
FROM (
    SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
    FROM [Orders] AS [o]
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [o0]
LEFT JOIN [Users] AS [u] ON [o0].[UserId] = [u].[Id]
LEFT JOIN [OrderDetails] AS [o1] ON [o0].[Id] = [o1].[OrderId]
ORDER BY [o0].[OrderDate] DESC, [o0].[Id], [u].[Id]
2025-05-21 16:17:18.716 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching all orders for Admin. Page: 1, PageSize: 15, StatusFilter: None
2025-05-21 16:17:18.720 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [o0].[Id], [o0].[CreatedAtUtc], [o0].[DeliveryMethod], [o0].[InvoiceNumber], [o0].[OrderDate], [o0].[OrderShippingAddressId], [o0].[OrderType], [o0].[PaymentMethod], [o0].[PaymentStatus], [o0].[Status], [o0].[TotalAmount], [o0].[TransactionId], [o0].[UpdatedAtUtc], [o0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName], [o1].[Id], [o1].[BookId], [o1].[OrderId], [o1].[Quantity], [o1].[UnitPrice]
FROM (
    SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
    FROM [Orders] AS [o]
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [o0]
LEFT JOIN [Users] AS [u] ON [o0].[UserId] = [u].[Id]
LEFT JOIN [OrderDetails] AS [o1] ON [o0].[Id] = [o1].[OrderId]
ORDER BY [o0].[OrderDate] DESC, [o0].[Id], [u].[Id]
2025-05-21 16:27:15.447 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (37ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b0].[CategoryId] = [c0].[Id]
ORDER BY [b0].[CreatedAtUtc] DESC
2025-05-21 16:27:15.448 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b0].[CategoryId] = [c0].[Id]
ORDER BY [b0].[CreatedAtUtc] DESC
2025-05-21 16:27:15.447 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (40ms) [Parameters=[@__p_0='0', @__p_1='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit)
ORDER BY [c].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-21 16:27:15.583 +07:00 [INF] (Bookstore.Application.Services.AuthorService) Fetching all authors. Page: 1, PageSize: 10
2025-05-21 16:27:15.586 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Authors] AS [a]
ORDER BY [a].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-21 16:27:16.633 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b0].[CategoryId] = [c0].[Id]
ORDER BY [b0].[CreatedAtUtc] DESC
2025-05-21 16:27:17.455 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b0].[CategoryId] = [c0].[Id]
ORDER BY [b0].[CreatedAtUtc] DESC
2025-05-21 16:27:18.272 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit)
ORDER BY [c].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-21 16:27:43.863 +07:00 [INF] (Bookstore.Application.Services.AuthorService) Fetching all authors. Page: 1, PageSize: 15
2025-05-21 16:27:43.868 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Authors] AS [a]
ORDER BY [a].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-21 16:28:03.274 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (7ms) [Parameters=[@__email_0='Admin' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u1].[Id], [u1].[CreatedAtUtc], [u1].[Email], [u1].[FirstName], [u1].[IsActive], [u1].[LastName], [u1].[PasswordHash], [u1].[PhoneNumber], [u1].[UpdatedAtUtc], [u1].[UserName], [s].[UserId], [s].[RoleId], [s].[Id], [s].[CreatedAtUtc], [s].[Name], [s].[UpdatedAtUtc]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName]
    FROM [Users] AS [u]
    WHERE [u].[Email] = @__email_0
) AS [u1]
LEFT JOIN (
    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[CreatedAtUtc], [r].[Name], [r].[UpdatedAtUtc]
    FROM [UserRoles] AS [u0]
    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
) AS [s] ON [u1].[Id] = [s].[UserId]
ORDER BY [u1].[Id], [s].[UserId], [s].[RoleId]
2025-05-21 16:28:03.284 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (5ms) [Parameters=[@__username_0='Admin' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u1].[Id], [u1].[CreatedAtUtc], [u1].[Email], [u1].[FirstName], [u1].[IsActive], [u1].[LastName], [u1].[PasswordHash], [u1].[PhoneNumber], [u1].[UpdatedAtUtc], [u1].[UserName], [s].[UserId], [s].[RoleId], [s].[Id], [s].[CreatedAtUtc], [s].[Name], [s].[UpdatedAtUtc]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName]
    FROM [Users] AS [u]
    WHERE [u].[UserName] = @__username_0
) AS [u1]
LEFT JOIN (
    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[CreatedAtUtc], [r].[Name], [r].[UpdatedAtUtc]
    FROM [UserRoles] AS [u0]
    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
) AS [s] ON [u1].[Id] = [s].[UserId]
ORDER BY [u1].[Id], [s].[UserId], [s].[RoleId]
2025-05-21 16:28:03.543 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__userId_0='f54527eb-f806-40db-bf76-c7b0e5fa6d39'], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Name]
FROM [UserRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0
2025-05-21 16:28:03.653 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetching home dashboard data.
2025-05-21 16:28:03.658 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit)
ORDER BY [b].[CreatedAtUtc] DESC
2025-05-21 16:28:03.667 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetched 10 newest books.
2025-05-21 16:28:03.679 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (9ms) [Parameters=[@__p_2='5', @__inclusiveStartDate_0='2025-04-21T00:00:00.0000000Z', @__inclusiveEndDate_1='2025-05-22T00:00:00.0000000Z'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[BookId], [b2].[Title] AS [BookTitle], [s].[TotalQuantitySold]
FROM (
    SELECT TOP(@__p_2) [o].[BookId], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold]
    FROM [OrderDetails] AS [o]
    INNER JOIN [Orders] AS [o0] ON [o].[OrderId] = [o0].[Id]
    INNER JOIN (
        SELECT [b].[Id], [b].[IsDeleted]
        FROM [Books] AS [b]
        WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ) AS [b0] ON [o].[BookId] = [b0].[Id]
    WHERE [o0].[Status] = CAST(3 AS tinyint) AND [o0].[OrderDate] >= @__inclusiveStartDate_0 AND [o0].[OrderDate] < @__inclusiveEndDate_1 AND [b0].[IsDeleted] = CAST(0 AS bit)
    GROUP BY [o].[BookId]
    ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC
) AS [s]
INNER JOIN (
    SELECT [b1].[Id], [b1].[Title]
    FROM [Books] AS [b1]
    WHERE [b1].[IsDeleted] = CAST(0 AS bit)
) AS [b2] ON [s].[BookId] = [b2].[Id]
ORDER BY [s].[TotalQuantitySold] DESC
2025-05-21 16:28:03.693 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@__bestsellerBookIds_0='["ba80e2b5-b426-44eb-acfa-06315f9fcb6b","c191919e-e763-4e03-9e2b-24d944f4d401","39f2e54f-3480-424d-9611-a9b9097314a9","6c50f852-d8c7-4ef9-a26a-c9d292ef9108","6d858026-d70a-4441-8837-01f8d972cb26"]' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Id] IN (
    SELECT [b0].[value]
    FROM OPENJSON(@__bestsellerBookIds_0) WITH ([value] uniqueidentifier '$') AS [b0]
) AND [b].[IsDeleted] = CAST(0 AS bit)
2025-05-21 16:28:03.699 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetched 5 bestselling books.
2025-05-21 16:28:03.704 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__currentDate_0='2025-05-21T09:28:03.7007803Z', @__currentDate_1='2025-05-21T09:28:03.7007803Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Code], [p].[CreatedAtUtc], [p].[CurrentUsage], [p].[Description], [p].[DiscountAmount], [p].[DiscountPercentage], [p].[EndDate], [p].[IsActive], [p].[MaxUsage], [p].[StartDate], [p].[UpdatedAtUtc]
FROM [Promotions] AS [p]
WHERE [p].[IsActive] = CAST(1 AS bit) AND [p].[StartDate] <= @__currentDate_0 AND ([p].[EndDate] IS NULL OR [p].[EndDate] >= @__currentDate_1) AND ([p].[MaxUsage] IS NULL OR [p].[CurrentUsage] < [p].[MaxUsage])
ORDER BY [p].[EndDate]
2025-05-21 16:28:03.713 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[ParentCategoryId] IS NULL AND [c].[IsDeleted] = CAST(0 AS bit)
ORDER BY [c].[Name]
2025-05-21 16:28:03.718 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Successfully fetched home dashboard data.
2025-05-21 16:28:05.882 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Code], [p].[CreatedAtUtc], [p].[CurrentUsage], [p].[Description], [p].[DiscountAmount], [p].[DiscountPercentage], [p].[EndDate], [p].[IsActive], [p].[MaxUsage], [p].[StartDate], [p].[UpdatedAtUtc]
FROM [Promotions] AS [p]
ORDER BY [p].[CreatedAtUtc] DESC
2025-05-21 16:28:15.088 +07:00 [INF] (Bookstore.Application.Services.ReportService) Generating revenue report from "2025-05-15T00:00:00.0000000" to "2025-05-21T00:00:00.0000000"
2025-05-21 16:28:15.123 +07:00 [INF] (Bookstore.Application.Services.ReportService) Generating bestsellers report from "2025-05-15T00:00:00.0000000" to "2025-05-21T00:00:00.0000000", top 7
2025-05-21 16:28:15.123 +07:00 [INF] (Bookstore.Application.Services.ReportService) Generating low stock report with threshold 5
2025-05-21 16:28:15.126 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__inclusiveStartDate_0='2025-05-15T00:00:00.0000000', @__inclusiveEndDate_1='2025-05-22T00:00:00.0000000'], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
FROM [Orders] AS [o]
WHERE [o].[Status] = CAST(3 AS tinyint) AND [o].[OrderDate] >= @__inclusiveStartDate_0 AND [o].[OrderDate] < @__inclusiveEndDate_1
2025-05-21 16:28:15.127 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_2='7', @__inclusiveStartDate_0='2025-05-15T00:00:00.0000000', @__inclusiveEndDate_1='2025-05-22T00:00:00.0000000'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[BookId], [b2].[Title] AS [BookTitle], [s].[TotalQuantitySold]
FROM (
    SELECT TOP(@__p_2) [o].[BookId], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold]
    FROM [OrderDetails] AS [o]
    INNER JOIN [Orders] AS [o0] ON [o].[OrderId] = [o0].[Id]
    INNER JOIN (
        SELECT [b].[Id], [b].[IsDeleted]
        FROM [Books] AS [b]
        WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ) AS [b0] ON [o].[BookId] = [b0].[Id]
    WHERE [o0].[Status] = CAST(3 AS tinyint) AND [o0].[OrderDate] >= @__inclusiveStartDate_0 AND [o0].[OrderDate] < @__inclusiveEndDate_1 AND [b0].[IsDeleted] = CAST(0 AS bit)
    GROUP BY [o].[BookId]
    ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC
) AS [s]
INNER JOIN (
    SELECT [b1].[Id], [b1].[Title]
    FROM [Books] AS [b1]
    WHERE [b1].[IsDeleted] = CAST(0 AS bit)
) AS [b2] ON [s].[BookId] = [b2].[Id]
ORDER BY [s].[TotalQuantitySold] DESC
2025-05-21 16:28:15.130 +07:00 [INF] (Bookstore.Application.Services.ReportService) Revenue report generated successfully.
2025-05-21 16:28:15.130 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__lowStockThreshold_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[StockQuantity] > 0 AND [b].[StockQuantity] <= @__lowStockThreshold_0
ORDER BY [b].[StockQuantity]
2025-05-21 16:28:15.133 +07:00 [INF] (Bookstore.Application.Services.ReportService) Bestsellers report generated successfully.
2025-05-21 16:28:26.180 +07:00 [INF] (Bookstore.Application.Services.UserService) Fetching all users for admin. RoleFilter: All, StatusFilter: All, Page: 1, PageSize: 20
2025-05-21 16:28:26.188 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (5ms) [Parameters=[@__p_0='0', @__p_1='20'], CommandType='"Text"', CommandTimeout='30']
SELECT [u1].[Id], [u1].[CreatedAtUtc], [u1].[Email], [u1].[FirstName], [u1].[IsActive], [u1].[LastName], [u1].[PasswordHash], [u1].[PhoneNumber], [u1].[UpdatedAtUtc], [u1].[UserName], [s].[UserId], [s].[RoleId], [s].[Id], [s].[CreatedAtUtc], [s].[Name], [s].[UpdatedAtUtc]
FROM (
    SELECT [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName]
    FROM [Users] AS [u]
    ORDER BY [u].[UserName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [u1]
LEFT JOIN (
    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[CreatedAtUtc], [r].[Name], [r].[UpdatedAtUtc]
    FROM [UserRoles] AS [u0]
    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
) AS [s] ON [u1].[Id] = [s].[UserId]
ORDER BY [u1].[UserName], [u1].[Id], [s].[UserId], [s].[RoleId]
2025-05-21 16:28:31.878 +07:00 [INF] (Bookstore.Application.Services.ReportService) Fetching admin dashboard summary.
2025-05-21 16:28:31.882 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__todayStart_0='2025-05-21T00:00:00.0000000Z', @__tomorrowStart_1='2025-05-22T00:00:00.0000000Z'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[OrderDate] >= @__todayStart_0 AND [o].[OrderDate] < @__tomorrowStart_1 AND [o].[Status] <> CAST(4 AS tinyint)
2025-05-21 16:28:31.887 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__todayStart_0='2025-05-21T00:00:00.0000000Z', @__tomorrowStart_1='2025-05-22T00:00:00.0000000Z'], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalAmount]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[OrderDate] >= @__todayStart_0 AND [o].[OrderDate] < @__tomorrowStart_1 AND [o].[Status] = CAST(3 AS tinyint)
2025-05-21 16:28:31.892 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__todayStart_0='2025-05-21T00:00:00.0000000Z', @__tomorrowStart_1='2025-05-22T00:00:00.0000000Z'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[CreatedAtUtc] >= @__todayStart_0 AND [u].[CreatedAtUtc] < @__tomorrowStart_1
2025-05-21 16:28:31.897 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__lowStockThreshold_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Books] AS [b]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[IsDeleted] = CAST(0 AS bit) AND [b].[StockQuantity] > 0 AND [b].[StockQuantity] <= @__lowStockThreshold_0
2025-05-21 16:28:31.900 +07:00 [INF] (Bookstore.Application.Services.ReportService) Admin dashboard summary fetched successfully.
2025-05-21 16:28:33.490 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching all orders for Admin. Page: 1, PageSize: 15, StatusFilter: None
2025-05-21 16:28:33.490 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching all orders for Admin. Page: 1, PageSize: 15, StatusFilter: None
2025-05-21 16:28:33.497 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (5ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [o0].[Id], [o0].[CreatedAtUtc], [o0].[DeliveryMethod], [o0].[InvoiceNumber], [o0].[OrderDate], [o0].[OrderShippingAddressId], [o0].[OrderType], [o0].[PaymentMethod], [o0].[PaymentStatus], [o0].[Status], [o0].[TotalAmount], [o0].[TransactionId], [o0].[UpdatedAtUtc], [o0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName], [o1].[Id], [o1].[BookId], [o1].[OrderId], [o1].[Quantity], [o1].[UnitPrice]
FROM (
    SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
    FROM [Orders] AS [o]
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [o0]
LEFT JOIN [Users] AS [u] ON [o0].[UserId] = [u].[Id]
LEFT JOIN [OrderDetails] AS [o1] ON [o0].[Id] = [o1].[OrderId]
ORDER BY [o0].[OrderDate] DESC, [o0].[Id], [u].[Id]
2025-05-21 16:28:33.497 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [o0].[Id], [o0].[CreatedAtUtc], [o0].[DeliveryMethod], [o0].[InvoiceNumber], [o0].[OrderDate], [o0].[OrderShippingAddressId], [o0].[OrderType], [o0].[PaymentMethod], [o0].[PaymentStatus], [o0].[Status], [o0].[TotalAmount], [o0].[TransactionId], [o0].[UpdatedAtUtc], [o0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName], [o1].[Id], [o1].[BookId], [o1].[OrderId], [o1].[Quantity], [o1].[UnitPrice]
FROM (
    SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
    FROM [Orders] AS [o]
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [o0]
LEFT JOIN [Users] AS [u] ON [o0].[UserId] = [u].[Id]
LEFT JOIN [OrderDetails] AS [o1] ON [o0].[Id] = [o1].[OrderId]
ORDER BY [o0].[OrderDate] DESC, [o0].[Id], [u].[Id]
2025-05-21 16:28:34.895 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching all orders for Admin. Page: 1, PageSize: 15, StatusFilter: None
2025-05-21 16:28:34.902 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (5ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [o0].[Id], [o0].[CreatedAtUtc], [o0].[DeliveryMethod], [o0].[InvoiceNumber], [o0].[OrderDate], [o0].[OrderShippingAddressId], [o0].[OrderType], [o0].[PaymentMethod], [o0].[PaymentStatus], [o0].[Status], [o0].[TotalAmount], [o0].[TransactionId], [o0].[UpdatedAtUtc], [o0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName], [o1].[Id], [o1].[BookId], [o1].[OrderId], [o1].[Quantity], [o1].[UnitPrice]
FROM (
    SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
    FROM [Orders] AS [o]
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [o0]
LEFT JOIN [Users] AS [u] ON [o0].[UserId] = [u].[Id]
LEFT JOIN [OrderDetails] AS [o1] ON [o0].[Id] = [o1].[OrderId]
ORDER BY [o0].[OrderDate] DESC, [o0].[Id], [u].[Id]
2025-05-21 16:28:35.889 +07:00 [INF] (Bookstore.Application.Services.StockReceiptService) Fetching all stock receipts. Page: 1, PageSize: 15
2025-05-21 16:28:35.895 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [s1].[Id], [s1].[CreatedAtUtc], [s1].[Notes], [s1].[ReceiptDate], [s1].[SupplierId], [s1].[UpdatedAtUtc], [s0].[Id], [s0].[Address], [s0].[ContactPerson], [s0].[CreatedAtUtc], [s0].[Email], [s0].[Name], [s0].[Phone], [s0].[UpdatedAtUtc]
FROM (
    SELECT [s].[Id], [s].[CreatedAtUtc], [s].[Notes], [s].[ReceiptDate], [s].[SupplierId], [s].[UpdatedAtUtc]
    FROM [StockReceipts] AS [s]
    ORDER BY [s].[ReceiptDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [s1]
LEFT JOIN [Suppliers] AS [s0] ON [s1].[SupplierId] = [s0].[Id]
ORDER BY [s1].[ReceiptDate] DESC
2025-05-21 16:28:36.901 +07:00 [INF] (Bookstore.Application.Services.StockReceiptService) Fetching all stock receipts. Page: 1, PageSize: 15
2025-05-21 16:28:36.904 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [s1].[Id], [s1].[CreatedAtUtc], [s1].[Notes], [s1].[ReceiptDate], [s1].[SupplierId], [s1].[UpdatedAtUtc], [s0].[Id], [s0].[Address], [s0].[ContactPerson], [s0].[CreatedAtUtc], [s0].[Email], [s0].[Name], [s0].[Phone], [s0].[UpdatedAtUtc]
FROM (
    SELECT [s].[Id], [s].[CreatedAtUtc], [s].[Notes], [s].[ReceiptDate], [s].[SupplierId], [s].[UpdatedAtUtc]
    FROM [StockReceipts] AS [s]
    ORDER BY [s].[ReceiptDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [s1]
LEFT JOIN [Suppliers] AS [s0] ON [s1].[SupplierId] = [s0].[Id]
ORDER BY [s1].[ReceiptDate] DESC
2025-05-21 16:28:37.893 +07:00 [INF] (Bookstore.Application.Services.StockReceiptService) Fetching all stock receipts. Page: 1, PageSize: 15
2025-05-21 16:28:37.896 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [s1].[Id], [s1].[CreatedAtUtc], [s1].[Notes], [s1].[ReceiptDate], [s1].[SupplierId], [s1].[UpdatedAtUtc], [s0].[Id], [s0].[Address], [s0].[ContactPerson], [s0].[CreatedAtUtc], [s0].[Email], [s0].[Name], [s0].[Phone], [s0].[UpdatedAtUtc]
FROM (
    SELECT [s].[Id], [s].[CreatedAtUtc], [s].[Notes], [s].[ReceiptDate], [s].[SupplierId], [s].[UpdatedAtUtc]
    FROM [StockReceipts] AS [s]
    ORDER BY [s].[ReceiptDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [s1]
LEFT JOIN [Suppliers] AS [s0] ON [s1].[SupplierId] = [s0].[Id]
ORDER BY [s1].[ReceiptDate] DESC
2025-05-21 16:28:38.809 +07:00 [INF] (Bookstore.Application.Services.StockReceiptService) Fetching all stock receipts. Page: 1, PageSize: 15
2025-05-21 16:28:38.812 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [s1].[Id], [s1].[CreatedAtUtc], [s1].[Notes], [s1].[ReceiptDate], [s1].[SupplierId], [s1].[UpdatedAtUtc], [s0].[Id], [s0].[Address], [s0].[ContactPerson], [s0].[CreatedAtUtc], [s0].[Email], [s0].[Name], [s0].[Phone], [s0].[UpdatedAtUtc]
FROM (
    SELECT [s].[Id], [s].[CreatedAtUtc], [s].[Notes], [s].[ReceiptDate], [s].[SupplierId], [s].[UpdatedAtUtc]
    FROM [StockReceipts] AS [s]
    ORDER BY [s].[ReceiptDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [s1]
LEFT JOIN [Suppliers] AS [s0] ON [s1].[SupplierId] = [s0].[Id]
ORDER BY [s1].[ReceiptDate] DESC
2025-05-21 16:28:39.504 +07:00 [INF] (Bookstore.Application.Services.StockReceiptService) Fetching all stock receipts. Page: 1, PageSize: 15
2025-05-21 16:28:39.507 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [s1].[Id], [s1].[CreatedAtUtc], [s1].[Notes], [s1].[ReceiptDate], [s1].[SupplierId], [s1].[UpdatedAtUtc], [s0].[Id], [s0].[Address], [s0].[ContactPerson], [s0].[CreatedAtUtc], [s0].[Email], [s0].[Name], [s0].[Phone], [s0].[UpdatedAtUtc]
FROM (
    SELECT [s].[Id], [s].[CreatedAtUtc], [s].[Notes], [s].[ReceiptDate], [s].[SupplierId], [s].[UpdatedAtUtc]
    FROM [StockReceipts] AS [s]
    ORDER BY [s].[ReceiptDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [s1]
LEFT JOIN [Suppliers] AS [s0] ON [s1].[SupplierId] = [s0].[Id]
ORDER BY [s1].[ReceiptDate] DESC
2025-05-21 16:28:41.173 +07:00 [INF] (Bookstore.Application.Services.StockReceiptService) Fetching all stock receipts. Page: 1, PageSize: 15
2025-05-21 16:28:41.175 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [s1].[Id], [s1].[CreatedAtUtc], [s1].[Notes], [s1].[ReceiptDate], [s1].[SupplierId], [s1].[UpdatedAtUtc], [s0].[Id], [s0].[Address], [s0].[ContactPerson], [s0].[CreatedAtUtc], [s0].[Email], [s0].[Name], [s0].[Phone], [s0].[UpdatedAtUtc]
FROM (
    SELECT [s].[Id], [s].[CreatedAtUtc], [s].[Notes], [s].[ReceiptDate], [s].[SupplierId], [s].[UpdatedAtUtc]
    FROM [StockReceipts] AS [s]
    ORDER BY [s].[ReceiptDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [s1]
LEFT JOIN [Suppliers] AS [s0] ON [s1].[SupplierId] = [s0].[Id]
ORDER BY [s1].[ReceiptDate] DESC
2025-05-21 16:28:41.772 +07:00 [INF] (Bookstore.Application.Services.StockReceiptService) Fetching stock receipt with Id "802926c9-f9f1-4e84-a921-c9067139ad77"
2025-05-21 16:28:41.780 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (7ms) [Parameters=[@__id_0='802926c9-f9f1-4e84-a921-c9067139ad77'], CommandType='"Text"', CommandTimeout='30']
SELECT [s2].[Id], [s2].[CreatedAtUtc], [s2].[Notes], [s2].[ReceiptDate], [s2].[SupplierId], [s2].[UpdatedAtUtc], [s2].[Id0], [s2].[Address], [s2].[ContactPerson], [s2].[CreatedAtUtc0], [s2].[Email], [s2].[Name], [s2].[Phone], [s2].[UpdatedAtUtc0], [s3].[Id], [s3].[BookId], [s3].[PurchasePrice], [s3].[QuantityReceived], [s3].[StockReceiptId], [s3].[Id0], [s3].[AuthorId], [s3].[CategoryId], [s3].[CoverImageUrl], [s3].[CreatedAtUtc], [s3].[Description], [s3].[ISBN], [s3].[IsDeleted], [s3].[Price], [s3].[PublicationYear], [s3].[Publisher], [s3].[StockQuantity], [s3].[Title], [s3].[UpdatedAtUtc]
FROM (
    SELECT TOP(1) [s].[Id], [s].[CreatedAtUtc], [s].[Notes], [s].[ReceiptDate], [s].[SupplierId], [s].[UpdatedAtUtc], [s0].[Id] AS [Id0], [s0].[Address], [s0].[ContactPerson], [s0].[CreatedAtUtc] AS [CreatedAtUtc0], [s0].[Email], [s0].[Name], [s0].[Phone], [s0].[UpdatedAtUtc] AS [UpdatedAtUtc0]
    FROM [StockReceipts] AS [s]
    LEFT JOIN [Suppliers] AS [s0] ON [s].[SupplierId] = [s0].[Id]
    WHERE [s].[Id] = @__id_0
) AS [s2]
LEFT JOIN (
    SELECT [s1].[Id], [s1].[BookId], [s1].[PurchasePrice], [s1].[QuantityReceived], [s1].[StockReceiptId], [b0].[Id] AS [Id0], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc]
    FROM [StockReceiptDetails] AS [s1]
    INNER JOIN (
        SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
        FROM [Books] AS [b]
        WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ) AS [b0] ON [s1].[BookId] = [b0].[Id]
) AS [s3] ON [s2].[Id] = [s3].[StockReceiptId]
ORDER BY [s2].[Id], [s2].[Id0], [s3].[Id]
2025-05-21 16:28:45.592 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__p_0='0', @__p_1='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit)
ORDER BY [c].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-21 16:28:45.638 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b0].[CategoryId] = [c0].[Id]
ORDER BY [b0].[CreatedAtUtc] DESC
2025-05-21 16:28:45.638 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (5ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b0].[CategoryId] = [c0].[Id]
ORDER BY [b0].[CreatedAtUtc] DESC
2025-05-21 16:28:45.743 +07:00 [INF] (Bookstore.Application.Services.AuthorService) Fetching all authors. Page: 1, PageSize: 10
2025-05-21 16:28:45.747 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__p_0='0', @__p_1='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Authors] AS [a]
ORDER BY [a].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-21 16:28:48.108 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b0].[CategoryId] = [c0].[Id]
ORDER BY [b0].[CreatedAtUtc] DESC
2025-05-21 16:28:49.814 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (5ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b0].[CategoryId] = [c0].[Id]
ORDER BY [b0].[CreatedAtUtc] DESC
2025-05-21 16:28:49.817 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b0].[CategoryId] = [c0].[Id]
ORDER BY [b0].[CreatedAtUtc] DESC
2025-05-21 16:28:49.820 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b0].[CategoryId] = [c0].[Id]
ORDER BY [b0].[CreatedAtUtc] DESC
2025-05-21 16:28:50.832 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit)
ORDER BY [c].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-21 16:28:54.181 +07:00 [INF] (Bookstore.Application.Services.AuthorService) Fetching all authors. Page: 1, PageSize: 15
2025-05-21 16:28:54.184 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Authors] AS [a]
ORDER BY [a].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-21 16:41:47.628 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetching home dashboard data.
2025-05-21 16:41:47.675 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit)
ORDER BY [b].[CreatedAtUtc] DESC
2025-05-21 16:41:47.678 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetched 10 newest books.
2025-05-21 16:41:47.688 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (8ms) [Parameters=[@__p_2='5', @__inclusiveStartDate_0='2025-04-21T00:00:00.0000000Z', @__inclusiveEndDate_1='2025-05-22T00:00:00.0000000Z'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[BookId], [b2].[Title] AS [BookTitle], [s].[TotalQuantitySold]
FROM (
    SELECT TOP(@__p_2) [o].[BookId], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold]
    FROM [OrderDetails] AS [o]
    INNER JOIN [Orders] AS [o0] ON [o].[OrderId] = [o0].[Id]
    INNER JOIN (
        SELECT [b].[Id], [b].[IsDeleted]
        FROM [Books] AS [b]
        WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ) AS [b0] ON [o].[BookId] = [b0].[Id]
    WHERE [o0].[Status] = CAST(3 AS tinyint) AND [o0].[OrderDate] >= @__inclusiveStartDate_0 AND [o0].[OrderDate] < @__inclusiveEndDate_1 AND [b0].[IsDeleted] = CAST(0 AS bit)
    GROUP BY [o].[BookId]
    ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC
) AS [s]
INNER JOIN (
    SELECT [b1].[Id], [b1].[Title]
    FROM [Books] AS [b1]
    WHERE [b1].[IsDeleted] = CAST(0 AS bit)
) AS [b2] ON [s].[BookId] = [b2].[Id]
ORDER BY [s].[TotalQuantitySold] DESC
2025-05-21 16:41:47.696 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (5ms) [Parameters=[@__bestsellerBookIds_0='["ba80e2b5-b426-44eb-acfa-06315f9fcb6b","c191919e-e763-4e03-9e2b-24d944f4d401","39f2e54f-3480-424d-9611-a9b9097314a9","6c50f852-d8c7-4ef9-a26a-c9d292ef9108","6d858026-d70a-4441-8837-01f8d972cb26"]' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Id] IN (
    SELECT [b0].[value]
    FROM OPENJSON(@__bestsellerBookIds_0) WITH ([value] uniqueidentifier '$') AS [b0]
) AND [b].[IsDeleted] = CAST(0 AS bit)
2025-05-21 16:41:47.699 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetched 5 bestselling books.
2025-05-21 16:41:47.704 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@__currentDate_0='2025-05-21T09:41:47.7005265Z', @__currentDate_1='2025-05-21T09:41:47.7005265Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Code], [p].[CreatedAtUtc], [p].[CurrentUsage], [p].[Description], [p].[DiscountAmount], [p].[DiscountPercentage], [p].[EndDate], [p].[IsActive], [p].[MaxUsage], [p].[StartDate], [p].[UpdatedAtUtc]
FROM [Promotions] AS [p]
WHERE [p].[IsActive] = CAST(1 AS bit) AND [p].[StartDate] <= @__currentDate_0 AND ([p].[EndDate] IS NULL OR [p].[EndDate] >= @__currentDate_1) AND ([p].[MaxUsage] IS NULL OR [p].[CurrentUsage] < [p].[MaxUsage])
ORDER BY [p].[EndDate]
2025-05-21 16:41:47.712 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[ParentCategoryId] IS NULL AND [c].[IsDeleted] = CAST(0 AS bit)
ORDER BY [c].[Name]
2025-05-21 16:41:47.716 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Successfully fetched home dashboard data.
2025-05-21 16:41:51.867 +07:00 [INF] (Bookstore.Application.Services.UserService) Fetching all users for admin. RoleFilter: All, StatusFilter: All, Page: 1, PageSize: 20
2025-05-21 16:41:51.877 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (7ms) [Parameters=[@__p_0='0', @__p_1='20'], CommandType='"Text"', CommandTimeout='30']
SELECT [u1].[Id], [u1].[CreatedAtUtc], [u1].[Email], [u1].[FirstName], [u1].[IsActive], [u1].[LastName], [u1].[PasswordHash], [u1].[PhoneNumber], [u1].[UpdatedAtUtc], [u1].[UserName], [s].[UserId], [s].[RoleId], [s].[Id], [s].[CreatedAtUtc], [s].[Name], [s].[UpdatedAtUtc]
FROM (
    SELECT [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName]
    FROM [Users] AS [u]
    ORDER BY [u].[UserName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [u1]
LEFT JOIN (
    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[CreatedAtUtc], [r].[Name], [r].[UpdatedAtUtc]
    FROM [UserRoles] AS [u0]
    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
) AS [s] ON [u1].[Id] = [s].[UserId]
ORDER BY [u1].[UserName], [u1].[Id], [s].[UserId], [s].[RoleId]
2025-05-21 16:41:53.408 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Code], [p].[CreatedAtUtc], [p].[CurrentUsage], [p].[Description], [p].[DiscountAmount], [p].[DiscountPercentage], [p].[EndDate], [p].[IsActive], [p].[MaxUsage], [p].[StartDate], [p].[UpdatedAtUtc]
FROM [Promotions] AS [p]
ORDER BY [p].[CreatedAtUtc] DESC
2025-05-21 16:41:54.585 +07:00 [INF] (Bookstore.Application.Services.ReportService) Generating revenue report from "2025-05-15T00:00:00.0000000" to "2025-05-21T00:00:00.0000000"
2025-05-21 16:41:54.589 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__inclusiveStartDate_0='2025-05-15T00:00:00.0000000', @__inclusiveEndDate_1='2025-05-22T00:00:00.0000000'], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
FROM [Orders] AS [o]
WHERE [o].[Status] = CAST(3 AS tinyint) AND [o].[OrderDate] >= @__inclusiveStartDate_0 AND [o].[OrderDate] < @__inclusiveEndDate_1
2025-05-21 16:41:54.593 +07:00 [INF] (Bookstore.Application.Services.ReportService) Revenue report generated successfully.
2025-05-21 16:41:54.630 +07:00 [INF] (Bookstore.Application.Services.ReportService) Generating bestsellers report from "2025-05-15T00:00:00.0000000" to "2025-05-21T00:00:00.0000000", top 7
2025-05-21 16:41:54.635 +07:00 [INF] (Bookstore.Application.Services.ReportService) Generating low stock report with threshold 5
2025-05-21 16:41:54.641 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (8ms) [Parameters=[@__p_2='7', @__inclusiveStartDate_0='2025-05-15T00:00:00.0000000', @__inclusiveEndDate_1='2025-05-22T00:00:00.0000000'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[BookId], [b2].[Title] AS [BookTitle], [s].[TotalQuantitySold]
FROM (
    SELECT TOP(@__p_2) [o].[BookId], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold]
    FROM [OrderDetails] AS [o]
    INNER JOIN [Orders] AS [o0] ON [o].[OrderId] = [o0].[Id]
    INNER JOIN (
        SELECT [b].[Id], [b].[IsDeleted]
        FROM [Books] AS [b]
        WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ) AS [b0] ON [o].[BookId] = [b0].[Id]
    WHERE [o0].[Status] = CAST(3 AS tinyint) AND [o0].[OrderDate] >= @__inclusiveStartDate_0 AND [o0].[OrderDate] < @__inclusiveEndDate_1 AND [b0].[IsDeleted] = CAST(0 AS bit)
    GROUP BY [o].[BookId]
    ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC
) AS [s]
INNER JOIN (
    SELECT [b1].[Id], [b1].[Title]
    FROM [Books] AS [b1]
    WHERE [b1].[IsDeleted] = CAST(0 AS bit)
) AS [b2] ON [s].[BookId] = [b2].[Id]
ORDER BY [s].[TotalQuantitySold] DESC
2025-05-21 16:41:54.647 +07:00 [INF] (Bookstore.Application.Services.ReportService) Bestsellers report generated successfully.
2025-05-21 16:41:54.650 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__lowStockThreshold_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[StockQuantity] > 0 AND [b].[StockQuantity] <= @__lowStockThreshold_0
ORDER BY [b].[StockQuantity]
2025-05-21 16:41:56.627 +07:00 [INF] (Bookstore.Application.Services.ReportService) Fetching admin dashboard summary.
2025-05-21 16:41:56.632 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__todayStart_0='2025-05-21T00:00:00.0000000Z', @__tomorrowStart_1='2025-05-22T00:00:00.0000000Z'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[OrderDate] >= @__todayStart_0 AND [o].[OrderDate] < @__tomorrowStart_1 AND [o].[Status] <> CAST(4 AS tinyint)
2025-05-21 16:41:56.639 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@__todayStart_0='2025-05-21T00:00:00.0000000Z', @__tomorrowStart_1='2025-05-22T00:00:00.0000000Z'], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalAmount]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[OrderDate] >= @__todayStart_0 AND [o].[OrderDate] < @__tomorrowStart_1 AND [o].[Status] = CAST(3 AS tinyint)
2025-05-21 16:41:56.646 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__todayStart_0='2025-05-21T00:00:00.0000000Z', @__tomorrowStart_1='2025-05-22T00:00:00.0000000Z'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[CreatedAtUtc] >= @__todayStart_0 AND [u].[CreatedAtUtc] < @__tomorrowStart_1
2025-05-21 16:41:56.654 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__lowStockThreshold_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Books] AS [b]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[IsDeleted] = CAST(0 AS bit) AND [b].[StockQuantity] > 0 AND [b].[StockQuantity] <= @__lowStockThreshold_0
2025-05-21 16:41:56.657 +07:00 [INF] (Bookstore.Application.Services.ReportService) Admin dashboard summary fetched successfully.
2025-05-21 16:41:57.871 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching all orders for Admin. Page: 1, PageSize: 15, StatusFilter: None
2025-05-21 16:41:57.878 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching all orders for Admin. Page: 1, PageSize: 15, StatusFilter: None
2025-05-21 16:41:57.883 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (5ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [o0].[Id], [o0].[CreatedAtUtc], [o0].[DeliveryMethod], [o0].[InvoiceNumber], [o0].[OrderDate], [o0].[OrderShippingAddressId], [o0].[OrderType], [o0].[PaymentMethod], [o0].[PaymentStatus], [o0].[Status], [o0].[TotalAmount], [o0].[TransactionId], [o0].[UpdatedAtUtc], [o0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName], [o1].[Id], [o1].[BookId], [o1].[OrderId], [o1].[Quantity], [o1].[UnitPrice]
FROM (
    SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
    FROM [Orders] AS [o]
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [o0]
LEFT JOIN [Users] AS [u] ON [o0].[UserId] = [u].[Id]
LEFT JOIN [OrderDetails] AS [o1] ON [o0].[Id] = [o1].[OrderId]
ORDER BY [o0].[OrderDate] DESC, [o0].[Id], [u].[Id]
2025-05-21 16:41:57.884 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [o0].[Id], [o0].[CreatedAtUtc], [o0].[DeliveryMethod], [o0].[InvoiceNumber], [o0].[OrderDate], [o0].[OrderShippingAddressId], [o0].[OrderType], [o0].[PaymentMethod], [o0].[PaymentStatus], [o0].[Status], [o0].[TotalAmount], [o0].[TransactionId], [o0].[UpdatedAtUtc], [o0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName], [o1].[Id], [o1].[BookId], [o1].[OrderId], [o1].[Quantity], [o1].[UnitPrice]
FROM (
    SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
    FROM [Orders] AS [o]
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [o0]
LEFT JOIN [Users] AS [u] ON [o0].[UserId] = [u].[Id]
LEFT JOIN [OrderDetails] AS [o1] ON [o0].[Id] = [o1].[OrderId]
ORDER BY [o0].[OrderDate] DESC, [o0].[Id], [u].[Id]
2025-05-21 16:42:01.852 +07:00 [INF] (Bookstore.Application.Services.StockReceiptService) Fetching all stock receipts. Page: 1, PageSize: 15
2025-05-21 16:42:01.865 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (12ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [s1].[Id], [s1].[CreatedAtUtc], [s1].[Notes], [s1].[ReceiptDate], [s1].[SupplierId], [s1].[UpdatedAtUtc], [s0].[Id], [s0].[Address], [s0].[ContactPerson], [s0].[CreatedAtUtc], [s0].[Email], [s0].[Name], [s0].[Phone], [s0].[UpdatedAtUtc]
FROM (
    SELECT [s].[Id], [s].[CreatedAtUtc], [s].[Notes], [s].[ReceiptDate], [s].[SupplierId], [s].[UpdatedAtUtc]
    FROM [StockReceipts] AS [s]
    ORDER BY [s].[ReceiptDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [s1]
LEFT JOIN [Suppliers] AS [s0] ON [s1].[SupplierId] = [s0].[Id]
ORDER BY [s1].[ReceiptDate] DESC
2025-05-21 16:42:02.493 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching all orders for Admin. Page: 1, PageSize: 15, StatusFilter: None
2025-05-21 16:42:02.502 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching all orders for Admin. Page: 1, PageSize: 15, StatusFilter: None
2025-05-21 16:42:02.504 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (8ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [o0].[Id], [o0].[CreatedAtUtc], [o0].[DeliveryMethod], [o0].[InvoiceNumber], [o0].[OrderDate], [o0].[OrderShippingAddressId], [o0].[OrderType], [o0].[PaymentMethod], [o0].[PaymentStatus], [o0].[Status], [o0].[TotalAmount], [o0].[TransactionId], [o0].[UpdatedAtUtc], [o0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName], [o1].[Id], [o1].[BookId], [o1].[OrderId], [o1].[Quantity], [o1].[UnitPrice]
FROM (
    SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
    FROM [Orders] AS [o]
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [o0]
LEFT JOIN [Users] AS [u] ON [o0].[UserId] = [u].[Id]
LEFT JOIN [OrderDetails] AS [o1] ON [o0].[Id] = [o1].[OrderId]
ORDER BY [o0].[OrderDate] DESC, [o0].[Id], [u].[Id]
2025-05-21 16:42:02.505 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [o0].[Id], [o0].[CreatedAtUtc], [o0].[DeliveryMethod], [o0].[InvoiceNumber], [o0].[OrderDate], [o0].[OrderShippingAddressId], [o0].[OrderType], [o0].[PaymentMethod], [o0].[PaymentStatus], [o0].[Status], [o0].[TotalAmount], [o0].[TransactionId], [o0].[UpdatedAtUtc], [o0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName], [o1].[Id], [o1].[BookId], [o1].[OrderId], [o1].[Quantity], [o1].[UnitPrice]
FROM (
    SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
    FROM [Orders] AS [o]
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [o0]
LEFT JOIN [Users] AS [u] ON [o0].[UserId] = [u].[Id]
LEFT JOIN [OrderDetails] AS [o1] ON [o0].[Id] = [o1].[OrderId]
ORDER BY [o0].[OrderDate] DESC, [o0].[Id], [u].[Id]
2025-05-21 16:42:05.375 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching all orders for Admin. Page: 1, PageSize: 15, StatusFilter: None
2025-05-21 16:42:05.384 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (6ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [o0].[Id], [o0].[CreatedAtUtc], [o0].[DeliveryMethod], [o0].[InvoiceNumber], [o0].[OrderDate], [o0].[OrderShippingAddressId], [o0].[OrderType], [o0].[PaymentMethod], [o0].[PaymentStatus], [o0].[Status], [o0].[TotalAmount], [o0].[TransactionId], [o0].[UpdatedAtUtc], [o0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName], [o1].[Id], [o1].[BookId], [o1].[OrderId], [o1].[Quantity], [o1].[UnitPrice]
FROM (
    SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
    FROM [Orders] AS [o]
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [o0]
LEFT JOIN [Users] AS [u] ON [o0].[UserId] = [u].[Id]
LEFT JOIN [OrderDetails] AS [o1] ON [o0].[Id] = [o1].[OrderId]
ORDER BY [o0].[OrderDate] DESC, [o0].[Id], [u].[Id]
2025-05-21 16:42:06.250 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching all orders for Admin. Page: 1, PageSize: 15, StatusFilter: None
2025-05-21 16:42:06.258 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (5ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [o0].[Id], [o0].[CreatedAtUtc], [o0].[DeliveryMethod], [o0].[InvoiceNumber], [o0].[OrderDate], [o0].[OrderShippingAddressId], [o0].[OrderType], [o0].[PaymentMethod], [o0].[PaymentStatus], [o0].[Status], [o0].[TotalAmount], [o0].[TransactionId], [o0].[UpdatedAtUtc], [o0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName], [o1].[Id], [o1].[BookId], [o1].[OrderId], [o1].[Quantity], [o1].[UnitPrice]
FROM (
    SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
    FROM [Orders] AS [o]
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [o0]
LEFT JOIN [Users] AS [u] ON [o0].[UserId] = [u].[Id]
LEFT JOIN [OrderDetails] AS [o1] ON [o0].[Id] = [o1].[OrderId]
ORDER BY [o0].[OrderDate] DESC, [o0].[Id], [u].[Id]
2025-05-21 16:42:07.894 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching all orders for Admin. Page: 1, PageSize: 15, StatusFilter: None
2025-05-21 16:42:07.897 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [o0].[Id], [o0].[CreatedAtUtc], [o0].[DeliveryMethod], [o0].[InvoiceNumber], [o0].[OrderDate], [o0].[OrderShippingAddressId], [o0].[OrderType], [o0].[PaymentMethod], [o0].[PaymentStatus], [o0].[Status], [o0].[TotalAmount], [o0].[TransactionId], [o0].[UpdatedAtUtc], [o0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName], [o1].[Id], [o1].[BookId], [o1].[OrderId], [o1].[Quantity], [o1].[UnitPrice]
FROM (
    SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
    FROM [Orders] AS [o]
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [o0]
LEFT JOIN [Users] AS [u] ON [o0].[UserId] = [u].[Id]
LEFT JOIN [OrderDetails] AS [o1] ON [o0].[Id] = [o1].[OrderId]
ORDER BY [o0].[OrderDate] DESC, [o0].[Id], [u].[Id]
2025-05-21 16:42:15.494 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__p_0='0', @__p_1='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit)
ORDER BY [c].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-21 16:42:15.533 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b0].[CategoryId] = [c0].[Id]
ORDER BY [b0].[CreatedAtUtc] DESC
2025-05-21 16:42:15.534 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b0].[CategoryId] = [c0].[Id]
ORDER BY [b0].[CreatedAtUtc] DESC
2025-05-21 16:42:15.651 +07:00 [INF] (Bookstore.Application.Services.AuthorService) Fetching all authors. Page: 1, PageSize: 10
2025-05-21 16:42:15.654 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Authors] AS [a]
ORDER BY [a].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-21 16:42:18.238 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b0].[CategoryId] = [c0].[Id]
ORDER BY [b0].[CreatedAtUtc] DESC
2025-05-21 16:42:18.241 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b0].[CategoryId] = [c0].[Id]
ORDER BY [b0].[CreatedAtUtc] DESC
2025-05-21 16:42:18.250 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b0].[CategoryId] = [c0].[Id]
ORDER BY [b0].[CreatedAtUtc] DESC
2025-05-21 16:42:20.024 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit)
ORDER BY [c].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-21 16:42:21.544 +07:00 [INF] (Bookstore.Application.Services.AuthorService) Fetching all authors. Page: 1, PageSize: 15
2025-05-21 16:42:21.546 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Authors] AS [a]
ORDER BY [a].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-21 16:42:23.079 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching all orders for Admin. Page: 1, PageSize: 15, StatusFilter: None
2025-05-21 16:42:23.082 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [o0].[Id], [o0].[CreatedAtUtc], [o0].[DeliveryMethod], [o0].[InvoiceNumber], [o0].[OrderDate], [o0].[OrderShippingAddressId], [o0].[OrderType], [o0].[PaymentMethod], [o0].[PaymentStatus], [o0].[Status], [o0].[TotalAmount], [o0].[TransactionId], [o0].[UpdatedAtUtc], [o0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName], [o1].[Id], [o1].[BookId], [o1].[OrderId], [o1].[Quantity], [o1].[UnitPrice]
FROM (
    SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
    FROM [Orders] AS [o]
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [o0]
LEFT JOIN [Users] AS [u] ON [o0].[UserId] = [u].[Id]
LEFT JOIN [OrderDetails] AS [o1] ON [o0].[Id] = [o1].[OrderId]
ORDER BY [o0].[OrderDate] DESC, [o0].[Id], [u].[Id]
2025-05-21 16:42:23.083 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching all orders for Admin. Page: 1, PageSize: 15, StatusFilter: None
2025-05-21 16:42:23.091 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [o0].[Id], [o0].[CreatedAtUtc], [o0].[DeliveryMethod], [o0].[InvoiceNumber], [o0].[OrderDate], [o0].[OrderShippingAddressId], [o0].[OrderType], [o0].[PaymentMethod], [o0].[PaymentStatus], [o0].[Status], [o0].[TotalAmount], [o0].[TransactionId], [o0].[UpdatedAtUtc], [o0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName], [o1].[Id], [o1].[BookId], [o1].[OrderId], [o1].[Quantity], [o1].[UnitPrice]
FROM (
    SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
    FROM [Orders] AS [o]
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [o0]
LEFT JOIN [Users] AS [u] ON [o0].[UserId] = [u].[Id]
LEFT JOIN [OrderDetails] AS [o1] ON [o0].[Id] = [o1].[OrderId]
ORDER BY [o0].[OrderDate] DESC, [o0].[Id], [u].[Id]
2025-05-21 16:45:29.774 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetching home dashboard data.
2025-05-21 16:45:29.796 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit)
ORDER BY [b].[CreatedAtUtc] DESC
2025-05-21 16:45:29.818 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetched 10 newest books.
2025-05-21 16:45:29.841 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (8ms) [Parameters=[@__p_2='5', @__inclusiveStartDate_0='2025-04-21T00:00:00.0000000Z', @__inclusiveEndDate_1='2025-05-22T00:00:00.0000000Z'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[BookId], [b2].[Title] AS [BookTitle], [s].[TotalQuantitySold]
FROM (
    SELECT TOP(@__p_2) [o].[BookId], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold]
    FROM [OrderDetails] AS [o]
    INNER JOIN [Orders] AS [o0] ON [o].[OrderId] = [o0].[Id]
    INNER JOIN (
        SELECT [b].[Id], [b].[IsDeleted]
        FROM [Books] AS [b]
        WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ) AS [b0] ON [o].[BookId] = [b0].[Id]
    WHERE [o0].[Status] = CAST(3 AS tinyint) AND [o0].[OrderDate] >= @__inclusiveStartDate_0 AND [o0].[OrderDate] < @__inclusiveEndDate_1 AND [b0].[IsDeleted] = CAST(0 AS bit)
    GROUP BY [o].[BookId]
    ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC
) AS [s]
INNER JOIN (
    SELECT [b1].[Id], [b1].[Title]
    FROM [Books] AS [b1]
    WHERE [b1].[IsDeleted] = CAST(0 AS bit)
) AS [b2] ON [s].[BookId] = [b2].[Id]
ORDER BY [s].[TotalQuantitySold] DESC
2025-05-21 16:45:29.862 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (8ms) [Parameters=[@__bestsellerBookIds_0='["ba80e2b5-b426-44eb-acfa-06315f9fcb6b","c191919e-e763-4e03-9e2b-24d944f4d401","39f2e54f-3480-424d-9611-a9b9097314a9","6c50f852-d8c7-4ef9-a26a-c9d292ef9108","6d858026-d70a-4441-8837-01f8d972cb26"]' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Id] IN (
    SELECT [b0].[value]
    FROM OPENJSON(@__bestsellerBookIds_0) WITH ([value] uniqueidentifier '$') AS [b0]
) AND [b].[IsDeleted] = CAST(0 AS bit)
2025-05-21 16:45:29.873 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetched 5 bestselling books.
2025-05-21 16:45:29.885 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (7ms) [Parameters=[@__currentDate_0='2025-05-21T09:45:29.8775134Z', @__currentDate_1='2025-05-21T09:45:29.8775134Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Code], [p].[CreatedAtUtc], [p].[CurrentUsage], [p].[Description], [p].[DiscountAmount], [p].[DiscountPercentage], [p].[EndDate], [p].[IsActive], [p].[MaxUsage], [p].[StartDate], [p].[UpdatedAtUtc]
FROM [Promotions] AS [p]
WHERE [p].[IsActive] = CAST(1 AS bit) AND [p].[StartDate] <= @__currentDate_0 AND ([p].[EndDate] IS NULL OR [p].[EndDate] >= @__currentDate_1) AND ([p].[MaxUsage] IS NULL OR [p].[CurrentUsage] < [p].[MaxUsage])
ORDER BY [p].[EndDate]
2025-05-21 16:45:29.906 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[ParentCategoryId] IS NULL AND [c].[IsDeleted] = CAST(0 AS bit)
ORDER BY [c].[Name]
2025-05-21 16:45:29.917 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Successfully fetched home dashboard data.
2025-05-21 16:45:35.956 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__p_0='0', @__p_1='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit)
ORDER BY [c].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-21 16:45:37.654 +07:00 [INF] (Bookstore.Application.Services.UserService) Fetching all users for admin. RoleFilter: All, StatusFilter: All, Page: 1, PageSize: 20
2025-05-21 16:45:37.662 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (6ms) [Parameters=[@__p_0='0', @__p_1='20'], CommandType='"Text"', CommandTimeout='30']
SELECT [u1].[Id], [u1].[CreatedAtUtc], [u1].[Email], [u1].[FirstName], [u1].[IsActive], [u1].[LastName], [u1].[PasswordHash], [u1].[PhoneNumber], [u1].[UpdatedAtUtc], [u1].[UserName], [s].[UserId], [s].[RoleId], [s].[Id], [s].[CreatedAtUtc], [s].[Name], [s].[UpdatedAtUtc]
FROM (
    SELECT [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName]
    FROM [Users] AS [u]
    ORDER BY [u].[UserName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [u1]
LEFT JOIN (
    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[CreatedAtUtc], [r].[Name], [r].[UpdatedAtUtc]
    FROM [UserRoles] AS [u0]
    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
) AS [s] ON [u1].[Id] = [s].[UserId]
ORDER BY [u1].[UserName], [u1].[Id], [s].[UserId], [s].[RoleId]
2025-05-21 16:45:39.909 +07:00 [INF] (Bookstore.Application.Services.ReportService) Fetching admin dashboard summary.
2025-05-21 16:45:39.914 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__todayStart_0='2025-05-21T00:00:00.0000000Z', @__tomorrowStart_1='2025-05-22T00:00:00.0000000Z'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[OrderDate] >= @__todayStart_0 AND [o].[OrderDate] < @__tomorrowStart_1 AND [o].[Status] <> CAST(4 AS tinyint)
2025-05-21 16:45:39.919 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__todayStart_0='2025-05-21T00:00:00.0000000Z', @__tomorrowStart_1='2025-05-22T00:00:00.0000000Z'], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalAmount]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[OrderDate] >= @__todayStart_0 AND [o].[OrderDate] < @__tomorrowStart_1 AND [o].[Status] = CAST(3 AS tinyint)
2025-05-21 16:45:39.923 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__todayStart_0='2025-05-21T00:00:00.0000000Z', @__tomorrowStart_1='2025-05-22T00:00:00.0000000Z'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[CreatedAtUtc] >= @__todayStart_0 AND [u].[CreatedAtUtc] < @__tomorrowStart_1
2025-05-21 16:45:39.929 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__lowStockThreshold_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Books] AS [b]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[IsDeleted] = CAST(0 AS bit) AND [b].[StockQuantity] > 0 AND [b].[StockQuantity] <= @__lowStockThreshold_0
2025-05-21 16:45:39.932 +07:00 [INF] (Bookstore.Application.Services.ReportService) Admin dashboard summary fetched successfully.
2025-05-21 16:45:41.062 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching all orders for Admin. Page: 1, PageSize: 15, StatusFilter: None
2025-05-21 16:45:41.077 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching all orders for Admin. Page: 1, PageSize: 15, StatusFilter: None
2025-05-21 16:45:41.081 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (9ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [o0].[Id], [o0].[CreatedAtUtc], [o0].[DeliveryMethod], [o0].[InvoiceNumber], [o0].[OrderDate], [o0].[OrderShippingAddressId], [o0].[OrderType], [o0].[PaymentMethod], [o0].[PaymentStatus], [o0].[Status], [o0].[TotalAmount], [o0].[TransactionId], [o0].[UpdatedAtUtc], [o0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName], [o1].[Id], [o1].[BookId], [o1].[OrderId], [o1].[Quantity], [o1].[UnitPrice]
FROM (
    SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
    FROM [Orders] AS [o]
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [o0]
LEFT JOIN [Users] AS [u] ON [o0].[UserId] = [u].[Id]
LEFT JOIN [OrderDetails] AS [o1] ON [o0].[Id] = [o1].[OrderId]
ORDER BY [o0].[OrderDate] DESC, [o0].[Id], [u].[Id]
2025-05-21 16:45:41.082 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [o0].[Id], [o0].[CreatedAtUtc], [o0].[DeliveryMethod], [o0].[InvoiceNumber], [o0].[OrderDate], [o0].[OrderShippingAddressId], [o0].[OrderType], [o0].[PaymentMethod], [o0].[PaymentStatus], [o0].[Status], [o0].[TotalAmount], [o0].[TransactionId], [o0].[UpdatedAtUtc], [o0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName], [o1].[Id], [o1].[BookId], [o1].[OrderId], [o1].[Quantity], [o1].[UnitPrice]
FROM (
    SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
    FROM [Orders] AS [o]
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [o0]
LEFT JOIN [Users] AS [u] ON [o0].[UserId] = [u].[Id]
LEFT JOIN [OrderDetails] AS [o1] ON [o0].[Id] = [o1].[OrderId]
ORDER BY [o0].[OrderDate] DESC, [o0].[Id], [u].[Id]
2025-05-21 16:45:43.329 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching all orders for Admin. Page: 1, PageSize: 15, StatusFilter: None
2025-05-21 16:45:43.333 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [o0].[Id], [o0].[CreatedAtUtc], [o0].[DeliveryMethod], [o0].[InvoiceNumber], [o0].[OrderDate], [o0].[OrderShippingAddressId], [o0].[OrderType], [o0].[PaymentMethod], [o0].[PaymentStatus], [o0].[Status], [o0].[TotalAmount], [o0].[TransactionId], [o0].[UpdatedAtUtc], [o0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName], [o1].[Id], [o1].[BookId], [o1].[OrderId], [o1].[Quantity], [o1].[UnitPrice]
FROM (
    SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
    FROM [Orders] AS [o]
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [o0]
LEFT JOIN [Users] AS [u] ON [o0].[UserId] = [u].[Id]
LEFT JOIN [OrderDetails] AS [o1] ON [o0].[Id] = [o1].[OrderId]
ORDER BY [o0].[OrderDate] DESC, [o0].[Id], [u].[Id]
2025-05-21 16:45:44.304 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching all orders for Admin. Page: 1, PageSize: 15, StatusFilter: None
2025-05-21 16:45:44.307 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [o0].[Id], [o0].[CreatedAtUtc], [o0].[DeliveryMethod], [o0].[InvoiceNumber], [o0].[OrderDate], [o0].[OrderShippingAddressId], [o0].[OrderType], [o0].[PaymentMethod], [o0].[PaymentStatus], [o0].[Status], [o0].[TotalAmount], [o0].[TransactionId], [o0].[UpdatedAtUtc], [o0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName], [o1].[Id], [o1].[BookId], [o1].[OrderId], [o1].[Quantity], [o1].[UnitPrice]
FROM (
    SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
    FROM [Orders] AS [o]
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [o0]
LEFT JOIN [Users] AS [u] ON [o0].[UserId] = [u].[Id]
LEFT JOIN [OrderDetails] AS [o1] ON [o0].[Id] = [o1].[OrderId]
ORDER BY [o0].[OrderDate] DESC, [o0].[Id], [u].[Id]
2025-05-21 16:45:47.803 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching all orders for Admin. Page: 1, PageSize: 15, StatusFilter: None
2025-05-21 16:45:47.807 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [o0].[Id], [o0].[CreatedAtUtc], [o0].[DeliveryMethod], [o0].[InvoiceNumber], [o0].[OrderDate], [o0].[OrderShippingAddressId], [o0].[OrderType], [o0].[PaymentMethod], [o0].[PaymentStatus], [o0].[Status], [o0].[TotalAmount], [o0].[TransactionId], [o0].[UpdatedAtUtc], [o0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName], [o1].[Id], [o1].[BookId], [o1].[OrderId], [o1].[Quantity], [o1].[UnitPrice]
FROM (
    SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
    FROM [Orders] AS [o]
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [o0]
LEFT JOIN [Users] AS [u] ON [o0].[UserId] = [u].[Id]
LEFT JOIN [OrderDetails] AS [o1] ON [o0].[Id] = [o1].[OrderId]
ORDER BY [o0].[OrderDate] DESC, [o0].[Id], [u].[Id]
2025-05-21 16:45:48.804 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching all orders for Admin. Page: 1, PageSize: 15, StatusFilter: None
2025-05-21 16:45:48.807 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [o0].[Id], [o0].[CreatedAtUtc], [o0].[DeliveryMethod], [o0].[InvoiceNumber], [o0].[OrderDate], [o0].[OrderShippingAddressId], [o0].[OrderType], [o0].[PaymentMethod], [o0].[PaymentStatus], [o0].[Status], [o0].[TotalAmount], [o0].[TransactionId], [o0].[UpdatedAtUtc], [o0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName], [o1].[Id], [o1].[BookId], [o1].[OrderId], [o1].[Quantity], [o1].[UnitPrice]
FROM (
    SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
    FROM [Orders] AS [o]
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [o0]
LEFT JOIN [Users] AS [u] ON [o0].[UserId] = [u].[Id]
LEFT JOIN [OrderDetails] AS [o1] ON [o0].[Id] = [o1].[OrderId]
ORDER BY [o0].[OrderDate] DESC, [o0].[Id], [u].[Id]
2025-05-21 16:45:52.070 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit)
ORDER BY [c].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-21 16:45:59.517 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit)
ORDER BY [c].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-21 16:45:59.566 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b0].[CategoryId] = [c0].[Id]
ORDER BY [b0].[CreatedAtUtc] DESC
2025-05-21 16:45:59.568 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b0].[CategoryId] = [c0].[Id]
ORDER BY [b0].[CreatedAtUtc] DESC
2025-05-21 16:45:59.703 +07:00 [INF] (Bookstore.Application.Services.AuthorService) Fetching all authors. Page: 1, PageSize: 10
2025-05-21 16:45:59.706 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Authors] AS [a]
ORDER BY [a].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-21 16:46:02.180 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b0].[CategoryId] = [c0].[Id]
ORDER BY [b0].[CreatedAtUtc] DESC
2025-05-21 16:46:03.296 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b0].[CategoryId] = [c0].[Id]
ORDER BY [b0].[CreatedAtUtc] DESC
2025-05-21 16:46:04.978 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b0].[CategoryId] = [c0].[Id]
ORDER BY [b0].[CreatedAtUtc] DESC
2025-05-21 16:46:06.089 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b0].[CategoryId] = [c0].[Id]
ORDER BY [b0].[CreatedAtUtc] DESC
2025-05-21 16:46:07.165 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b0].[CategoryId] = [c0].[Id]
ORDER BY [b0].[CreatedAtUtc] DESC
2025-05-21 16:46:08.251 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching all orders for Admin. Page: 1, PageSize: 15, StatusFilter: None
2025-05-21 16:46:08.254 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching all orders for Admin. Page: 1, PageSize: 15, StatusFilter: None
2025-05-21 16:46:08.254 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [o0].[Id], [o0].[CreatedAtUtc], [o0].[DeliveryMethod], [o0].[InvoiceNumber], [o0].[OrderDate], [o0].[OrderShippingAddressId], [o0].[OrderType], [o0].[PaymentMethod], [o0].[PaymentStatus], [o0].[Status], [o0].[TotalAmount], [o0].[TransactionId], [o0].[UpdatedAtUtc], [o0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName], [o1].[Id], [o1].[BookId], [o1].[OrderId], [o1].[Quantity], [o1].[UnitPrice]
FROM (
    SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
    FROM [Orders] AS [o]
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [o0]
LEFT JOIN [Users] AS [u] ON [o0].[UserId] = [u].[Id]
LEFT JOIN [OrderDetails] AS [o1] ON [o0].[Id] = [o1].[OrderId]
ORDER BY [o0].[OrderDate] DESC, [o0].[Id], [u].[Id]
2025-05-21 16:46:08.257 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [o0].[Id], [o0].[CreatedAtUtc], [o0].[DeliveryMethod], [o0].[InvoiceNumber], [o0].[OrderDate], [o0].[OrderShippingAddressId], [o0].[OrderType], [o0].[PaymentMethod], [o0].[PaymentStatus], [o0].[Status], [o0].[TotalAmount], [o0].[TransactionId], [o0].[UpdatedAtUtc], [o0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName], [o1].[Id], [o1].[BookId], [o1].[OrderId], [o1].[Quantity], [o1].[UnitPrice]
FROM (
    SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
    FROM [Orders] AS [o]
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [o0]
LEFT JOIN [Users] AS [u] ON [o0].[UserId] = [u].[Id]
LEFT JOIN [OrderDetails] AS [o1] ON [o0].[Id] = [o1].[OrderId]
ORDER BY [o0].[OrderDate] DESC, [o0].[Id], [u].[Id]
2025-05-21 16:46:10.139 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching all orders for Admin. Page: 1, PageSize: 15, StatusFilter: None
2025-05-21 16:46:10.142 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [o0].[Id], [o0].[CreatedAtUtc], [o0].[DeliveryMethod], [o0].[InvoiceNumber], [o0].[OrderDate], [o0].[OrderShippingAddressId], [o0].[OrderType], [o0].[PaymentMethod], [o0].[PaymentStatus], [o0].[Status], [o0].[TotalAmount], [o0].[TransactionId], [o0].[UpdatedAtUtc], [o0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName], [o1].[Id], [o1].[BookId], [o1].[OrderId], [o1].[Quantity], [o1].[UnitPrice]
FROM (
    SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
    FROM [Orders] AS [o]
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [o0]
LEFT JOIN [Users] AS [u] ON [o0].[UserId] = [u].[Id]
LEFT JOIN [OrderDetails] AS [o1] ON [o0].[Id] = [o1].[OrderId]
ORDER BY [o0].[OrderDate] DESC, [o0].[Id], [u].[Id]
2025-05-21 16:46:12.528 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching all orders for Admin. Page: 1, PageSize: 15, StatusFilter: None
2025-05-21 16:46:12.537 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (5ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [o0].[Id], [o0].[CreatedAtUtc], [o0].[DeliveryMethod], [o0].[InvoiceNumber], [o0].[OrderDate], [o0].[OrderShippingAddressId], [o0].[OrderType], [o0].[PaymentMethod], [o0].[PaymentStatus], [o0].[Status], [o0].[TotalAmount], [o0].[TransactionId], [o0].[UpdatedAtUtc], [o0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName], [o1].[Id], [o1].[BookId], [o1].[OrderId], [o1].[Quantity], [o1].[UnitPrice]
FROM (
    SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
    FROM [Orders] AS [o]
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [o0]
LEFT JOIN [Users] AS [u] ON [o0].[UserId] = [u].[Id]
LEFT JOIN [OrderDetails] AS [o1] ON [o0].[Id] = [o1].[OrderId]
ORDER BY [o0].[OrderDate] DESC, [o0].[Id], [u].[Id]
2025-05-21 16:46:13.596 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching all orders for Admin. Page: 1, PageSize: 15, StatusFilter: None
2025-05-21 16:46:13.604 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (5ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [o0].[Id], [o0].[CreatedAtUtc], [o0].[DeliveryMethod], [o0].[InvoiceNumber], [o0].[OrderDate], [o0].[OrderShippingAddressId], [o0].[OrderType], [o0].[PaymentMethod], [o0].[PaymentStatus], [o0].[Status], [o0].[TotalAmount], [o0].[TransactionId], [o0].[UpdatedAtUtc], [o0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName], [o1].[Id], [o1].[BookId], [o1].[OrderId], [o1].[Quantity], [o1].[UnitPrice]
FROM (
    SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
    FROM [Orders] AS [o]
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [o0]
LEFT JOIN [Users] AS [u] ON [o0].[UserId] = [u].[Id]
LEFT JOIN [OrderDetails] AS [o1] ON [o0].[Id] = [o1].[OrderId]
ORDER BY [o0].[OrderDate] DESC, [o0].[Id], [u].[Id]
2025-05-21 16:46:14.464 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching all orders for Admin. Page: 1, PageSize: 15, StatusFilter: None
2025-05-21 16:46:14.471 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [o0].[Id], [o0].[CreatedAtUtc], [o0].[DeliveryMethod], [o0].[InvoiceNumber], [o0].[OrderDate], [o0].[OrderShippingAddressId], [o0].[OrderType], [o0].[PaymentMethod], [o0].[PaymentStatus], [o0].[Status], [o0].[TotalAmount], [o0].[TransactionId], [o0].[UpdatedAtUtc], [o0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName], [o1].[Id], [o1].[BookId], [o1].[OrderId], [o1].[Quantity], [o1].[UnitPrice]
FROM (
    SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
    FROM [Orders] AS [o]
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [o0]
LEFT JOIN [Users] AS [u] ON [o0].[UserId] = [u].[Id]
LEFT JOIN [OrderDetails] AS [o1] ON [o0].[Id] = [o1].[OrderId]
ORDER BY [o0].[OrderDate] DESC, [o0].[Id], [u].[Id]
2025-05-21 16:46:15.269 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching all orders for Admin. Page: 1, PageSize: 15, StatusFilter: None
2025-05-21 16:46:15.278 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (6ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [o0].[Id], [o0].[CreatedAtUtc], [o0].[DeliveryMethod], [o0].[InvoiceNumber], [o0].[OrderDate], [o0].[OrderShippingAddressId], [o0].[OrderType], [o0].[PaymentMethod], [o0].[PaymentStatus], [o0].[Status], [o0].[TotalAmount], [o0].[TransactionId], [o0].[UpdatedAtUtc], [o0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName], [o1].[Id], [o1].[BookId], [o1].[OrderId], [o1].[Quantity], [o1].[UnitPrice]
FROM (
    SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
    FROM [Orders] AS [o]
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [o0]
LEFT JOIN [Users] AS [u] ON [o0].[UserId] = [u].[Id]
LEFT JOIN [OrderDetails] AS [o1] ON [o0].[Id] = [o1].[OrderId]
ORDER BY [o0].[OrderDate] DESC, [o0].[Id], [u].[Id]
2025-05-21 16:49:52.519 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetching home dashboard data.
2025-05-21 16:49:52.525 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit)
ORDER BY [b].[CreatedAtUtc] DESC
2025-05-21 16:49:52.529 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetched 10 newest books.
2025-05-21 16:49:52.540 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (7ms) [Parameters=[@__p_2='5', @__inclusiveStartDate_0='2025-04-21T00:00:00.0000000Z', @__inclusiveEndDate_1='2025-05-22T00:00:00.0000000Z'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[BookId], [b2].[Title] AS [BookTitle], [s].[TotalQuantitySold]
FROM (
    SELECT TOP(@__p_2) [o].[BookId], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold]
    FROM [OrderDetails] AS [o]
    INNER JOIN [Orders] AS [o0] ON [o].[OrderId] = [o0].[Id]
    INNER JOIN (
        SELECT [b].[Id], [b].[IsDeleted]
        FROM [Books] AS [b]
        WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ) AS [b0] ON [o].[BookId] = [b0].[Id]
    WHERE [o0].[Status] = CAST(3 AS tinyint) AND [o0].[OrderDate] >= @__inclusiveStartDate_0 AND [o0].[OrderDate] < @__inclusiveEndDate_1 AND [b0].[IsDeleted] = CAST(0 AS bit)
    GROUP BY [o].[BookId]
    ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC
) AS [s]
INNER JOIN (
    SELECT [b1].[Id], [b1].[Title]
    FROM [Books] AS [b1]
    WHERE [b1].[IsDeleted] = CAST(0 AS bit)
) AS [b2] ON [s].[BookId] = [b2].[Id]
ORDER BY [s].[TotalQuantitySold] DESC
2025-05-21 16:49:52.560 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (5ms) [Parameters=[@__bestsellerBookIds_0='["ba80e2b5-b426-44eb-acfa-06315f9fcb6b","c191919e-e763-4e03-9e2b-24d944f4d401","39f2e54f-3480-424d-9611-a9b9097314a9","6c50f852-d8c7-4ef9-a26a-c9d292ef9108","6d858026-d70a-4441-8837-01f8d972cb26"]' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Id] IN (
    SELECT [b0].[value]
    FROM OPENJSON(@__bestsellerBookIds_0) WITH ([value] uniqueidentifier '$') AS [b0]
) AND [b].[IsDeleted] = CAST(0 AS bit)
2025-05-21 16:49:52.565 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetched 5 bestselling books.
2025-05-21 16:49:52.571 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@__currentDate_0='2025-05-21T09:49:52.5669252Z', @__currentDate_1='2025-05-21T09:49:52.5669252Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Code], [p].[CreatedAtUtc], [p].[CurrentUsage], [p].[Description], [p].[DiscountAmount], [p].[DiscountPercentage], [p].[EndDate], [p].[IsActive], [p].[MaxUsage], [p].[StartDate], [p].[UpdatedAtUtc]
FROM [Promotions] AS [p]
WHERE [p].[IsActive] = CAST(1 AS bit) AND [p].[StartDate] <= @__currentDate_0 AND ([p].[EndDate] IS NULL OR [p].[EndDate] >= @__currentDate_1) AND ([p].[MaxUsage] IS NULL OR [p].[CurrentUsage] < [p].[MaxUsage])
ORDER BY [p].[EndDate]
2025-05-21 16:49:52.589 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[ParentCategoryId] IS NULL AND [c].[IsDeleted] = CAST(0 AS bit)
ORDER BY [c].[Name]
2025-05-21 16:49:52.594 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Successfully fetched home dashboard data.
2025-05-21 16:50:05.064 +07:00 [INF] (Bookstore.Application.Services.ReportService) Fetching admin dashboard summary.
2025-05-21 16:50:05.081 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (9ms) [Parameters=[@__todayStart_0='2025-05-21T00:00:00.0000000Z', @__tomorrowStart_1='2025-05-22T00:00:00.0000000Z'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[OrderDate] >= @__todayStart_0 AND [o].[OrderDate] < @__tomorrowStart_1 AND [o].[Status] <> CAST(4 AS tinyint)
2025-05-21 16:50:05.091 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__todayStart_0='2025-05-21T00:00:00.0000000Z', @__tomorrowStart_1='2025-05-22T00:00:00.0000000Z'], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalAmount]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[OrderDate] >= @__todayStart_0 AND [o].[OrderDate] < @__tomorrowStart_1 AND [o].[Status] = CAST(3 AS tinyint)
2025-05-21 16:50:05.105 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (5ms) [Parameters=[@__todayStart_0='2025-05-21T00:00:00.0000000Z', @__tomorrowStart_1='2025-05-22T00:00:00.0000000Z'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[CreatedAtUtc] >= @__todayStart_0 AND [u].[CreatedAtUtc] < @__tomorrowStart_1
2025-05-21 16:50:05.128 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (6ms) [Parameters=[@__lowStockThreshold_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Books] AS [b]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[IsDeleted] = CAST(0 AS bit) AND [b].[StockQuantity] > 0 AND [b].[StockQuantity] <= @__lowStockThreshold_0
2025-05-21 16:50:05.147 +07:00 [INF] (Bookstore.Application.Services.ReportService) Admin dashboard summary fetched successfully.
2025-05-21 16:50:06.463 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching all orders for Admin. Page: 1, PageSize: 15, StatusFilter: None
2025-05-21 16:50:06.467 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching all orders for Admin. Page: 1, PageSize: 15, StatusFilter: None
2025-05-21 16:50:06.472 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (5ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [o0].[Id], [o0].[CreatedAtUtc], [o0].[DeliveryMethod], [o0].[InvoiceNumber], [o0].[OrderDate], [o0].[OrderShippingAddressId], [o0].[OrderType], [o0].[PaymentMethod], [o0].[PaymentStatus], [o0].[Status], [o0].[TotalAmount], [o0].[TransactionId], [o0].[UpdatedAtUtc], [o0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName], [o1].[Id], [o1].[BookId], [o1].[OrderId], [o1].[Quantity], [o1].[UnitPrice]
FROM (
    SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
    FROM [Orders] AS [o]
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [o0]
LEFT JOIN [Users] AS [u] ON [o0].[UserId] = [u].[Id]
LEFT JOIN [OrderDetails] AS [o1] ON [o0].[Id] = [o1].[OrderId]
ORDER BY [o0].[OrderDate] DESC, [o0].[Id], [u].[Id]
2025-05-21 16:50:06.474 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [o0].[Id], [o0].[CreatedAtUtc], [o0].[DeliveryMethod], [o0].[InvoiceNumber], [o0].[OrderDate], [o0].[OrderShippingAddressId], [o0].[OrderType], [o0].[PaymentMethod], [o0].[PaymentStatus], [o0].[Status], [o0].[TotalAmount], [o0].[TransactionId], [o0].[UpdatedAtUtc], [o0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName], [o1].[Id], [o1].[BookId], [o1].[OrderId], [o1].[Quantity], [o1].[UnitPrice]
FROM (
    SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
    FROM [Orders] AS [o]
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [o0]
LEFT JOIN [Users] AS [u] ON [o0].[UserId] = [u].[Id]
LEFT JOIN [OrderDetails] AS [o1] ON [o0].[Id] = [o1].[OrderId]
ORDER BY [o0].[OrderDate] DESC, [o0].[Id], [u].[Id]
2025-05-21 16:50:07.860 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching all orders for Admin. Page: 1, PageSize: 15, StatusFilter: None
2025-05-21 16:50:07.864 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [o0].[Id], [o0].[CreatedAtUtc], [o0].[DeliveryMethod], [o0].[InvoiceNumber], [o0].[OrderDate], [o0].[OrderShippingAddressId], [o0].[OrderType], [o0].[PaymentMethod], [o0].[PaymentStatus], [o0].[Status], [o0].[TotalAmount], [o0].[TransactionId], [o0].[UpdatedAtUtc], [o0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName], [o1].[Id], [o1].[BookId], [o1].[OrderId], [o1].[Quantity], [o1].[UnitPrice]
FROM (
    SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
    FROM [Orders] AS [o]
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [o0]
LEFT JOIN [Users] AS [u] ON [o0].[UserId] = [u].[Id]
LEFT JOIN [OrderDetails] AS [o1] ON [o0].[Id] = [o1].[OrderId]
ORDER BY [o0].[OrderDate] DESC, [o0].[Id], [u].[Id]
2025-05-21 16:50:08.793 +07:00 [INF] (Bookstore.Application.Services.StockReceiptService) Fetching all stock receipts. Page: 1, PageSize: 15
2025-05-21 16:50:08.798 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [s1].[Id], [s1].[CreatedAtUtc], [s1].[Notes], [s1].[ReceiptDate], [s1].[SupplierId], [s1].[UpdatedAtUtc], [s0].[Id], [s0].[Address], [s0].[ContactPerson], [s0].[CreatedAtUtc], [s0].[Email], [s0].[Name], [s0].[Phone], [s0].[UpdatedAtUtc]
FROM (
    SELECT [s].[Id], [s].[CreatedAtUtc], [s].[Notes], [s].[ReceiptDate], [s].[SupplierId], [s].[UpdatedAtUtc]
    FROM [StockReceipts] AS [s]
    ORDER BY [s].[ReceiptDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [s1]
LEFT JOIN [Suppliers] AS [s0] ON [s1].[SupplierId] = [s0].[Id]
ORDER BY [s1].[ReceiptDate] DESC
2025-05-21 16:50:09.957 +07:00 [INF] (Bookstore.Application.Services.StockReceiptService) Fetching all stock receipts. Page: 1, PageSize: 15
2025-05-21 16:50:09.960 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [s1].[Id], [s1].[CreatedAtUtc], [s1].[Notes], [s1].[ReceiptDate], [s1].[SupplierId], [s1].[UpdatedAtUtc], [s0].[Id], [s0].[Address], [s0].[ContactPerson], [s0].[CreatedAtUtc], [s0].[Email], [s0].[Name], [s0].[Phone], [s0].[UpdatedAtUtc]
FROM (
    SELECT [s].[Id], [s].[CreatedAtUtc], [s].[Notes], [s].[ReceiptDate], [s].[SupplierId], [s].[UpdatedAtUtc]
    FROM [StockReceipts] AS [s]
    ORDER BY [s].[ReceiptDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [s1]
LEFT JOIN [Suppliers] AS [s0] ON [s1].[SupplierId] = [s0].[Id]
ORDER BY [s1].[ReceiptDate] DESC
2025-05-21 16:50:10.915 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__p_0='0', @__p_1='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit)
ORDER BY [c].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-21 16:50:11.007 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (5ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b0].[CategoryId] = [c0].[Id]
ORDER BY [b0].[CreatedAtUtc] DESC
2025-05-21 16:50:11.033 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b0].[CategoryId] = [c0].[Id]
ORDER BY [b0].[CreatedAtUtc] DESC
2025-05-21 16:50:11.271 +07:00 [INF] (Bookstore.Application.Services.AuthorService) Fetching all authors. Page: 1, PageSize: 10
2025-05-21 16:50:11.275 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Authors] AS [a]
ORDER BY [a].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-21 16:50:12.841 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b0].[CategoryId] = [c0].[Id]
ORDER BY [b0].[CreatedAtUtc] DESC
2025-05-21 16:50:13.686 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b0].[CategoryId] = [c0].[Id]
ORDER BY [b0].[CreatedAtUtc] DESC
2025-05-21 16:50:16.153 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit)
ORDER BY [c].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-21 16:50:22.438 +07:00 [INF] (Bookstore.Application.Services.AuthorService) Fetching all authors. Page: 1, PageSize: 15
2025-05-21 16:50:22.440 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Authors] AS [a]
ORDER BY [a].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-21 16:50:27.792 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b0].[CategoryId] = [c0].[Id]
ORDER BY [b0].[CreatedAtUtc] DESC
2025-05-21 16:50:29.333 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b0].[CategoryId] = [c0].[Id]
ORDER BY [b0].[CreatedAtUtc] DESC
2025-05-21 16:50:32.318 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b0].[CategoryId] = [c0].[Id]
ORDER BY [b0].[CreatedAtUtc] DESC
2025-05-21 16:50:49.767 +07:00 [INF] (Bookstore.Application.Services.SupplierService) Fetching all suppliers.
2025-05-21 16:50:49.771 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Address], [s].[ContactPerson], [s].[CreatedAtUtc], [s].[Email], [s].[Name], [s].[Phone], [s].[UpdatedAtUtc]
FROM [Suppliers] AS [s]
ORDER BY [s].[Name]
2025-05-21 16:50:50.613 +07:00 [INF] (Bookstore.Application.Services.ReportService) Fetching admin dashboard summary.
2025-05-21 16:50:50.618 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__todayStart_0='2025-05-21T00:00:00.0000000Z', @__tomorrowStart_1='2025-05-22T00:00:00.0000000Z'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[OrderDate] >= @__todayStart_0 AND [o].[OrderDate] < @__tomorrowStart_1 AND [o].[Status] <> CAST(4 AS tinyint)
2025-05-21 16:50:50.622 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__todayStart_0='2025-05-21T00:00:00.0000000Z', @__tomorrowStart_1='2025-05-22T00:00:00.0000000Z'], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalAmount]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[OrderDate] >= @__todayStart_0 AND [o].[OrderDate] < @__tomorrowStart_1 AND [o].[Status] = CAST(3 AS tinyint)
2025-05-21 16:50:50.627 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__todayStart_0='2025-05-21T00:00:00.0000000Z', @__tomorrowStart_1='2025-05-22T00:00:00.0000000Z'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[CreatedAtUtc] >= @__todayStart_0 AND [u].[CreatedAtUtc] < @__tomorrowStart_1
2025-05-21 16:50:50.630 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__lowStockThreshold_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Books] AS [b]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[IsDeleted] = CAST(0 AS bit) AND [b].[StockQuantity] > 0 AND [b].[StockQuantity] <= @__lowStockThreshold_0
2025-05-21 16:50:50.633 +07:00 [INF] (Bookstore.Application.Services.ReportService) Admin dashboard summary fetched successfully.
2025-05-21 16:51:02.172 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__p_0='0', @__p_1='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit)
ORDER BY [c].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-21 16:51:02.193 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='707f89a4-da65-4b5e-a890-485a3b929301' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__p_0
2025-05-21 16:51:05.926 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='707f89a4-da65-4b5e-a890-485a3b929301' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__p_0
2025-05-21 16:51:05.940 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (9ms) [Parameters=[@p6='707f89a4-da65-4b5e-a890-485a3b929301', @p0='2025-04-25T10:58:52.4200000', @p1='Books showcasing visual arts and photography.' (Size = 4000), @p2='False', @p3='Art & Photographoo' (Nullable = false) (Size = 4000), @p4=NULL (DbType = Guid), @p5='2025-05-21T09:51:05.9306416Z'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Categories] SET [CreatedAtUtc] = @p0, [Description] = @p1, [IsDeleted] = @p2, [Name] = @p3, [ParentCategoryId] = @p4, [UpdatedAtUtc] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2025-05-21 16:51:13.861 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit)
ORDER BY [c].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-21 16:51:13.889 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='707f89a4-da65-4b5e-a890-485a3b929301' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__p_0
2025-05-21 16:51:15.548 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__p_0='707f89a4-da65-4b5e-a890-485a3b929301' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__p_0
2025-05-21 16:51:15.553 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@p6='707f89a4-da65-4b5e-a890-485a3b929301', @p0='2025-04-25T10:58:52.4200000', @p1='Books showcasing visual arts and photography.' (Size = 4000), @p2='False', @p3='Art & Photographoo' (Nullable = false) (Size = 4000), @p4=NULL (DbType = Guid), @p5='2025-05-21T09:51:15.5518891Z'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Categories] SET [CreatedAtUtc] = @p0, [Description] = @p1, [IsDeleted] = @p2, [Name] = @p3, [ParentCategoryId] = @p4, [UpdatedAtUtc] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2025-05-21 16:51:27.755 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b0].[CategoryId] = [c0].[Id]
ORDER BY [b0].[CreatedAtUtc] DESC
2025-05-21 16:51:29.016 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b0].[CategoryId] = [c0].[Id]
ORDER BY [b0].[CreatedAtUtc] DESC
2025-05-21 16:51:29.025 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b0].[CategoryId] = [c0].[Id]
ORDER BY [b0].[CreatedAtUtc] DESC
2025-05-21 16:51:29.028 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b0].[CategoryId] = [c0].[Id]
ORDER BY [b0].[CreatedAtUtc] DESC
2025-05-21 16:51:29.884 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b0].[CategoryId] = [c0].[Id]
ORDER BY [b0].[CreatedAtUtc] DESC
2025-05-21 16:51:30.815 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b0].[CategoryId] = [c0].[Id]
ORDER BY [b0].[CreatedAtUtc] DESC
2025-05-21 16:51:32.643 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching all orders for Admin. Page: 1, PageSize: 15, StatusFilter: None
2025-05-21 16:51:32.643 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching all orders for Admin. Page: 1, PageSize: 15, StatusFilter: None
2025-05-21 16:51:32.650 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (5ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [o0].[Id], [o0].[CreatedAtUtc], [o0].[DeliveryMethod], [o0].[InvoiceNumber], [o0].[OrderDate], [o0].[OrderShippingAddressId], [o0].[OrderType], [o0].[PaymentMethod], [o0].[PaymentStatus], [o0].[Status], [o0].[TotalAmount], [o0].[TransactionId], [o0].[UpdatedAtUtc], [o0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName], [o1].[Id], [o1].[BookId], [o1].[OrderId], [o1].[Quantity], [o1].[UnitPrice]
FROM (
    SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
    FROM [Orders] AS [o]
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [o0]
LEFT JOIN [Users] AS [u] ON [o0].[UserId] = [u].[Id]
LEFT JOIN [OrderDetails] AS [o1] ON [o0].[Id] = [o1].[OrderId]
ORDER BY [o0].[OrderDate] DESC, [o0].[Id], [u].[Id]
2025-05-21 16:51:32.650 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [o0].[Id], [o0].[CreatedAtUtc], [o0].[DeliveryMethod], [o0].[InvoiceNumber], [o0].[OrderDate], [o0].[OrderShippingAddressId], [o0].[OrderType], [o0].[PaymentMethod], [o0].[PaymentStatus], [o0].[Status], [o0].[TotalAmount], [o0].[TransactionId], [o0].[UpdatedAtUtc], [o0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName], [o1].[Id], [o1].[BookId], [o1].[OrderId], [o1].[Quantity], [o1].[UnitPrice]
FROM (
    SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
    FROM [Orders] AS [o]
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [o0]
LEFT JOIN [Users] AS [u] ON [o0].[UserId] = [u].[Id]
LEFT JOIN [OrderDetails] AS [o1] ON [o0].[Id] = [o1].[OrderId]
ORDER BY [o0].[OrderDate] DESC, [o0].[Id], [u].[Id]
2025-05-21 16:51:33.535 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching all orders for Admin. Page: 1, PageSize: 15, StatusFilter: None
2025-05-21 16:51:33.538 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [o0].[Id], [o0].[CreatedAtUtc], [o0].[DeliveryMethod], [o0].[InvoiceNumber], [o0].[OrderDate], [o0].[OrderShippingAddressId], [o0].[OrderType], [o0].[PaymentMethod], [o0].[PaymentStatus], [o0].[Status], [o0].[TotalAmount], [o0].[TransactionId], [o0].[UpdatedAtUtc], [o0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName], [o1].[Id], [o1].[BookId], [o1].[OrderId], [o1].[Quantity], [o1].[UnitPrice]
FROM (
    SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
    FROM [Orders] AS [o]
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [o0]
LEFT JOIN [Users] AS [u] ON [o0].[UserId] = [u].[Id]
LEFT JOIN [OrderDetails] AS [o1] ON [o0].[Id] = [o1].[OrderId]
ORDER BY [o0].[OrderDate] DESC, [o0].[Id], [u].[Id]
2025-05-21 16:51:34.930 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching all orders for Admin. Page: 1, PageSize: 15, StatusFilter: None
2025-05-21 16:51:34.933 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [o0].[Id], [o0].[CreatedAtUtc], [o0].[DeliveryMethod], [o0].[InvoiceNumber], [o0].[OrderDate], [o0].[OrderShippingAddressId], [o0].[OrderType], [o0].[PaymentMethod], [o0].[PaymentStatus], [o0].[Status], [o0].[TotalAmount], [o0].[TransactionId], [o0].[UpdatedAtUtc], [o0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName], [o1].[Id], [o1].[BookId], [o1].[OrderId], [o1].[Quantity], [o1].[UnitPrice]
FROM (
    SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
    FROM [Orders] AS [o]
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [o0]
LEFT JOIN [Users] AS [u] ON [o0].[UserId] = [u].[Id]
LEFT JOIN [OrderDetails] AS [o1] ON [o0].[Id] = [o1].[OrderId]
ORDER BY [o0].[OrderDate] DESC, [o0].[Id], [u].[Id]
2025-05-21 16:51:36.729 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching all orders for Admin. Page: 1, PageSize: 15, StatusFilter: None
2025-05-21 16:51:36.733 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [o0].[Id], [o0].[CreatedAtUtc], [o0].[DeliveryMethod], [o0].[InvoiceNumber], [o0].[OrderDate], [o0].[OrderShippingAddressId], [o0].[OrderType], [o0].[PaymentMethod], [o0].[PaymentStatus], [o0].[Status], [o0].[TotalAmount], [o0].[TransactionId], [o0].[UpdatedAtUtc], [o0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName], [o1].[Id], [o1].[BookId], [o1].[OrderId], [o1].[Quantity], [o1].[UnitPrice]
FROM (
    SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
    FROM [Orders] AS [o]
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [o0]
LEFT JOIN [Users] AS [u] ON [o0].[UserId] = [u].[Id]
LEFT JOIN [OrderDetails] AS [o1] ON [o0].[Id] = [o1].[OrderId]
ORDER BY [o0].[OrderDate] DESC, [o0].[Id], [u].[Id]
2025-05-21 16:51:38.388 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching all orders for Admin. Page: 1, PageSize: 15, StatusFilter: None
2025-05-21 16:51:38.391 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [o0].[Id], [o0].[CreatedAtUtc], [o0].[DeliveryMethod], [o0].[InvoiceNumber], [o0].[OrderDate], [o0].[OrderShippingAddressId], [o0].[OrderType], [o0].[PaymentMethod], [o0].[PaymentStatus], [o0].[Status], [o0].[TotalAmount], [o0].[TransactionId], [o0].[UpdatedAtUtc], [o0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName], [o1].[Id], [o1].[BookId], [o1].[OrderId], [o1].[Quantity], [o1].[UnitPrice]
FROM (
    SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
    FROM [Orders] AS [o]
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [o0]
LEFT JOIN [Users] AS [u] ON [o0].[UserId] = [u].[Id]
LEFT JOIN [OrderDetails] AS [o1] ON [o0].[Id] = [o1].[OrderId]
ORDER BY [o0].[OrderDate] DESC, [o0].[Id], [u].[Id]
2025-05-21 16:51:39.849 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching all orders for Admin. Page: 1, PageSize: 15, StatusFilter: None
2025-05-21 16:51:39.852 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [o0].[Id], [o0].[CreatedAtUtc], [o0].[DeliveryMethod], [o0].[InvoiceNumber], [o0].[OrderDate], [o0].[OrderShippingAddressId], [o0].[OrderType], [o0].[PaymentMethod], [o0].[PaymentStatus], [o0].[Status], [o0].[TotalAmount], [o0].[TransactionId], [o0].[UpdatedAtUtc], [o0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName], [o1].[Id], [o1].[BookId], [o1].[OrderId], [o1].[Quantity], [o1].[UnitPrice]
FROM (
    SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
    FROM [Orders] AS [o]
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [o0]
LEFT JOIN [Users] AS [u] ON [o0].[UserId] = [u].[Id]
LEFT JOIN [OrderDetails] AS [o1] ON [o0].[Id] = [o1].[OrderId]
ORDER BY [o0].[OrderDate] DESC, [o0].[Id], [u].[Id]
2025-05-21 16:53:43.292 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetching home dashboard data.
2025-05-21 16:53:43.298 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit)
ORDER BY [b].[CreatedAtUtc] DESC
2025-05-21 16:53:43.300 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetched 10 newest books.
2025-05-21 16:53:43.313 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (7ms) [Parameters=[@__p_2='5', @__inclusiveStartDate_0='2025-04-21T00:00:00.0000000Z', @__inclusiveEndDate_1='2025-05-22T00:00:00.0000000Z'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[BookId], [b2].[Title] AS [BookTitle], [s].[TotalQuantitySold]
FROM (
    SELECT TOP(@__p_2) [o].[BookId], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold]
    FROM [OrderDetails] AS [o]
    INNER JOIN [Orders] AS [o0] ON [o].[OrderId] = [o0].[Id]
    INNER JOIN (
        SELECT [b].[Id], [b].[IsDeleted]
        FROM [Books] AS [b]
        WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ) AS [b0] ON [o].[BookId] = [b0].[Id]
    WHERE [o0].[Status] = CAST(3 AS tinyint) AND [o0].[OrderDate] >= @__inclusiveStartDate_0 AND [o0].[OrderDate] < @__inclusiveEndDate_1 AND [b0].[IsDeleted] = CAST(0 AS bit)
    GROUP BY [o].[BookId]
    ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC
) AS [s]
INNER JOIN (
    SELECT [b1].[Id], [b1].[Title]
    FROM [Books] AS [b1]
    WHERE [b1].[IsDeleted] = CAST(0 AS bit)
) AS [b2] ON [s].[BookId] = [b2].[Id]
ORDER BY [s].[TotalQuantitySold] DESC
2025-05-21 16:53:43.322 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (5ms) [Parameters=[@__bestsellerBookIds_0='["ba80e2b5-b426-44eb-acfa-06315f9fcb6b","c191919e-e763-4e03-9e2b-24d944f4d401","39f2e54f-3480-424d-9611-a9b9097314a9","6c50f852-d8c7-4ef9-a26a-c9d292ef9108","6d858026-d70a-4441-8837-01f8d972cb26"]' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Id] IN (
    SELECT [b0].[value]
    FROM OPENJSON(@__bestsellerBookIds_0) WITH ([value] uniqueidentifier '$') AS [b0]
) AND [b].[IsDeleted] = CAST(0 AS bit)
2025-05-21 16:53:43.331 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetched 5 bestselling books.
2025-05-21 16:53:43.338 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@__currentDate_0='2025-05-21T09:53:43.3338184Z', @__currentDate_1='2025-05-21T09:53:43.3338184Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Code], [p].[CreatedAtUtc], [p].[CurrentUsage], [p].[Description], [p].[DiscountAmount], [p].[DiscountPercentage], [p].[EndDate], [p].[IsActive], [p].[MaxUsage], [p].[StartDate], [p].[UpdatedAtUtc]
FROM [Promotions] AS [p]
WHERE [p].[IsActive] = CAST(1 AS bit) AND [p].[StartDate] <= @__currentDate_0 AND ([p].[EndDate] IS NULL OR [p].[EndDate] >= @__currentDate_1) AND ([p].[MaxUsage] IS NULL OR [p].[CurrentUsage] < [p].[MaxUsage])
ORDER BY [p].[EndDate]
2025-05-21 16:53:43.354 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[ParentCategoryId] IS NULL AND [c].[IsDeleted] = CAST(0 AS bit)
ORDER BY [c].[Name]
2025-05-21 16:53:43.357 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Successfully fetched home dashboard data.
2025-05-21 16:53:53.251 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__p_0='0', @__p_1='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit)
ORDER BY [c].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-21 16:53:55.612 +07:00 [INF] (Bookstore.Application.Services.ReportService) Fetching admin dashboard summary.
2025-05-21 16:53:55.617 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__todayStart_0='2025-05-21T00:00:00.0000000Z', @__tomorrowStart_1='2025-05-22T00:00:00.0000000Z'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[OrderDate] >= @__todayStart_0 AND [o].[OrderDate] < @__tomorrowStart_1 AND [o].[Status] <> CAST(4 AS tinyint)
2025-05-21 16:53:55.622 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__todayStart_0='2025-05-21T00:00:00.0000000Z', @__tomorrowStart_1='2025-05-22T00:00:00.0000000Z'], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalAmount]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[OrderDate] >= @__todayStart_0 AND [o].[OrderDate] < @__tomorrowStart_1 AND [o].[Status] = CAST(3 AS tinyint)
2025-05-21 16:53:55.629 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__todayStart_0='2025-05-21T00:00:00.0000000Z', @__tomorrowStart_1='2025-05-22T00:00:00.0000000Z'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[CreatedAtUtc] >= @__todayStart_0 AND [u].[CreatedAtUtc] < @__tomorrowStart_1
2025-05-21 16:53:55.649 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__lowStockThreshold_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Books] AS [b]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[IsDeleted] = CAST(0 AS bit) AND [b].[StockQuantity] > 0 AND [b].[StockQuantity] <= @__lowStockThreshold_0
2025-05-21 16:53:55.654 +07:00 [INF] (Bookstore.Application.Services.ReportService) Admin dashboard summary fetched successfully.
2025-05-21 16:53:57.345 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching all orders for Admin. Page: 1, PageSize: 15, StatusFilter: None
2025-05-21 16:53:57.351 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching all orders for Admin. Page: 1, PageSize: 15, StatusFilter: None
2025-05-21 16:53:57.362 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (14ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [o0].[Id], [o0].[CreatedAtUtc], [o0].[DeliveryMethod], [o0].[InvoiceNumber], [o0].[OrderDate], [o0].[OrderShippingAddressId], [o0].[OrderType], [o0].[PaymentMethod], [o0].[PaymentStatus], [o0].[Status], [o0].[TotalAmount], [o0].[TransactionId], [o0].[UpdatedAtUtc], [o0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName], [o1].[Id], [o1].[BookId], [o1].[OrderId], [o1].[Quantity], [o1].[UnitPrice]
FROM (
    SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
    FROM [Orders] AS [o]
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [o0]
LEFT JOIN [Users] AS [u] ON [o0].[UserId] = [u].[Id]
LEFT JOIN [OrderDetails] AS [o1] ON [o0].[Id] = [o1].[OrderId]
ORDER BY [o0].[OrderDate] DESC, [o0].[Id], [u].[Id]
2025-05-21 16:53:57.370 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [o0].[Id], [o0].[CreatedAtUtc], [o0].[DeliveryMethod], [o0].[InvoiceNumber], [o0].[OrderDate], [o0].[OrderShippingAddressId], [o0].[OrderType], [o0].[PaymentMethod], [o0].[PaymentStatus], [o0].[Status], [o0].[TotalAmount], [o0].[TransactionId], [o0].[UpdatedAtUtc], [o0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName], [o1].[Id], [o1].[BookId], [o1].[OrderId], [o1].[Quantity], [o1].[UnitPrice]
FROM (
    SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
    FROM [Orders] AS [o]
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [o0]
LEFT JOIN [Users] AS [u] ON [o0].[UserId] = [u].[Id]
LEFT JOIN [OrderDetails] AS [o1] ON [o0].[Id] = [o1].[OrderId]
ORDER BY [o0].[OrderDate] DESC, [o0].[Id], [u].[Id]
2025-05-21 16:53:59.637 +07:00 [INF] (Bookstore.Application.Services.StockReceiptService) Fetching all stock receipts. Page: 1, PageSize: 15
2025-05-21 16:53:59.642 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [s1].[Id], [s1].[CreatedAtUtc], [s1].[Notes], [s1].[ReceiptDate], [s1].[SupplierId], [s1].[UpdatedAtUtc], [s0].[Id], [s0].[Address], [s0].[ContactPerson], [s0].[CreatedAtUtc], [s0].[Email], [s0].[Name], [s0].[Phone], [s0].[UpdatedAtUtc]
FROM (
    SELECT [s].[Id], [s].[CreatedAtUtc], [s].[Notes], [s].[ReceiptDate], [s].[SupplierId], [s].[UpdatedAtUtc]
    FROM [StockReceipts] AS [s]
    ORDER BY [s].[ReceiptDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [s1]
LEFT JOIN [Suppliers] AS [s0] ON [s1].[SupplierId] = [s0].[Id]
ORDER BY [s1].[ReceiptDate] DESC
2025-05-21 16:54:00.306 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__p_0='0', @__p_1='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit)
ORDER BY [c].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-21 16:54:00.336 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (5ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b0].[CategoryId] = [c0].[Id]
ORDER BY [b0].[CreatedAtUtc] DESC
2025-05-21 16:54:00.343 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b0].[CategoryId] = [c0].[Id]
ORDER BY [b0].[CreatedAtUtc] DESC
2025-05-21 16:54:00.495 +07:00 [INF] (Bookstore.Application.Services.AuthorService) Fetching all authors. Page: 1, PageSize: 10
2025-05-21 16:54:00.498 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Authors] AS [a]
ORDER BY [a].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-21 16:54:05.201 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (6ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b0].[CategoryId] = [c0].[Id]
ORDER BY [b0].[CreatedAtUtc] DESC
2025-05-21 16:54:05.202 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b0].[CategoryId] = [c0].[Id]
ORDER BY [b0].[CreatedAtUtc] DESC
2025-05-21 16:54:05.239 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b0].[CategoryId] = [c0].[Id]
ORDER BY [b0].[CreatedAtUtc] DESC
2025-05-21 16:54:07.765 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b0].[CategoryId] = [c0].[Id]
ORDER BY [b0].[CreatedAtUtc] DESC
2025-05-21 16:54:09.636 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b0].[CategoryId] = [c0].[Id]
ORDER BY [b0].[CreatedAtUtc] DESC
2025-05-21 16:54:11.312 +07:00 [INF] (Bookstore.Application.Services.AuthorService) Fetching all authors. Page: 1, PageSize: 15
2025-05-21 16:54:11.315 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Authors] AS [a]
ORDER BY [a].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-21 16:57:41.495 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetching home dashboard data.
2025-05-21 16:57:41.501 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit)
ORDER BY [b].[CreatedAtUtc] DESC
2025-05-21 16:57:41.504 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetched 10 newest books.
2025-05-21 16:57:41.512 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (6ms) [Parameters=[@__p_2='5', @__inclusiveStartDate_0='2025-04-21T00:00:00.0000000Z', @__inclusiveEndDate_1='2025-05-22T00:00:00.0000000Z'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[BookId], [b2].[Title] AS [BookTitle], [s].[TotalQuantitySold]
FROM (
    SELECT TOP(@__p_2) [o].[BookId], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold]
    FROM [OrderDetails] AS [o]
    INNER JOIN [Orders] AS [o0] ON [o].[OrderId] = [o0].[Id]
    INNER JOIN (
        SELECT [b].[Id], [b].[IsDeleted]
        FROM [Books] AS [b]
        WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ) AS [b0] ON [o].[BookId] = [b0].[Id]
    WHERE [o0].[Status] = CAST(3 AS tinyint) AND [o0].[OrderDate] >= @__inclusiveStartDate_0 AND [o0].[OrderDate] < @__inclusiveEndDate_1 AND [b0].[IsDeleted] = CAST(0 AS bit)
    GROUP BY [o].[BookId]
    ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC
) AS [s]
INNER JOIN (
    SELECT [b1].[Id], [b1].[Title]
    FROM [Books] AS [b1]
    WHERE [b1].[IsDeleted] = CAST(0 AS bit)
) AS [b2] ON [s].[BookId] = [b2].[Id]
ORDER BY [s].[TotalQuantitySold] DESC
2025-05-21 16:57:41.522 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (6ms) [Parameters=[@__bestsellerBookIds_0='["ba80e2b5-b426-44eb-acfa-06315f9fcb6b","c191919e-e763-4e03-9e2b-24d944f4d401","39f2e54f-3480-424d-9611-a9b9097314a9","6c50f852-d8c7-4ef9-a26a-c9d292ef9108","6d858026-d70a-4441-8837-01f8d972cb26"]' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Id] IN (
    SELECT [b0].[value]
    FROM OPENJSON(@__bestsellerBookIds_0) WITH ([value] uniqueidentifier '$') AS [b0]
) AND [b].[IsDeleted] = CAST(0 AS bit)
2025-05-21 16:57:41.528 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetched 5 bestselling books.
2025-05-21 16:57:41.533 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@__currentDate_0='2025-05-21T09:57:41.5293799Z', @__currentDate_1='2025-05-21T09:57:41.5293799Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Code], [p].[CreatedAtUtc], [p].[CurrentUsage], [p].[Description], [p].[DiscountAmount], [p].[DiscountPercentage], [p].[EndDate], [p].[IsActive], [p].[MaxUsage], [p].[StartDate], [p].[UpdatedAtUtc]
FROM [Promotions] AS [p]
WHERE [p].[IsActive] = CAST(1 AS bit) AND [p].[StartDate] <= @__currentDate_0 AND ([p].[EndDate] IS NULL OR [p].[EndDate] >= @__currentDate_1) AND ([p].[MaxUsage] IS NULL OR [p].[CurrentUsage] < [p].[MaxUsage])
ORDER BY [p].[EndDate]
2025-05-21 16:57:41.547 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[ParentCategoryId] IS NULL AND [c].[IsDeleted] = CAST(0 AS bit)
ORDER BY [c].[Name]
2025-05-21 16:57:41.550 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Successfully fetched home dashboard data.
2025-05-21 16:58:19.989 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetching home dashboard data.
2025-05-21 16:58:19.991 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit)
ORDER BY [b].[CreatedAtUtc] DESC
2025-05-21 16:58:19.993 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetched 10 newest books.
2025-05-21 16:58:19.995 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_2='5', @__inclusiveStartDate_0='2025-04-21T00:00:00.0000000Z', @__inclusiveEndDate_1='2025-05-22T00:00:00.0000000Z'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[BookId], [b2].[Title] AS [BookTitle], [s].[TotalQuantitySold]
FROM (
    SELECT TOP(@__p_2) [o].[BookId], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold]
    FROM [OrderDetails] AS [o]
    INNER JOIN [Orders] AS [o0] ON [o].[OrderId] = [o0].[Id]
    INNER JOIN (
        SELECT [b].[Id], [b].[IsDeleted]
        FROM [Books] AS [b]
        WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ) AS [b0] ON [o].[BookId] = [b0].[Id]
    WHERE [o0].[Status] = CAST(3 AS tinyint) AND [o0].[OrderDate] >= @__inclusiveStartDate_0 AND [o0].[OrderDate] < @__inclusiveEndDate_1 AND [b0].[IsDeleted] = CAST(0 AS bit)
    GROUP BY [o].[BookId]
    ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC
) AS [s]
INNER JOIN (
    SELECT [b1].[Id], [b1].[Title]
    FROM [Books] AS [b1]
    WHERE [b1].[IsDeleted] = CAST(0 AS bit)
) AS [b2] ON [s].[BookId] = [b2].[Id]
ORDER BY [s].[TotalQuantitySold] DESC
2025-05-21 16:58:20.000 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__bestsellerBookIds_0='["ba80e2b5-b426-44eb-acfa-06315f9fcb6b","c191919e-e763-4e03-9e2b-24d944f4d401","39f2e54f-3480-424d-9611-a9b9097314a9","6c50f852-d8c7-4ef9-a26a-c9d292ef9108","6d858026-d70a-4441-8837-01f8d972cb26"]' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Id] IN (
    SELECT [b0].[value]
    FROM OPENJSON(@__bestsellerBookIds_0) WITH ([value] uniqueidentifier '$') AS [b0]
) AND [b].[IsDeleted] = CAST(0 AS bit)
2025-05-21 16:58:20.004 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetched 5 bestselling books.
2025-05-21 16:58:20.006 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__currentDate_0='2025-05-21T09:58:20.0058387Z', @__currentDate_1='2025-05-21T09:58:20.0058387Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Code], [p].[CreatedAtUtc], [p].[CurrentUsage], [p].[Description], [p].[DiscountAmount], [p].[DiscountPercentage], [p].[EndDate], [p].[IsActive], [p].[MaxUsage], [p].[StartDate], [p].[UpdatedAtUtc]
FROM [Promotions] AS [p]
WHERE [p].[IsActive] = CAST(1 AS bit) AND [p].[StartDate] <= @__currentDate_0 AND ([p].[EndDate] IS NULL OR [p].[EndDate] >= @__currentDate_1) AND ([p].[MaxUsage] IS NULL OR [p].[CurrentUsage] < [p].[MaxUsage])
ORDER BY [p].[EndDate]
2025-05-21 16:58:20.015 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[ParentCategoryId] IS NULL AND [c].[IsDeleted] = CAST(0 AS bit)
ORDER BY [c].[Name]
2025-05-21 16:58:20.019 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Successfully fetched home dashboard data.
2025-05-21 16:58:23.453 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__p_0='0', @__p_1='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit)
ORDER BY [c].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-21 16:58:25.556 +07:00 [INF] (Bookstore.Application.Services.ReportService) Fetching admin dashboard summary.
2025-05-21 16:58:25.561 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@__todayStart_0='2025-05-21T00:00:00.0000000Z', @__tomorrowStart_1='2025-05-22T00:00:00.0000000Z'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[OrderDate] >= @__todayStart_0 AND [o].[OrderDate] < @__tomorrowStart_1 AND [o].[Status] <> CAST(4 AS tinyint)
2025-05-21 16:58:25.569 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@__todayStart_0='2025-05-21T00:00:00.0000000Z', @__tomorrowStart_1='2025-05-22T00:00:00.0000000Z'], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalAmount]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[OrderDate] >= @__todayStart_0 AND [o].[OrderDate] < @__tomorrowStart_1 AND [o].[Status] = CAST(3 AS tinyint)
2025-05-21 16:58:25.582 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__todayStart_0='2025-05-21T00:00:00.0000000Z', @__tomorrowStart_1='2025-05-22T00:00:00.0000000Z'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[CreatedAtUtc] >= @__todayStart_0 AND [u].[CreatedAtUtc] < @__tomorrowStart_1
2025-05-21 16:58:25.589 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__lowStockThreshold_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Books] AS [b]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[IsDeleted] = CAST(0 AS bit) AND [b].[StockQuantity] > 0 AND [b].[StockQuantity] <= @__lowStockThreshold_0
2025-05-21 16:58:25.593 +07:00 [INF] (Bookstore.Application.Services.ReportService) Admin dashboard summary fetched successfully.
2025-05-21 16:58:26.564 +07:00 [INF] (Bookstore.Application.Services.AuthorService) Fetching all authors. Page: 1, PageSize: 15
2025-05-21 16:58:26.567 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Authors] AS [a]
ORDER BY [a].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-21 16:58:43.061 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit)
ORDER BY [c].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-21 16:58:49.964 +07:00 [INF] (Bookstore.Application.Services.StockReceiptService) Fetching all stock receipts. Page: 1, PageSize: 15
2025-05-21 16:58:49.969 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [s1].[Id], [s1].[CreatedAtUtc], [s1].[Notes], [s1].[ReceiptDate], [s1].[SupplierId], [s1].[UpdatedAtUtc], [s0].[Id], [s0].[Address], [s0].[ContactPerson], [s0].[CreatedAtUtc], [s0].[Email], [s0].[Name], [s0].[Phone], [s0].[UpdatedAtUtc]
FROM (
    SELECT [s].[Id], [s].[CreatedAtUtc], [s].[Notes], [s].[ReceiptDate], [s].[SupplierId], [s].[UpdatedAtUtc]
    FROM [StockReceipts] AS [s]
    ORDER BY [s].[ReceiptDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [s1]
LEFT JOIN [Suppliers] AS [s0] ON [s1].[SupplierId] = [s0].[Id]
ORDER BY [s1].[ReceiptDate] DESC
2025-05-21 16:58:52.426 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit)
ORDER BY [c].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-21 16:58:52.480 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (7ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b0].[CategoryId] = [c0].[Id]
ORDER BY [b0].[CreatedAtUtc] DESC
2025-05-21 16:58:52.482 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[AuthorId], [b0].[CategoryId], [b0].[CoverImageUrl], [b0].[CreatedAtUtc], [b0].[Description], [b0].[ISBN], [b0].[IsDeleted], [b0].[Price], [b0].[PublicationYear], [b0].[Publisher], [b0].[StockQuantity], [b0].[Title], [b0].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc], [c0].[Id], [c0].[CreatedAtUtc], [c0].[Description], [c0].[IsDeleted], [c0].[Name], [c0].[ParentCategoryId], [c0].[UpdatedAtUtc]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc]
    FROM [Books] AS [b]
    WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [b].[CreatedAtUtc] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
LEFT JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
INNER JOIN (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
    FROM [Categories] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit)
) AS [c0] ON [b0].[CategoryId] = [c0].[Id]
ORDER BY [b0].[CreatedAtUtc] DESC
2025-05-21 16:58:52.656 +07:00 [INF] (Bookstore.Application.Services.AuthorService) Fetching all authors. Page: 1, PageSize: 10
2025-05-21 16:58:52.660 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__p_0='0', @__p_1='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Authors] AS [a]
ORDER BY [a].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-21 16:58:56.909 +07:00 [INF] (Bookstore.Application.Services.StockReceiptService) Fetching all stock receipts. Page: 1, PageSize: 15
2025-05-21 16:58:56.912 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [s1].[Id], [s1].[CreatedAtUtc], [s1].[Notes], [s1].[ReceiptDate], [s1].[SupplierId], [s1].[UpdatedAtUtc], [s0].[Id], [s0].[Address], [s0].[ContactPerson], [s0].[CreatedAtUtc], [s0].[Email], [s0].[Name], [s0].[Phone], [s0].[UpdatedAtUtc]
FROM (
    SELECT [s].[Id], [s].[CreatedAtUtc], [s].[Notes], [s].[ReceiptDate], [s].[SupplierId], [s].[UpdatedAtUtc]
    FROM [StockReceipts] AS [s]
    ORDER BY [s].[ReceiptDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [s1]
LEFT JOIN [Suppliers] AS [s0] ON [s1].[SupplierId] = [s0].[Id]
ORDER BY [s1].[ReceiptDate] DESC
2025-05-21 16:58:59.050 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching all orders for Admin. Page: 1, PageSize: 15, StatusFilter: None
2025-05-21 16:58:59.050 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching all orders for Admin. Page: 1, PageSize: 15, StatusFilter: None
2025-05-21 16:58:59.057 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (5ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [o0].[Id], [o0].[CreatedAtUtc], [o0].[DeliveryMethod], [o0].[InvoiceNumber], [o0].[OrderDate], [o0].[OrderShippingAddressId], [o0].[OrderType], [o0].[PaymentMethod], [o0].[PaymentStatus], [o0].[Status], [o0].[TotalAmount], [o0].[TransactionId], [o0].[UpdatedAtUtc], [o0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName], [o1].[Id], [o1].[BookId], [o1].[OrderId], [o1].[Quantity], [o1].[UnitPrice]
FROM (
    SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
    FROM [Orders] AS [o]
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [o0]
LEFT JOIN [Users] AS [u] ON [o0].[UserId] = [u].[Id]
LEFT JOIN [OrderDetails] AS [o1] ON [o0].[Id] = [o1].[OrderId]
ORDER BY [o0].[OrderDate] DESC, [o0].[Id], [u].[Id]
2025-05-21 16:58:59.059 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (6ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [o0].[Id], [o0].[CreatedAtUtc], [o0].[DeliveryMethod], [o0].[InvoiceNumber], [o0].[OrderDate], [o0].[OrderShippingAddressId], [o0].[OrderType], [o0].[PaymentMethod], [o0].[PaymentStatus], [o0].[Status], [o0].[TotalAmount], [o0].[TransactionId], [o0].[UpdatedAtUtc], [o0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName], [o1].[Id], [o1].[BookId], [o1].[OrderId], [o1].[Quantity], [o1].[UnitPrice]
FROM (
    SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
    FROM [Orders] AS [o]
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [o0]
LEFT JOIN [Users] AS [u] ON [o0].[UserId] = [u].[Id]
LEFT JOIN [OrderDetails] AS [o1] ON [o0].[Id] = [o1].[OrderId]
ORDER BY [o0].[OrderDate] DESC, [o0].[Id], [u].[Id]
2025-05-21 16:59:02.296 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching all orders for Admin. Page: 1, PageSize: 15, StatusFilter: None
2025-05-21 16:59:02.299 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [o0].[Id], [o0].[CreatedAtUtc], [o0].[DeliveryMethod], [o0].[InvoiceNumber], [o0].[OrderDate], [o0].[OrderShippingAddressId], [o0].[OrderType], [o0].[PaymentMethod], [o0].[PaymentStatus], [o0].[Status], [o0].[TotalAmount], [o0].[TransactionId], [o0].[UpdatedAtUtc], [o0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName], [o1].[Id], [o1].[BookId], [o1].[OrderId], [o1].[Quantity], [o1].[UnitPrice]
FROM (
    SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
    FROM [Orders] AS [o]
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [o0]
LEFT JOIN [Users] AS [u] ON [o0].[UserId] = [u].[Id]
LEFT JOIN [OrderDetails] AS [o1] ON [o0].[Id] = [o1].[OrderId]
ORDER BY [o0].[OrderDate] DESC, [o0].[Id], [u].[Id]
2025-05-21 16:59:02.301 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching all orders for Admin. Page: 1, PageSize: 15, StatusFilter: None
2025-05-21 16:59:02.305 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [o0].[Id], [o0].[CreatedAtUtc], [o0].[DeliveryMethod], [o0].[InvoiceNumber], [o0].[OrderDate], [o0].[OrderShippingAddressId], [o0].[OrderType], [o0].[PaymentMethod], [o0].[PaymentStatus], [o0].[Status], [o0].[TotalAmount], [o0].[TransactionId], [o0].[UpdatedAtUtc], [o0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName], [o1].[Id], [o1].[BookId], [o1].[OrderId], [o1].[Quantity], [o1].[UnitPrice]
FROM (
    SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
    FROM [Orders] AS [o]
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [o0]
LEFT JOIN [Users] AS [u] ON [o0].[UserId] = [u].[Id]
LEFT JOIN [OrderDetails] AS [o1] ON [o0].[Id] = [o1].[OrderId]
ORDER BY [o0].[OrderDate] DESC, [o0].[Id], [u].[Id]
2025-05-21 16:59:19.573 +07:00 [INF] (Bookstore.Application.Services.AuthorService) Attempting to update author "e5f6a1b2-c3d4-4e5f-8a6b-5c4d5e6f7a8b"
2025-05-21 16:59:19.577 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='e5f6a1b2-c3d4-4e5f-8a6b-5c4d5e6f7a8b' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Authors] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-21 16:59:19.582 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__ToLower_0='thihn' (Size = 4000), @__id_1='e5f6a1b2-c3d4-4e5f-8a6b-5c4d5e6f7a8b'], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Authors] AS [a]
WHERE LOWER([a].[Name]) = @__ToLower_0 AND [a].[Id] <> @__id_1
2025-05-21 16:59:19.587 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@p4='e5f6a1b2-c3d4-4e5f-8a6b-5c4d5e6f7a8b', @p0=NULL (Size = 4000), @p1='2025-04-11T16:14:19.0666667', @p2='thihn' (Nullable = false) (Size = 4000), @p3='2025-05-21T09:59:19.5854348Z'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Authors] SET [Biography] = @p0, [CreatedAtUtc] = @p1, [Name] = @p2, [UpdatedAtUtc] = @p3
OUTPUT 1
WHERE [Id] = @p4;
2025-05-21 16:59:19.590 +07:00 [INF] (Bookstore.Application.Services.AuthorService) Author "e5f6a1b2-c3d4-4e5f-8a6b-5c4d5e6f7a8b" updated successfully.
2025-05-21 17:00:02.035 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching all orders for Admin. Page: 1, PageSize: 15, StatusFilter: None
2025-05-21 17:00:02.038 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching all orders for Admin. Page: 1, PageSize: 15, StatusFilter: None
2025-05-21 17:00:02.051 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (11ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [o0].[Id], [o0].[CreatedAtUtc], [o0].[DeliveryMethod], [o0].[InvoiceNumber], [o0].[OrderDate], [o0].[OrderShippingAddressId], [o0].[OrderType], [o0].[PaymentMethod], [o0].[PaymentStatus], [o0].[Status], [o0].[TotalAmount], [o0].[TransactionId], [o0].[UpdatedAtUtc], [o0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName], [o1].[Id], [o1].[BookId], [o1].[OrderId], [o1].[Quantity], [o1].[UnitPrice]
FROM (
    SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
    FROM [Orders] AS [o]
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [o0]
LEFT JOIN [Users] AS [u] ON [o0].[UserId] = [u].[Id]
LEFT JOIN [OrderDetails] AS [o1] ON [o0].[Id] = [o1].[OrderId]
ORDER BY [o0].[OrderDate] DESC, [o0].[Id], [u].[Id]
2025-05-21 17:00:02.052 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (15ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [o0].[Id], [o0].[CreatedAtUtc], [o0].[DeliveryMethod], [o0].[InvoiceNumber], [o0].[OrderDate], [o0].[OrderShippingAddressId], [o0].[OrderType], [o0].[PaymentMethod], [o0].[PaymentStatus], [o0].[Status], [o0].[TotalAmount], [o0].[TransactionId], [o0].[UpdatedAtUtc], [o0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName], [o1].[Id], [o1].[BookId], [o1].[OrderId], [o1].[Quantity], [o1].[UnitPrice]
FROM (
    SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
    FROM [Orders] AS [o]
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [o0]
LEFT JOIN [Users] AS [u] ON [o0].[UserId] = [u].[Id]
LEFT JOIN [OrderDetails] AS [o1] ON [o0].[Id] = [o1].[OrderId]
ORDER BY [o0].[OrderDate] DESC, [o0].[Id], [u].[Id]
2025-05-21 17:00:03.258 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching all orders for Admin. Page: 1, PageSize: 15, StatusFilter: None
2025-05-21 17:00:03.261 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [o0].[Id], [o0].[CreatedAtUtc], [o0].[DeliveryMethod], [o0].[InvoiceNumber], [o0].[OrderDate], [o0].[OrderShippingAddressId], [o0].[OrderType], [o0].[PaymentMethod], [o0].[PaymentStatus], [o0].[Status], [o0].[TotalAmount], [o0].[TransactionId], [o0].[UpdatedAtUtc], [o0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName], [o1].[Id], [o1].[BookId], [o1].[OrderId], [o1].[Quantity], [o1].[UnitPrice]
FROM (
    SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
    FROM [Orders] AS [o]
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [o0]
LEFT JOIN [Users] AS [u] ON [o0].[UserId] = [u].[Id]
LEFT JOIN [OrderDetails] AS [o1] ON [o0].[Id] = [o1].[OrderId]
ORDER BY [o0].[OrderDate] DESC, [o0].[Id], [u].[Id]
2025-05-21 17:00:04.104 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching all orders for Admin. Page: 1, PageSize: 15, StatusFilter: None
2025-05-21 17:00:04.108 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [o0].[Id], [o0].[CreatedAtUtc], [o0].[DeliveryMethod], [o0].[InvoiceNumber], [o0].[OrderDate], [o0].[OrderShippingAddressId], [o0].[OrderType], [o0].[PaymentMethod], [o0].[PaymentStatus], [o0].[Status], [o0].[TotalAmount], [o0].[TransactionId], [o0].[UpdatedAtUtc], [o0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName], [o1].[Id], [o1].[BookId], [o1].[OrderId], [o1].[Quantity], [o1].[UnitPrice]
FROM (
    SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
    FROM [Orders] AS [o]
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [o0]
LEFT JOIN [Users] AS [u] ON [o0].[UserId] = [u].[Id]
LEFT JOIN [OrderDetails] AS [o1] ON [o0].[Id] = [o1].[OrderId]
ORDER BY [o0].[OrderDate] DESC, [o0].[Id], [u].[Id]
2025-05-21 17:00:05.534 +07:00 [INF] (Bookstore.Application.Services.OrderService) Fetching all orders for Admin. Page: 1, PageSize: 15, StatusFilter: None
2025-05-21 17:00:05.538 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [o0].[Id], [o0].[CreatedAtUtc], [o0].[DeliveryMethod], [o0].[InvoiceNumber], [o0].[OrderDate], [o0].[OrderShippingAddressId], [o0].[OrderType], [o0].[PaymentMethod], [o0].[PaymentStatus], [o0].[Status], [o0].[TotalAmount], [o0].[TransactionId], [o0].[UpdatedAtUtc], [o0].[UserId], [u].[Id], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[UpdatedAtUtc], [u].[UserName], [o1].[Id], [o1].[BookId], [o1].[OrderId], [o1].[Quantity], [o1].[UnitPrice]
FROM (
    SELECT [o].[Id], [o].[CreatedAtUtc], [o].[DeliveryMethod], [o].[InvoiceNumber], [o].[OrderDate], [o].[OrderShippingAddressId], [o].[OrderType], [o].[PaymentMethod], [o].[PaymentStatus], [o].[Status], [o].[TotalAmount], [o].[TransactionId], [o].[UpdatedAtUtc], [o].[UserId]
    FROM [Orders] AS [o]
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [o0]
LEFT JOIN [Users] AS [u] ON [o0].[UserId] = [u].[Id]
LEFT JOIN [OrderDetails] AS [o1] ON [o0].[Id] = [o1].[OrderId]
ORDER BY [o0].[OrderDate] DESC, [o0].[Id], [u].[Id]
2025-05-21 17:06:00.142 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetching home dashboard data.
2025-05-21 17:06:00.188 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit)
ORDER BY [b].[CreatedAtUtc] DESC
2025-05-21 17:06:00.190 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetched 10 newest books.
2025-05-21 17:06:00.201 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (9ms) [Parameters=[@__p_2='5', @__inclusiveStartDate_0='2025-04-21T00:00:00.0000000Z', @__inclusiveEndDate_1='2025-05-22T00:00:00.0000000Z'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[BookId], [b2].[Title] AS [BookTitle], [s].[TotalQuantitySold]
FROM (
    SELECT TOP(@__p_2) [o].[BookId], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold]
    FROM [OrderDetails] AS [o]
    INNER JOIN [Orders] AS [o0] ON [o].[OrderId] = [o0].[Id]
    INNER JOIN (
        SELECT [b].[Id], [b].[IsDeleted]
        FROM [Books] AS [b]
        WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ) AS [b0] ON [o].[BookId] = [b0].[Id]
    WHERE [o0].[Status] = CAST(3 AS tinyint) AND [o0].[OrderDate] >= @__inclusiveStartDate_0 AND [o0].[OrderDate] < @__inclusiveEndDate_1 AND [b0].[IsDeleted] = CAST(0 AS bit)
    GROUP BY [o].[BookId]
    ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC
) AS [s]
INNER JOIN (
    SELECT [b1].[Id], [b1].[Title]
    FROM [Books] AS [b1]
    WHERE [b1].[IsDeleted] = CAST(0 AS bit)
) AS [b2] ON [s].[BookId] = [b2].[Id]
ORDER BY [s].[TotalQuantitySold] DESC
2025-05-21 17:06:00.207 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@__bestsellerBookIds_0='["ba80e2b5-b426-44eb-acfa-06315f9fcb6b","c191919e-e763-4e03-9e2b-24d944f4d401","39f2e54f-3480-424d-9611-a9b9097314a9","6c50f852-d8c7-4ef9-a26a-c9d292ef9108","6d858026-d70a-4441-8837-01f8d972cb26"]' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Id] IN (
    SELECT [b0].[value]
    FROM OPENJSON(@__bestsellerBookIds_0) WITH ([value] uniqueidentifier '$') AS [b0]
) AND [b].[IsDeleted] = CAST(0 AS bit)
2025-05-21 17:06:00.216 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetched 5 bestselling books.
2025-05-21 17:06:00.221 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__currentDate_0='2025-05-21T10:06:00.2182813Z', @__currentDate_1='2025-05-21T10:06:00.2182813Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Code], [p].[CreatedAtUtc], [p].[CurrentUsage], [p].[Description], [p].[DiscountAmount], [p].[DiscountPercentage], [p].[EndDate], [p].[IsActive], [p].[MaxUsage], [p].[StartDate], [p].[UpdatedAtUtc]
FROM [Promotions] AS [p]
WHERE [p].[IsActive] = CAST(1 AS bit) AND [p].[StartDate] <= @__currentDate_0 AND ([p].[EndDate] IS NULL OR [p].[EndDate] >= @__currentDate_1) AND ([p].[MaxUsage] IS NULL OR [p].[CurrentUsage] < [p].[MaxUsage])
ORDER BY [p].[EndDate]
2025-05-21 17:06:00.228 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[ParentCategoryId] IS NULL AND [c].[IsDeleted] = CAST(0 AS bit)
ORDER BY [c].[Name]
2025-05-21 17:06:00.249 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Successfully fetched home dashboard data.
2025-05-21 17:06:04.191 +07:00 [INF] (Bookstore.Application.Services.ReportService) Fetching admin dashboard summary.
2025-05-21 17:06:04.196 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__todayStart_0='2025-05-21T00:00:00.0000000Z', @__tomorrowStart_1='2025-05-22T00:00:00.0000000Z'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[OrderDate] >= @__todayStart_0 AND [o].[OrderDate] < @__tomorrowStart_1 AND [o].[Status] <> CAST(4 AS tinyint)
2025-05-21 17:06:04.203 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__todayStart_0='2025-05-21T00:00:00.0000000Z', @__tomorrowStart_1='2025-05-22T00:00:00.0000000Z'], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalAmount]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[OrderDate] >= @__todayStart_0 AND [o].[OrderDate] < @__tomorrowStart_1 AND [o].[Status] = CAST(3 AS tinyint)
2025-05-21 17:06:04.221 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__todayStart_0='2025-05-21T00:00:00.0000000Z', @__tomorrowStart_1='2025-05-22T00:00:00.0000000Z'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[CreatedAtUtc] >= @__todayStart_0 AND [u].[CreatedAtUtc] < @__tomorrowStart_1
2025-05-21 17:06:04.228 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__lowStockThreshold_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Books] AS [b]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[IsDeleted] = CAST(0 AS bit) AND [b].[StockQuantity] > 0 AND [b].[StockQuantity] <= @__lowStockThreshold_0
2025-05-21 17:06:04.232 +07:00 [INF] (Bookstore.Application.Services.ReportService) Admin dashboard summary fetched successfully.
2025-05-21 17:06:05.573 +07:00 [INF] (Bookstore.Application.Services.StockReceiptService) Fetching all stock receipts. Page: 1, PageSize: 15
2025-05-21 17:06:05.578 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [s1].[Id], [s1].[CreatedAtUtc], [s1].[Notes], [s1].[ReceiptDate], [s1].[SupplierId], [s1].[UpdatedAtUtc], [s0].[Id], [s0].[Address], [s0].[ContactPerson], [s0].[CreatedAtUtc], [s0].[Email], [s0].[Name], [s0].[Phone], [s0].[UpdatedAtUtc]
FROM (
    SELECT [s].[Id], [s].[CreatedAtUtc], [s].[Notes], [s].[ReceiptDate], [s].[SupplierId], [s].[UpdatedAtUtc]
    FROM [StockReceipts] AS [s]
    ORDER BY [s].[ReceiptDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [s1]
LEFT JOIN [Suppliers] AS [s0] ON [s1].[SupplierId] = [s0].[Id]
ORDER BY [s1].[ReceiptDate] DESC
2025-05-21 17:06:07.741 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit)
ORDER BY [c].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-21 17:06:09.463 +07:00 [INF] (Bookstore.Application.Services.AuthorService) Fetching all authors. Page: 1, PageSize: 15
2025-05-21 17:06:09.463 +07:00 [INF] (Bookstore.Application.Services.AuthorService) Fetching all authors. Page: 1, PageSize: 15
2025-05-21 17:06:09.470 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (5ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Authors] AS [a]
ORDER BY [a].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-21 17:06:09.486 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Authors] AS [a]
ORDER BY [a].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-21 17:06:11.949 +07:00 [INF] (Bookstore.Application.Services.AuthorService) Fetching all authors. Page: 1, PageSize: 15
2025-05-21 17:06:11.952 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Authors] AS [a]
ORDER BY [a].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-21 17:06:13.148 +07:00 [INF] (Bookstore.Application.Services.AuthorService) Fetching all authors. Page: 1, PageSize: 15
2025-05-21 17:06:13.152 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Authors] AS [a]
ORDER BY [a].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-21 17:06:13.936 +07:00 [INF] (Bookstore.Application.Services.AuthorService) Fetching all authors. Page: 1, PageSize: 15
2025-05-21 17:06:13.938 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Authors] AS [a]
ORDER BY [a].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-21 17:06:17.007 +07:00 [INF] (Bookstore.Application.Services.AuthorService) Fetching all authors. Page: 1, PageSize: 15
2025-05-21 17:06:17.010 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Authors] AS [a]
ORDER BY [a].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-21 17:06:17.012 +07:00 [INF] (Bookstore.Application.Services.AuthorService) Fetching all authors. Page: 1, PageSize: 15
2025-05-21 17:06:17.014 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Authors] AS [a]
ORDER BY [a].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-21 17:06:18.037 +07:00 [INF] (Bookstore.Application.Services.AuthorService) Fetching all authors. Page: 1, PageSize: 15
2025-05-21 17:06:18.040 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Authors] AS [a]
ORDER BY [a].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-21 17:06:19.594 +07:00 [INF] (Bookstore.Application.Services.AuthorService) Fetching all authors. Page: 1, PageSize: 15
2025-05-21 17:06:19.597 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Authors] AS [a]
ORDER BY [a].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-21 17:06:19.598 +07:00 [INF] (Bookstore.Application.Services.AuthorService) Fetching all authors. Page: 1, PageSize: 15
2025-05-21 17:06:19.603 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Authors] AS [a]
ORDER BY [a].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-21 17:06:27.923 +07:00 [INF] (Bookstore.Application.Services.AuthorService) Fetching all authors. Page: 1, PageSize: 15
2025-05-21 17:06:27.927 +07:00 [INF] (Bookstore.Application.Services.AuthorService) Fetching all authors. Page: 1, PageSize: 15
2025-05-21 17:06:27.927 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Authors] AS [a]
ORDER BY [a].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-21 17:06:27.929 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Authors] AS [a]
ORDER BY [a].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-21 17:06:28.356 +07:00 [INF] (Bookstore.Application.Services.AuthorService) Fetching all authors. Page: 1, PageSize: 15
2025-05-21 17:06:28.359 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Authors] AS [a]
ORDER BY [a].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-21 17:06:28.360 +07:00 [INF] (Bookstore.Application.Services.AuthorService) Fetching all authors. Page: 1, PageSize: 15
2025-05-21 17:06:28.364 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Authors] AS [a]
ORDER BY [a].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-21 17:06:34.007 +07:00 [INF] (Bookstore.Application.Services.AuthorService) Fetching all authors. Page: 1, PageSize: 15
2025-05-21 17:06:34.010 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Authors] AS [a]
ORDER BY [a].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-21 17:06:34.011 +07:00 [INF] (Bookstore.Application.Services.AuthorService) Fetching all authors. Page: 1, PageSize: 15
2025-05-21 17:06:34.014 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Authors] AS [a]
ORDER BY [a].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-21 17:06:34.454 +07:00 [INF] (Bookstore.Application.Services.AuthorService) Fetching all authors. Page: 1, PageSize: 15
2025-05-21 17:06:34.457 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Authors] AS [a]
ORDER BY [a].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-21 17:06:34.458 +07:00 [INF] (Bookstore.Application.Services.AuthorService) Fetching all authors. Page: 1, PageSize: 15
2025-05-21 17:06:34.462 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Authors] AS [a]
ORDER BY [a].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-21 17:06:40.503 +07:00 [INF] (Bookstore.Application.Services.AuthorService) Attempting to update author "e5f6a1b2-c3d4-4e5f-8a6b-5c4d5e6f7a8b"
2025-05-21 17:06:40.506 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='e5f6a1b2-c3d4-4e5f-8a6b-5c4d5e6f7a8b' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Authors] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-21 17:06:40.511 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__ToLower_0='thinh' (Size = 4000), @__id_1='e5f6a1b2-c3d4-4e5f-8a6b-5c4d5e6f7a8b'], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Authors] AS [a]
WHERE LOWER([a].[Name]) = @__ToLower_0 AND [a].[Id] <> @__id_1
2025-05-21 17:06:40.523 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (9ms) [Parameters=[@p4='e5f6a1b2-c3d4-4e5f-8a6b-5c4d5e6f7a8b', @p0=NULL (Size = 4000), @p1='2025-04-11T16:14:19.0666667', @p2='Thinh' (Nullable = false) (Size = 4000), @p3='2025-05-21T10:06:40.5138972Z'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Authors] SET [Biography] = @p0, [CreatedAtUtc] = @p1, [Name] = @p2, [UpdatedAtUtc] = @p3
OUTPUT 1
WHERE [Id] = @p4;
2025-05-21 17:06:40.527 +07:00 [INF] (Bookstore.Application.Services.AuthorService) Author "e5f6a1b2-c3d4-4e5f-8a6b-5c4d5e6f7a8b" updated successfully.
2025-05-21 17:06:40.560 +07:00 [INF] (Bookstore.Application.Services.AuthorService) Fetching all authors. Page: 1, PageSize: 15
2025-05-21 17:06:40.563 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Authors] AS [a]
ORDER BY [a].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-21 17:06:40.564 +07:00 [INF] (Bookstore.Application.Services.AuthorService) Fetching all authors. Page: 1, PageSize: 15
2025-05-21 17:06:40.568 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Authors] AS [a]
ORDER BY [a].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-21 17:06:44.412 +07:00 [INF] (Bookstore.Application.Services.AuthorService) Fetching all authors. Page: 1, PageSize: 15
2025-05-21 17:06:44.415 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Authors] AS [a]
ORDER BY [a].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-21 17:21:12.731 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetching home dashboard data.
2025-05-21 17:21:12.816 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit)
ORDER BY [b].[CreatedAtUtc] DESC
2025-05-21 17:21:12.821 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetched 10 newest books.
2025-05-21 17:21:12.834 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (10ms) [Parameters=[@__p_2='5', @__inclusiveStartDate_0='2025-04-21T00:00:00.0000000Z', @__inclusiveEndDate_1='2025-05-22T00:00:00.0000000Z'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[BookId], [b2].[Title] AS [BookTitle], [s].[TotalQuantitySold]
FROM (
    SELECT TOP(@__p_2) [o].[BookId], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold]
    FROM [OrderDetails] AS [o]
    INNER JOIN [Orders] AS [o0] ON [o].[OrderId] = [o0].[Id]
    INNER JOIN (
        SELECT [b].[Id], [b].[IsDeleted]
        FROM [Books] AS [b]
        WHERE [b].[IsDeleted] = CAST(0 AS bit)
    ) AS [b0] ON [o].[BookId] = [b0].[Id]
    WHERE [o0].[Status] = CAST(3 AS tinyint) AND [o0].[OrderDate] >= @__inclusiveStartDate_0 AND [o0].[OrderDate] < @__inclusiveEndDate_1 AND [b0].[IsDeleted] = CAST(0 AS bit)
    GROUP BY [o].[BookId]
    ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC
) AS [s]
INNER JOIN (
    SELECT [b1].[Id], [b1].[Title]
    FROM [Books] AS [b1]
    WHERE [b1].[IsDeleted] = CAST(0 AS bit)
) AS [b2] ON [s].[BookId] = [b2].[Id]
ORDER BY [s].[TotalQuantitySold] DESC
2025-05-21 17:21:12.843 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (6ms) [Parameters=[@__bestsellerBookIds_0='["ba80e2b5-b426-44eb-acfa-06315f9fcb6b","c191919e-e763-4e03-9e2b-24d944f4d401","39f2e54f-3480-424d-9611-a9b9097314a9","6c50f852-d8c7-4ef9-a26a-c9d292ef9108","6d858026-d70a-4441-8837-01f8d972cb26"]' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CoverImageUrl], [b].[CreatedAtUtc], [b].[Description], [b].[ISBN], [b].[IsDeleted], [b].[Price], [b].[PublicationYear], [b].[Publisher], [b].[StockQuantity], [b].[Title], [b].[UpdatedAtUtc], [a].[Id], [a].[Biography], [a].[CreatedAtUtc], [a].[Name], [a].[UpdatedAtUtc]
FROM [Books] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Id] IN (
    SELECT [b0].[value]
    FROM OPENJSON(@__bestsellerBookIds_0) WITH ([value] uniqueidentifier '$') AS [b0]
) AND [b].[IsDeleted] = CAST(0 AS bit)
2025-05-21 17:21:12.850 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Fetched 5 bestselling books.
2025-05-21 17:21:12.859 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (8ms) [Parameters=[@__currentDate_0='2025-05-21T10:21:12.8514928Z', @__currentDate_1='2025-05-21T10:21:12.8514928Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Code], [p].[CreatedAtUtc], [p].[CurrentUsage], [p].[Description], [p].[DiscountAmount], [p].[DiscountPercentage], [p].[EndDate], [p].[IsActive], [p].[MaxUsage], [p].[StartDate], [p].[UpdatedAtUtc]
FROM [Promotions] AS [p]
WHERE [p].[IsActive] = CAST(1 AS bit) AND [p].[StartDate] <= @__currentDate_0 AND ([p].[EndDate] IS NULL OR [p].[EndDate] >= @__currentDate_1) AND ([p].[MaxUsage] IS NULL OR [p].[CurrentUsage] < [p].[MaxUsage])
ORDER BY [p].[EndDate]
2025-05-21 17:21:12.878 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[ParentCategoryId] IS NULL AND [c].[IsDeleted] = CAST(0 AS bit)
ORDER BY [c].[Name]
2025-05-21 17:21:12.883 +07:00 [INF] (Bookstore.Application.Services.DashboardService) Successfully fetched home dashboard data.
2025-05-21 17:21:21.487 +07:00 [INF] (Bookstore.Application.Services.ReportService) Fetching admin dashboard summary.
2025-05-21 17:21:21.492 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__todayStart_0='2025-05-21T00:00:00.0000000Z', @__tomorrowStart_1='2025-05-22T00:00:00.0000000Z'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[OrderDate] >= @__todayStart_0 AND [o].[OrderDate] < @__tomorrowStart_1 AND [o].[Status] <> CAST(4 AS tinyint)
2025-05-21 17:21:21.541 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__todayStart_0='2025-05-21T00:00:00.0000000Z', @__tomorrowStart_1='2025-05-22T00:00:00.0000000Z'], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalAmount]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[OrderDate] >= @__todayStart_0 AND [o].[OrderDate] < @__tomorrowStart_1 AND [o].[Status] = CAST(3 AS tinyint)
2025-05-21 17:21:21.556 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__todayStart_0='2025-05-21T00:00:00.0000000Z', @__tomorrowStart_1='2025-05-22T00:00:00.0000000Z'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[CreatedAtUtc] >= @__todayStart_0 AND [u].[CreatedAtUtc] < @__tomorrowStart_1
2025-05-21 17:21:21.562 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__lowStockThreshold_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Books] AS [b]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[IsDeleted] = CAST(0 AS bit) AND [b].[StockQuantity] > 0 AND [b].[StockQuantity] <= @__lowStockThreshold_0
2025-05-21 17:21:21.564 +07:00 [INF] (Bookstore.Application.Services.ReportService) Admin dashboard summary fetched successfully.
2025-05-21 17:21:22.566 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit)
ORDER BY [c].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-21 17:21:22.580 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit)
ORDER BY [c].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-21 17:21:24.323 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (6ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit)
ORDER BY [c].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-21 17:21:26.047 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (21ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit)
ORDER BY [c].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-21 17:21:26.772 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (5ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit)
ORDER BY [c].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-21 17:21:27.772 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@__p_0='0', @__p_1='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit)
ORDER BY [c].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-21 17:21:27.825 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__p_0='707f89a4-da65-4b5e-a890-485a3b929301' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__p_0
2025-05-21 17:21:33.874 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (5ms) [Parameters=[@__p_0='707f89a4-da65-4b5e-a890-485a3b929301' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__p_0
2025-05-21 17:21:33.899 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (19ms) [Parameters=[@p6='707f89a4-da65-4b5e-a890-485a3b929301', @p0='2025-04-25T10:58:52.4200000', @p1='Books showcasing visual arts and photography.' (Size = 4000), @p2='False', @p3='Art & Photographooo' (Nullable = false) (Size = 4000), @p4=NULL (DbType = Guid), @p5='2025-05-21T10:21:33.8784758Z'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Categories] SET [CreatedAtUtc] = @p0, [Description] = @p1, [IsDeleted] = @p2, [Name] = @p3, [ParentCategoryId] = @p4, [UpdatedAtUtc] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2025-05-21 17:21:34.151 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit)
ORDER BY [c].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-21 17:21:34.187 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit)
ORDER BY [c].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-21 17:21:36.370 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (14ms) [Parameters=[@__p_0='0', @__p_1='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Description], [c].[IsDeleted], [c].[Name], [c].[ParentCategoryId], [c].[UpdatedAtUtc]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit)
ORDER BY [c].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
